"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9616],{92003:function(e){e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:n=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof n)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let r=!1;return new Promise((a=>{function s(){if(r)return;r=!0,window.removeEventListener("ethereum#initialized",s);const{ethereum:n}=window;if(!n||e&&!n.isMetaMask){const r=e&&n?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",r),a(null)}else a(n)}window.ethereum?s():(window.addEventListener("ethereum#initialized",s,{once:!0}),setTimeout((()=>{s()}),n))}))}},85971:function(e,t,n){var r=(0,n(54442).getDvaApp)()._store;t.Z=r},1767:function(e,t,n){n.r(t);var r=n(42122),a=n.n(r),s=n(17061),c=n.n(s),o=n(17156),i=n.n(o),u=n(27424),l=n.n(u),f=n(60173),d=n(85725),p=n(64119),h=n(87659),m=n(38345),x=n(92003),v=n.n(x),b=n(54442),w=n(2453),g=n(98293),k=n(71577),y=n(56371),j=n(62435),N=n(86074);t.default=function(){var e=(0,b.useSelector)((function(e){return e.chainList.chainList})),t=w.ZP.useMessage(),r=l()(t,2),s=r[0],o=r[1],u=(0,j.useState)(-1),x=l()(u,2),M=x[0],C=x[1],L=(0,b.useDispatch)(),E=(0,b.useSelector)((function(e){return e.chainList.address})),S=(0,b.useSelector)((function(e){return e.chainList.connected})),Z=(0,b.useIntl)(),P=Z.formatMessage({id:"chainList.MultipleWallets"}),I=Z.formatMessage({id:"chainList.InstallMetaMask"}),A=Z.formatMessage({id:"chainList.AddCompleted"}),z=Z.formatMessage({id:"chainList.AddFail"}),O=Z.formatMessage({id:"chainList.ChainId"}),U=Z.formatMessage({id:"chainList.Currency"}),_=Z.formatMessage({id:"chainList.AddToMetaMask"}),J=Z.formatMessage({id:"chainList.ConnectWallet"}),D=(0,j.useCallback)(function(){var e=i()(c()().mark((function e(t){var n,r,a,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){return C(-1)},C(t),e.next=4,v()();case 4:if(!(r=e.sent)||!window.ethereum){e.next=18;break}if(r===window.ethereum){e.next=10;break}s.error("".concat(P),5),e.next=16;break;case 10:return e.next=12,(0,p.Hj)(window.ethereum.request({method:"eth_requestAccounts"}),n);case 12:a=e.sent,o=a&&a.length>0?(0,y.getAddress)(a[0]):null,L(d.N.setAddress(o)),L(d.N.setConnected(!0));case 16:e.next=19;break;case 18:s.error("".concat(I),5);case 19:C(-1);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[L]),q=(0,j.useCallback)(function(){var e=i()(c()().mark((function e(t,n){var r,a;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=function(){return C(-1)},C(t),a={chainId:n.chainId,chainName:n.chainName,nativeCurrency:n.nativeCurrency,rpcUrls:n.rpcUrls,blockExplorerUrls:n.blockExplorerUrls},!window.ethereum){e.next=10;break}return e.next=6,(0,p.Hj)(window.ethereum.request({method:"wallet_addEthereumChain",params:[a,E]}),r);case 6:null===e.sent?s.success("".concat(A)):s.error("".concat(z)),e.next=11;break;case 10:s.error("".concat(I),5);case 11:C(-1);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[E]),B=(0,j.useCallback)((function(){for(var e=[],t=f,r=0;r<t.length;r++)if(!t[r].chainName.includes("StarkNet")){var s=n(61035)("./"+t[r].logo);e.push(a()(a()({},t[r]),{},{logo:s}))}L(d.N.setChainList(e))}),[f]);return(0,j.useEffect)((function(){e.length&&B()}),[B]),(0,N.jsx)(h._z,{className:"chainList",ghost:!0,children:(0,N.jsxs)("div",{className:"flex flex-wrap justify-evenly",children:[e.map((function(e,t){return(0,N.jsxs)(m.Z,{bordered:!0,style:{width:"480px",marginBottom:"18px"},children:[(0,N.jsxs)("div",{className:"flex items-center",children:[(0,N.jsx)(g.C,{size:"large",src:e.logo}),(0,N.jsx)("span",{className:"font-bold text-lg ml-4",children:e.chainName})]}),(0,N.jsxs)("div",{className:"flex justify-evenly mt-2",children:[(0,N.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,N.jsx)("div",{className:"text-base",children:O}),(0,N.jsx)("div",{className:"font-bold text-base mt-1",children:"".concat(e.chainIdDec," (").concat(e.chainId,")")})]}),(0,N.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,N.jsx)("div",{className:"text-base",children:U}),(0,N.jsx)("div",{className:"font-bold text-base mt-1",children:e.nativeCurrency.symbol})]})]}),(0,N.jsx)("div",{className:"flex justify-center mt-10 mb-2",children:S?(0,N.jsx)(k.ZP,{shape:"round",size:"large",block:!0,disabled:M===t,loading:M===t,onClick:function(){return q(t,e)},children:_}):(0,N.jsx)(k.ZP,{shape:"round",size:"large",block:!0,disabled:M===t,loading:M===t,onClick:function(){return D(t)},children:J})})]},t)})),o]})})}},64119:function(e,t,n){n.d(t,{CE:function(){return x},D0:function(){return w},Hj:function(){return j},IU:function(){return k},Mn:function(){return M},pM:function(){return E},su:function(){return C},zI:function(){return v}});var r=n(27424),a=n.n(r),s=n(17061),c=n.n(s),o=n(18698),i=n.n(o),u=n(17156),l=n.n(u),f=n(85971),d=n(2453),p=n(9669),h=n.n(p);function m(){return f.Z.getState().global.nodeConfig.url}function x(e,t){var n=t||"",r=e,a=Number(r)<1;if("number"==typeof r&&(r=r.toString()),a){var s=/0\.(0{4,})/,c=/\d+\.0*\d{3}/.exec(r);if(r=c?c[0]:r,c=s.exec(r)){var o=c[1].length;return n+r.replace(s,"0.0{"+o+"}")}return n+r}return n+Number(r).toLocaleString()}function v(e){return b.apply(this,arguments)}function b(){return(b=l()(c()().mark((function e(t){var n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",[null,n]);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}return console.log(e.t0),e.abrupt("return",[e.t0.message,null]);case 14:if(console.log(e.t0),"object"!==i()(e.t0)){e.next=19;break}return e.abrupt("return",[JSON.stringify(e.t0),null]);case 19:return e.abrupt("return",[e.t0,null]);case 20:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return(g=l()(c()().mark((function e(t){var n;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=m(),e.next=3,v(h().post("".concat(n,"/v1/chain/get_account"),JSON.stringify(t)));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return y.apply(this,arguments)}function y(){return(y=l()(c()().mark((function e(t,n){var r;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=15;break}throw console.log(e.t0),d.ZP.error({content:n||e.t0.message,duration:5}),e.t0;case 15:throw console.log(e.t0),"object"===i()(e.t0)?d.ZP.error({content:n||JSON.stringify(e.t0),duration:5}):d.ZP.error({content:n||e.t0,duration:5}),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(e,t,n){return N.apply(this,arguments)}function N(){return(N=l()(c()().mark((function e(t,n,r){var a,s,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!=n?n:function(){},e.prev=1,e.next=4,t;case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof Error)){e.next=17;break}throw console.log(e.t0),a(),d.ZP.error({content:r||e.t0.message,duration:5}),e.t0;case 17:throw console.log(e.t0),"object"===i()(e.t0)?(o="",o=e.t0.hasOwnProperty("message")?e.t0.message:JSON.stringify(e.t0),d.ZP.error({content:r||o,duration:5})):d.ZP.error({content:r||e.t0,duration:5}),a(),e.t0;case 21:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function M(){var e=navigator.userAgent;return/mobile/i.test(e)}function C(e){return L.apply(this,arguments)}function L(){return(L=l()(c()().mark((function e(t){var n,r,s,o;return c()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=null,e.next=3,v(h().get("".concat(t,"/v1/chain/get_info"),{timeout:1e4}));case 3:return s=e.sent,o=a()(s,2),n=o[0],r=o[1],e.abrupt("return",[n,r]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!==i()(t)||!t)}catch(e){return!1}}}}]);