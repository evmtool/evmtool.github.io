"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1718],{41718:function(e,t,r){r.d(t,{l8:function(){return Ze},Gb:function(){return Be},el:function(){return pe},SE:function(){return ie},Wk:function(){return me},KI:function(){return ue},R7:function(){return le},_x:function(){return I},km:function(){return F},IY:function(){return _},ul:function(){return O},L6:function(){return Vt},KD:function(){return Te},A$:function(){return Ie},TO:function(){return Ee},O$:function(){return Le},O9:function(){return K},E1:function(){return ne},u0:function(){return re},eg:function(){return ee},hD:function(){return Lt},uO:function(){return _t},Wr:function(){return it},cn:function(){return wt},$R:function(){return Nt},h5:function(){return yt},Nj:function(){return Pt},t8:function(){return At},xr:function(){return st},iH:function(){return Rt},$m:function(){return Ht},Zk:function(){return Gt},sH:function(){return be},TV:function(){return we},bJ:function(){return ve},RB:function(){return ge},Vz:function(){return $},yu:function(){return q},at:function(){return z},h0:function(){return W}});var a=r(861),n=r.n(a),s=r(38416),o=r.n(s),i=r(42122),c=r.n(i),l=r(17061),d=r.n(l),u=r(17156),f=r.n(u),m=r(27424),x=r.n(m),h=r(54442),p=r(62435),y=r(31120),b=r(64119),k=r(71993),g=r(52847),N=r(27484),v=r.n(N),S=r(86074),w=r(32983),j=r(78677),T=r(70178),C=r.n(T),L=r(38823),D=r.n(L),E=r(2593);v().extend(C()),v().extend(D());var P=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.transferListData})),i=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],b=(0,h.useDispatch)(),g={data:m,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},N=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,i,c,l,u,f,m,x,h;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},i=new Set,c=0,l={},u={},f={},m=e.address,s.hasOwnProperty(m)&&o.hasOwnProperty(m)){for(x in s[m].forEach((function(e){var t=o[m].filter((function(t){return t.transactionHash===e.hash}));if(e.isL1Originated){var r=t[0].tokenAddress,n=t[0].amount,s=t[0].token;return l.hasOwnProperty(r)||(l[r]={amount:E.O$.from("0"),count:0,token:null}),l[r].amount=l[r].amount.add(E.O$.from(n)),++l[r].count,void(l[r].token=s)}if(e.from===m){var d=v()(e.receivedAt).local().format().substring(0,10);if(a.hasOwnProperty(d)||(a[d]=0),a[d]+=1,c+=1,i.add(e.to),t.length&&t.forEach((function(e){if("withdrawal"===e.type){var t=e.tokenAddress,r=e.token,a=e.amount;u.hasOwnProperty(t)||(u[t]={amount:E.O$.from("0"),count:0,token:null}),u[t].amount=u[t].amount.add(E.O$.from(a)),++u[t].count,u[t].token=r}})),t.length)for(var x=0;x<t.length;x++){var h=t[x],p=h.tokenAddress,y=h.amount;null!==h.token&&(h.from===m&&(f.hasOwnProperty(p)||(f[p]=E.O$.from("0")),f[p]=f[p].add(E.O$.from(y))))}}})),a)a.hasOwnProperty(x)&&r.push({date:x,count:a[x],category:"Daily TX"});c?(h=Object.keys(a).length,b(k.N.setTotalDays(h)),b(k.N.setAveDailyTx(c/h)),b(k.N.setTotalTx(c)),b(k.N.setTotalContracts(i.size))):(b(k.N.setAveDailyTx(0)),b(k.N.setAveWeeklyTx(0)),b(k.N.setAveMonthlyTx(0)),b(k.N.setTotalDays(0)),b(k.N.setTotalWeeks(0)),b(k.N.setTotalMonths(0)),b(k.N.setTotalTx(0)),b(k.N.setTotalContracts(0)))}b(k.N.setTransValue(f)),b(k.N.setL1ToL2Value(l)),b(k.N.setL2ToL1Value(u)),y(r),n(!1);case 15:case"end":return t.stop()}}),t)}))),[s,o,i,e]);return(0,p.useEffect)((function(){N()}),[N,e]),(0,S.jsx)(S.Fragment,{children:m.length?(0,S.jsx)(j.Z,c()(c()({},g),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},I=(0,p.memo)(P);v().extend(C()),v().extend(D());var A=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.transferListData})),i=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],b=(0,h.useDispatch)(),g={data:m,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},N=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,i,c,l,u,f,m,x,h;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},i=new Set,c=0,l={},u={},f={},m=e.address,s.hasOwnProperty(m)&&o.hasOwnProperty(m)){for(x in o[m].forEach((function(e){if(e.transfer_from_address===m){var t=e.from_address,r=e.transfer_amount_display;f.hasOwnProperty(t)||(f[t]=0),f[t]=f[t]+Number(r)}if("0x0000000000000000000000000000000000000000000000000000000000000000"===e.transfer_from_address&&"handle_deposit"===e.main_call.selector_identifier){var a=e.from_address,n=e.transfer_amount_display,s={tokenAddress:e.from_address,identifier:e.from_erc20_identifier};return l.hasOwnProperty(a)||(l[a]={amount:0,count:0,token:null}),l[a].amount+=Number(n),++l[a].count,void(l[a].token=s)}if(e.transfer_from_address===m&&"initiate_withdraw"===e.main_call.selector_identifier){var o=e.from_address,i=e.transfer_amount_display,c={tokenAddress:e.from_address,identifier:e.from_erc20_identifier};return u.hasOwnProperty(o)||(u[o]={amount:0,count:0,token:null}),u[o].amount+=Number(i),++u[o].count,void(u[o].token=c)}})),s[m].forEach((function(e){var t=v().unix(e.timestamp).local().format().substring(0,10);a.hasOwnProperty(t)||(a[t]=0),a[t]+=1,c+=1,e.main_calls.forEach((function(e){i.add(e.contract_address)}))})),a)a.hasOwnProperty(x)&&r.push({date:x,count:a[x],category:"Daily TX"});c?(h=Object.keys(a).length,b(k.N.setTotalDays(h)),b(k.N.setAveDailyTx(c/h)),b(k.N.setTotalTx(c)),b(k.N.setTotalContracts(i.size))):(b(k.N.setAveDailyTx(0)),b(k.N.setAveWeeklyTx(0)),b(k.N.setAveMonthlyTx(0)),b(k.N.setTotalDays(0)),b(k.N.setTotalWeeks(0)),b(k.N.setTotalMonths(0)),b(k.N.setTotalTx(0)),b(k.N.setTotalContracts(0)))}b(k.N.setTransValue(f)),b(k.N.setL1ToL2Value(l)),b(k.N.setL2ToL1Value(u)),y(r),n(!1);case 15:case"end":return t.stop()}}),t)}))),[s,o,i,e]);return(0,p.useEffect)((function(){N()}),[N,e]),(0,S.jsx)(S.Fragment,{children:m.length?(0,S.jsx)(j.Z,c()(c()({},g),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},O=(0,p.memo)(A);v().extend(C()),v().extend(D());var M=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.ethTxListData})),i=(0,h.useSelector)((function(e){return e.analysis.transferListData})),l=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),u=(0,p.useState)([]),m=x()(u,2),y=m[0],b=m[1],g=(0,h.useDispatch)(),N={data:y,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},T=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,c,l,u,f,m,x,h,p;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},c=new Set,l=0,u={},f={},m={},x=e.address,s.hasOwnProperty(x)&&i.hasOwnProperty(x)&&o.hasOwnProperty(x)){for(h in o[x].forEach((function(e){if(e.from===x.toLowerCase()&&"0xd19d4b5d358258f05d7b411e21a1460d11b0876f"===e.to){var t="0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec",r=e.value;u.hasOwnProperty(t)||(u[t]={amount:E.O$.from("0"),count:0,token:null}),u[t].amount=u[t].amount.add(E.O$.from(r)),++u[t].count,u[t].token={symbol:"ETH",name:"ETH",decimals:18}}})),i[x].forEach((function(e){if(e.from===x.toLowerCase()){var t=e.contractAddress,r=e.value;m.hasOwnProperty(t)||(m[t]=0),m[t]=m[t]+Number(r)}})),s[x].forEach((function(e){if(e.from===x.toLowerCase()){var t=v().unix(Number(e.timeStamp)).local().format().substring(0,10);if(a.hasOwnProperty(t)||(a[t]=0),a[t]+=1,l+=1,c.add(e.to),"0x508ca82df566dcd1b0de8296e70a96332cd644ec"===e.to){var r="0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec",n=e.value;f.hasOwnProperty(r)||(f[r]={amount:E.O$.from("0"),count:0,token:null}),f[r].amount=f[r].amount.add(E.O$.from(n)),++f[r].count,f[r].token={symbol:"ETH",name:"ETH",decimals:18}}}})),a)a.hasOwnProperty(h)&&r.push({date:h,count:a[h],category:"Daily TX"});l?(p=Object.keys(a).length,g(k.N.setTotalDays(p)),g(k.N.setAveDailyTx(l/p)),g(k.N.setTotalTx(l)),g(k.N.setTotalContracts(c.size))):(g(k.N.setAveDailyTx(0)),g(k.N.setAveWeeklyTx(0)),g(k.N.setAveMonthlyTx(0)),g(k.N.setTotalDays(0)),g(k.N.setTotalWeeks(0)),g(k.N.setTotalMonths(0)),g(k.N.setTotalTx(0)),g(k.N.setTotalContracts(0)))}g(k.N.setTransValue(m)),g(k.N.setL1ToL2Value(u)),g(k.N.setL2ToL1Value(f)),b(r),n(!1);case 15:case"end":return t.stop()}}),t)}))),[s,o,i,l,e]);return(0,p.useEffect)((function(){T()}),[T,e]),(0,S.jsx)(S.Fragment,{children:y.length?(0,S.jsx)(j.Z,c()(c()({},N),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},_=(0,p.memo)(M);v().extend(C()),v().extend(D());var Z=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.ethTxListData})),i=(0,h.useSelector)((function(e){return e.analysis.transferListData})),l=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),u=(0,p.useState)([]),m=x()(u,2),y=m[0],b=m[1],g=(0,h.useDispatch)(),N={data:y,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},T=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,c,l,u,f,m,x,h,p;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},c=new Set,l=0,u={},f={},m={},x=e.address,s.hasOwnProperty(x)&&i.hasOwnProperty(x)&&o.hasOwnProperty(x)){for(h in o[x].forEach((function(e){if(e.from===x.toLowerCase()&&"0x49048044d57e1c92a77f79988d21fa8faf74e97e"===e.to){var t="0x4200000000000000000000000000000000000010",r=e.value;u.hasOwnProperty(t)||(u[t]={amount:E.O$.from("0"),count:0,token:null}),u[t].amount=u[t].amount.add(E.O$.from(r)),++u[t].count,u[t].token={symbol:"ETH",name:"ETH",decimals:18}}})),i[x].forEach((function(e){if(e.from===x.toLowerCase()){var t=e.contractAddress,r=e.value;m.hasOwnProperty(t)||(m[t]=0),m[t]=m[t]+Number(r)}})),s[x].forEach((function(e){if(e.from===x.toLowerCase()){var t=v().unix(Number(e.timeStamp)).local().format().substring(0,10);if(a.hasOwnProperty(t)||(a[t]=0),a[t]+=1,l+=1,c.add(e.to),"0x4200000000000000000000000000000000000010"===e.to){var r="0x4200000000000000000000000000000000000010",n=e.value;f.hasOwnProperty(r)||(f[r]={amount:E.O$.from("0"),count:0,token:null}),f[r].amount=f[r].amount.add(E.O$.from(n)),++f[r].count,f[r].token={symbol:"ETH",name:"ETH",decimals:18}}}})),a)a.hasOwnProperty(h)&&r.push({date:h,count:a[h],category:"Daily TX"});l?(p=Object.keys(a).length,g(k.N.setTotalDays(p)),g(k.N.setAveDailyTx(l/p)),g(k.N.setTotalTx(l)),g(k.N.setTotalContracts(c.size))):(g(k.N.setAveDailyTx(0)),g(k.N.setAveWeeklyTx(0)),g(k.N.setAveMonthlyTx(0)),g(k.N.setTotalDays(0)),g(k.N.setTotalWeeks(0)),g(k.N.setTotalMonths(0)),g(k.N.setTotalTx(0)),g(k.N.setTotalContracts(0)))}g(k.N.setTransValue(m)),g(k.N.setL1ToL2Value(u)),g(k.N.setL2ToL1Value(f)),b(r),n(!1);case 15:case"end":return t.stop()}}),t)}))),[s,o,i,l,e]);return(0,p.useEffect)((function(){T()}),[T,e]),(0,S.jsx)(S.Fragment,{children:y.length?(0,S.jsx)(j.Z,c()(c()({},N),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},F=(0,p.memo)(Z),B=r(28734),U=r.n(B),V=r(83848),Y=r.n(V);v().extend(C()),v().extend(U()),v().extend(Y());var G=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address;if(!t.isL1Originated&&t.from===r){var n=v()(t.receivedAt).local().format("YYYY-ww");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Weekly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalWeeks(c)),y(k.N.setAveWeeklyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},$=(0,p.memo)(G);v().extend(C()),v().extend(U()),v().extend(Y());var H=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(e){var t=v().unix(e.timestamp).local().format("YYYY-ww");a.hasOwnProperty(t)||(a[t]=0),a[t]+=1,o+=1})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Weekly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalWeeks(c)),y(k.N.setAveWeeklyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},W=(0,p.memo)(H);v().extend(C()),v().extend(U()),v().extend(Y());var R=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-ww");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Weekly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalWeeks(c)),y(k.N.setAveWeeklyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},z=(0,p.memo)(R);v().extend(C()),v().extend(U()),v().extend(Y());var J=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-ww");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Weekly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalWeeks(c)),y(k.N.setAveWeeklyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},q=(0,p.memo)(J);v().extend(C());var X=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address;if(!t.isL1Originated&&t.from===r){var n=v()(t.receivedAt).local().format("YYYY-MM");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Monthly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalMonths(c)),y(k.N.setAveMonthlyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},K=(0,p.memo)(X);v().extend(C());var Q=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(e){var t=v().unix(e.timestamp).local().format("YYYY-MM");a.hasOwnProperty(t)||(a[t]=0),a[t]+=1,o+=1})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Monthly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalMonths(c)),y(k.N.setAveMonthlyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ee=(0,p.memo)(Q);v().extend(C());var te=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-MM");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Monthly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalMonths(c)),y(k.N.setAveMonthlyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},re=(0,p.memo)(te);v().extend(C());var ae=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)([]),l=x()(i,2),u=l[0],m=l[1],y=(0,h.useDispatch)(),b={data:u,xField:"date",maxColumnWidth:10,yField:"count",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},g=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address)){for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-MM");a.hasOwnProperty(n)||(a[n]=0),a[n]+=1,o+=1}})),a)a.hasOwnProperty(i)&&r.push({date:i,count:a[i],category:"Monthly TX"});o&&(c=Object.keys(a).length,y(k.N.setTotalMonths(c)),y(k.N.setAveMonthlyTx(o/c)))}m(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,o,e]);return(0,p.useEffect)((function(){g()}),[g]),(0,S.jsx)(S.Fragment,{children:u.length?(0,S.jsx)(j.Z,c()(c()({},b),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ne=(0,p.memo)(ae),se=r(61744);v().extend(C()),v().extend(D());var oe=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.dailyGasSource})),i=(0,h.useDispatch)(),l={data:o,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},u=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,c,l;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(c in s[e.address].forEach((function(t){var r=e.address;if(!t.isL1Originated&&t.from===r){var n=v()(t.receivedAt).local().format().substring(0,10),s=E.O$.from(t.fee);a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(c)&&(l=Number(se.formatEther(a[c].fee))*e.tokenPrice,o+=l,r.push({date:c,gasCost:l.toFixed(1),gasCostSum:o.toFixed(1),category:"Daily Gas"}));i(k.N.setTotalGasFee(o)),i(k.N.setDailyGasSource(r)),n(!1);case 8:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){u()}),[u]),(0,S.jsx)(S.Fragment,{children:o.length?(0,S.jsx)(j.Z,c()(c()({},l),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ie=(0,p.memo)(oe);v().extend(C()),v().extend(D());var ce=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.dailyGasSource})),i=(0,h.useDispatch)(),l={data:o,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},u=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,c,l;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(c in s[e.address].forEach((function(e){var t=v().unix(e.timestamp).local().format().substring(0,10),r=Number(e.actual_fee_display);a.hasOwnProperty(t)||(a[t]={fee:0}),a[t].fee+=r})),a)a.hasOwnProperty(c)&&(l=a[c].fee*e.tokenPrice,o+=l,r.push({date:c,gasCost:l.toFixed(1),gasCostSum:o.toFixed(1),category:"Daily Gas"}));i(k.N.setTotalGasFee(o)),i(k.N.setDailyGasSource(r)),n(!1);case 8:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){u()}),[u]),(0,S.jsx)(S.Fragment,{children:o.length?(0,S.jsx)(j.Z,c()(c()({},l),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},le=(0,p.memo)(ce);v().extend(C()),v().extend(D());var de=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.dailyGasSource})),i=(0,h.useDispatch)(),l={data:o,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},u=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,c,l;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(c in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format().substring(0,10),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(c)&&(l=Number(se.formatEther(a[c].fee))*e.tokenPrice,o+=l,r.push({date:c,gasCost:l.toFixed(1),gasCostSum:o.toFixed(1),category:"Daily Gas"}));i(k.N.setTotalGasFee(o)),i(k.N.setDailyGasSource(r)),n(!1);case 8:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){u()}),[u]),(0,S.jsx)(S.Fragment,{children:o.length?(0,S.jsx)(j.Z,c()(c()({},l),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ue=(0,p.memo)(de);v().extend(C()),v().extend(D());var fe=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,h.useSelector)((function(e){return e.analysis.dailyGasSource})),i=(0,h.useDispatch)(),l={data:o,xField:"date",xAxis:{type:"time",mask:"MM-DD"},maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},u=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,c,l;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(c in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format().substring(0,10),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(c)&&(l=Number(se.formatEther(a[c].fee))*e.tokenPrice,o+=l,r.push({date:c,gasCost:l.toFixed(1),gasCostSum:o.toFixed(1),category:"Daily Gas"}));i(k.N.setTotalGasFee(o)),i(k.N.setDailyGasSource(r)),n(!1);case 8:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){u()}),[u]),(0,S.jsx)(S.Fragment,{children:o.length?(0,S.jsx)(j.Z,c()(c()({},l),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},me=(0,p.memo)(fe),xe=r(64183),he=function(){var e=(0,h.useSelector)((function(e){return e.analysis.dailyGasSource})),t={data:e,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"gasCostSum",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},seriesField:"category",slider:{start:0,end:1},smooth:!0,label:{}};return(0,S.jsx)(S.Fragment,{children:e.length?(0,S.jsx)(xe.Z,c()({},t)):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},pe=(0,p.memo)(he);v().extend(C()),v().extend(U()),v().extend(Y());var ye=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address;if(!t.isL1Originated&&t.from===r){var n=v()(t.receivedAt).local().format("YYYY-ww"),s=E.O$.from(t.fee);a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Weekly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},be=(0,p.memo)(ye);v().extend(C()),v().extend(U()),v().extend(Y());var ke=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(e){var t=v().unix(e.timestamp).local().format("YYYY-ww"),r=Number(e.actual_fee_display);a.hasOwnProperty(t)||(a[t]={fee:0}),a[t].fee+=r})),a)a.hasOwnProperty(i)&&(c=a[i].fee*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Weekly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ge=(0,p.memo)(ke);v().extend(C()),v().extend(U()),v().extend(Y());var Ne=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-ww"),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Weekly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},ve=(0,p.memo)(Ne);v().extend(C()),v().extend(U()),v().extend(Y());var Se=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-ww"),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Weekly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},we=(0,p.memo)(Se);v().extend(C());var je=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address;if(!t.isL1Originated&&t.from===r){var n=v()(t.receivedAt).local().format("YYYY-MM"),s=E.O$.from(t.fee);a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Monthly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},Te=(0,p.memo)(je);v().extend(C());var Ce=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(e){var t=v().unix(e.timestamp).local().format("YYYY-MM"),r=Number(e.actual_fee_display);a.hasOwnProperty(t)||(a[t]={fee:0}),a[t].fee+=r})),a)a.hasOwnProperty(i)&&(c=a[i].fee*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Monthly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},Le=(0,p.memo)(Ce);v().extend(C());var De=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-MM"),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Monthly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},Ee=(0,p.memo)(De);v().extend(C());var Pe=function(e){var t=(0,p.useState)(!1),r=x()(t,2),a=r[0],n=r[1],s=(0,h.useSelector)((function(e){return e.analysis.txListData})),o=(0,p.useState)([]),i=x()(o,2),l=i[0],u=i[1],m={data:l,xField:"date",maxColumnWidth:10,yField:"gasCost",yAxis:{type:"pow",label:{formatter:function(e){return Number(e).toFixed(2)}}},slider:{start:0,end:1},label:{position:"top"}},y=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(!0),r=[],a={},o=0,s.hasOwnProperty(e.address))for(i in s[e.address].forEach((function(t){var r=e.address.toLowerCase();if(t.from===r){var n=v().unix(Number(t.timeStamp)).local().format("YYYY-MM"),s=E.O$.from(t.gasUsed).mul(E.O$.from(t.gasPrice));a.hasOwnProperty(n)||(a[n]={fee:E.O$.from("0")}),a[n].fee=a[n].fee.add(s)}})),a)a.hasOwnProperty(i)&&(c=Number(se.formatEther(a[i].fee))*e.tokenPrice,o+=c,r.push({date:i,gasCost:c.toFixed(1),gasCostSum:o.toFixed(1),category:"Monthly Gas"}));u(r),n(!1);case 7:case"end":return t.stop()}}),t)}))),[s,e]);return(0,p.useEffect)((function(){y()}),[y]),(0,S.jsx)(S.Fragment,{children:l.length?(0,S.jsx)(j.Z,c()(c()({},m),{},{loading:a})):(0,S.jsx)(w.Z,{image:w.Z.PRESENTED_IMAGE_SIMPLE})})},Ie=(0,p.memo)(Pe),Ae=r(95750),Oe=r(98293),Me=r(88313),_e=function(e){var t=(0,h.useSelector)((function(e){return e.analysis.assetListData})),r=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),a=(0,h.useSelector)((function(e){return e.analysis.l1ToL2Value})),n=(0,h.useSelector)((function(e){return e.analysis.l2ToL1Value})),s=(0,h.useSelector)((function(e){return e.analysis.transValue})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)(!1),c=x()(i,2),l=c[0],u=c[1],m=(0,p.useState)([]),y=x()(m,2),b=y[0],k=y[1],g=(0,h.useIntl)(),N=g.formatMessage({id:"analysis.Assets"}),v=g.formatMessage({id:"analysis.Contract"}),w=g.formatMessage({id:"analysis.Balance"}),j=g.formatMessage({id:"analysis.L1ToL2Count"}),T=g.formatMessage({id:"analysis.L2ToL1Count"}),C=g.formatMessage({id:"analysis.TransValue"}),L=g.formatMessage({id:"analysis.Summary"}),D=(0,p.useMemo)((function(){return[{title:"".concat(N),dataIndex:"logo",key:"logo",sorter:function(e,t){return e.symbol.localeCompare(t.symbol)},fixed:!0,width:"80",align:"center",render:function(e,t){return(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(Oe.C,{className:"mr-2",size:"small",src:t.logo}),(0,S.jsx)("a",{href:"".concat(o.blockExplorerUrls[0],"/address/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.symbol})]})}},{title:"".concat(w),dataIndex:"balance",key:"balance",sorter:function(e,t){var r=se.formatUnits(e.balance,e.decimals),a=se.formatUnits(t.balance,t.decimals);return Number(r)*Number(e.usdPrice)-Number(a)*Number(t.usdPrice)},render:function(e,t){var r=se.formatUnits(t.balance,t.decimals),a=Number(r)*Number(t.usdPrice);return(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(r).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",a.toFixed(3)]})]})}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",render:function(e,t){var r="0",a=0;return t.l1ToL2Value.hasOwnProperty(t.address)&&(r=se.formatUnits(t.l1ToL2Value[t.address].amount,t.decimals),a=Number(r)*Number(t.usdPrice)),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(r).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",a.toFixed(2)]})]})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",render:function(e,t){var r="0",a=0;return t.l2ToL1Value.hasOwnProperty(t.address)&&(r=se.formatUnits(t.l2ToL1Value[t.address].amount,t.decimals),a=Number(r)*Number(t.usdPrice)),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(r).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",a.toFixed(2)]})]})}},{title:"".concat(j),dataIndex:"l1ToL2Value",key:"l1ToL2Value",render:function(e,t){var r=0;return t.l1ToL2Value.hasOwnProperty(t.address)&&(r=t.l1ToL2Value[t.address].count),(0,S.jsx)("div",{children:r})}},{title:"".concat(T),dataIndex:"l2ToL1Value",key:"l2ToL1Value",render:function(e,t){var r=0;return t.l2ToL1Value.hasOwnProperty(t.address)&&(r=t.l2ToL1Value[t.address].count),(0,S.jsx)("div",{children:r})}},{title:"".concat(C),dataIndex:"transValue",key:"transValue",render:function(e,t){var r="0",a=0;return t.transValue.hasOwnProperty(t.address)&&(r=se.formatUnits(t.transValue[t.address],t.decimals),a=Number(r)*Number(t.usdPrice)),(0,S.jsx)("div",{children:(0,S.jsxs)("div",{children:["$",a.toFixed(2)]})})}},{title:"".concat(v),dataIndex:"address",key:"address",copyable:!0,ellipsis:!0}]}),[l]),E=(0,p.useCallback)(f()(d()().mark((function o(){var i;return d()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:u(!0),i=[],t.hasOwnProperty(e.address)&&r.length&&t[e.address].forEach((function(e,t){var o="0",c="https://explorer.zksync.io/images/currencies/customToken.svg",l=r.filter((function(t){return t.address===e.l2Address}));l.length&&(o=l[0].price,c="https://firebasestorage.googleapis.com/v0/b/token-library.appspot.com/o/".concat(e.symbol.toLowerCase(),".svg?alt=media")),i.push({key:t,logo:c,name:e.name,symbol:e.symbol,address:e.l2Address,decimals:e.decimals,balance:e.balance,usdPrice:o,l1ToL2Value:a,l2ToL1Value:n,transValue:s})})),k(i),u(!1);case 5:case"end":return o.stop()}}),o)}))),[t,e,a,n,s,r]);return(0,p.useEffect)((function(){E()}),[E]),(0,S.jsx)("div",{className:"analysisAsset",children:(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:D,dataSource:b,defaultData:[],search:!1,options:!1,pagination:!1,loading:l,summary:function(e){var t=0,r=0,a=0,n=0,s=0,o=0;return e.forEach((function(e){var i=se.formatUnits(e.balance,e.decimals);if(t+=Number(i)*Number(e.usdPrice),e.transValue.hasOwnProperty(e.address)){var c=se.formatUnits(e.transValue[e.address],e.decimals);r+=Number(c)*Number(e.usdPrice)}if(e.l1ToL2Value.hasOwnProperty(e.address)){var l=se.formatUnits(e.l1ToL2Value[e.address].amount,e.decimals);a+=Number(l)*Number(e.usdPrice),n+=e.l1ToL2Value[e.address].count}if(e.l2ToL1Value.hasOwnProperty(e.address)){var d=se.formatUnits(e.l2ToL1Value[e.address].amount,e.decimals);s+=Number(d)*Number(e.usdPrice),o+=e.l2ToL1Value[e.address].count}})),(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0,children:(0,S.jsx)("span",{className:"ml-[20px] font-bold",children:L})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",t.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",a.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",s.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4,children:(0,S.jsx)("span",{className:"font-bold",children:n})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:o})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:6,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",r.toFixed(2)]})})]})}})})},Ze=(0,p.memo)(_e),Fe=function(e){var t=(0,h.useSelector)((function(e){return e.analysis.assetListData})),r=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),a=(0,h.useSelector)((function(e){return e.analysis.l1ToL2Value})),n=(0,h.useSelector)((function(e){return e.analysis.l2ToL1Value})),s=(0,h.useSelector)((function(e){return e.analysis.transValue})),o=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),i=(0,p.useState)(!1),c=x()(i,2),l=c[0],u=c[1],m=(0,p.useState)([]),y=x()(m,2),b=y[0],k=y[1],g=(0,h.useIntl)(),N=g.formatMessage({id:"analysis.Assets"}),v=g.formatMessage({id:"analysis.Contract"}),w=g.formatMessage({id:"analysis.Balance"}),j=g.formatMessage({id:"analysis.L1ToL2Count"}),T=g.formatMessage({id:"analysis.L2ToL1Count"}),C=g.formatMessage({id:"analysis.TransValue"}),L=g.formatMessage({id:"analysis.Summary"}),D=(0,p.useMemo)((function(){return[{title:"".concat(N),dataIndex:"logo",key:"logo",sorter:function(e,t){return e.symbol.localeCompare(t.symbol)},fixed:!0,width:"80",align:"center",render:function(e,t){return(0,S.jsxs)("div",{className:"flex items-center",children:[(0,S.jsx)(Oe.C,{className:"mr-2",size:"small",src:t.logo}),(0,S.jsx)("a",{href:"".concat(o.blockExplorerUrls[0],"/contract/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.symbol})]})}},{title:"".concat(w),dataIndex:"balance",key:"balance",sorter:function(e,t){return Number(e.balance)*Number(e.usdPrice)-Number(t.balance)*Number(t.usdPrice)},render:function(e,t){var r=Number(t.balance)*Number(t.usdPrice);return(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(t.balance).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",r.toFixed(3)]})]})}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",render:function(e,t){var r=0,a=0;return t.l1ToL2Value.hasOwnProperty(t.address)&&(a=(r=t.l1ToL2Value[t.address].amount)*Number(t.usdPrice)),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(r).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",a.toFixed(2)]})]})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",render:function(e,t){var r=0,a=0;return t.l2ToL1Value.hasOwnProperty(t.address)&&(a=(r=t.l2ToL1Value[t.address].amount)*Number(t.usdPrice)),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{children:Number(r).toFixed(4)}),(0,S.jsxs)("div",{className:"font-light",children:["$",a.toFixed(2)]})]})}},{title:"".concat(j),dataIndex:"l1ToL2Value",key:"l1ToL2Value",render:function(e,t){var r=0;return t.l1ToL2Value.hasOwnProperty(t.address)&&(r=t.l1ToL2Value[t.address].count),(0,S.jsx)("div",{children:r})}},{title:"".concat(T),dataIndex:"l2ToL1Value",key:"l2ToL1Value",render:function(e,t){var r=0;return t.l2ToL1Value.hasOwnProperty(t.address)&&(r=t.l2ToL1Value[t.address].count),(0,S.jsx)("div",{children:r})}},{title:"".concat(C),dataIndex:"transValue",key:"transValue",render:function(e,t){var r=0;return t.transValue.hasOwnProperty(t.address)&&(r=t.transValue[t.address]*Number(t.usdPrice)),(0,S.jsx)("div",{children:(0,S.jsxs)("div",{children:["$",r.toFixed(2)]})})}},{title:"".concat(v),dataIndex:"address",key:"address",copyable:!0,ellipsis:!0}]}),[l]),E=(0,p.useCallback)(f()(d()().mark((function o(){var i;return d()().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:u(!0),i=[],t.hasOwnProperty(e.address)&&r.length&&t[e.address].forEach((function(e,t){var o="0",c=r.filter((function(t){return t.address===e.l2Address}));c.length&&(o=c[0].price),i.push({key:t,logo:e.logo?e.logo:"https://starkscan.co/img/addressbook/no-logo-token.png",name:e.name,symbol:e.symbol,address:e.l2Address,decimals:e.decimals,balance:e.balance,usdPrice:o,l1ToL2Value:a,l2ToL1Value:n,transValue:s})})),k(i),u(!1);case 5:case"end":return o.stop()}}),o)}))),[t,e,a,n,s,r]);return(0,p.useEffect)((function(){E()}),[E]),(0,S.jsx)("div",{className:"analysisAsset",children:(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:D,dataSource:b,defaultData:[],search:!1,options:!1,pagination:!1,loading:l,summary:function(e){var t=0,r=0,a=0,n=0,s=0,o=0;return e.forEach((function(e){if(t+=Number(e.balance)*Number(e.usdPrice),e.transValue.hasOwnProperty(e.address)){var i=e.transValue[e.address];r+=i*Number(e.usdPrice)}if(e.l1ToL2Value.hasOwnProperty(e.address)){var c=e.l1ToL2Value[e.address].amount;a+=c*Number(e.usdPrice),n+=e.l1ToL2Value[e.address].count}if(e.l2ToL1Value.hasOwnProperty(e.address)){var l=e.l2ToL1Value[e.address].amount;s+=l*Number(e.usdPrice),o+=e.l2ToL1Value[e.address].count}})),(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0,children:(0,S.jsx)("span",{className:"ml-[20px] font-bold",children:L})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",t.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",a.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",s.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4,children:(0,S.jsx)("span",{className:"font-bold",children:n})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:o})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:6,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",r.toFixed(2)]})})]})}})})},Be=(0,p.memo)(Fe),Ue=r(2453),Ve=r(51904),Ye=r(26713),Ge=r(86738),$e=r(75081),He=r(83062),We=r(71577),Re=r(2058),ze=r(85265),Je=r(32046),qe=r(86548),Xe=r(90420),Ke=r(99611),Qe=r(48689),et=r(98165),tt=r(38345),rt=r(15306),at=JSON.parse('{"0x1bdb8250EAf3c596441E6C3417C9D5195D6C85B9":"Starmaker","0xbE7D1FD1f6748bbDefC4fbaCafBb11C6Fc506d1d":"SpaceFi","0xD0cE094412898760C2A5e37AbeC39b0E785b45aE":"SpaceFi","0xaCF5a67f2fCFEDA3946ccb1ad9d16d2Eb65c3c96":"SpaceFi","0x9606eC131EeC0F84c95D82c9a63959F2331cF2aC":"izumi Finance","0x943ac2310D9BC703d6AB5e5e76876e212100f894":"izumi Finance","0xb9061E38FeE7d30134F56aEf7117E2F6d1580666":"OKX DEX","0x47796c60c9A734eF3CBBbCf29688b50c3C0C77DA":"OKX NFT","0x2da10A1e27bF85cEdD8FFb1AbBe97e53391C0295":"OKX Web3 Defi","0x69De6255740461EEC56aBcd9BE8C6C3E541Af54a":"LFGSwap","0xed3217646d10d40e1eaae150e004aa2bdcfcea62":"Satori Finance","0xee73323912a4e3772b74ed0ca1595a152b0ef282":"Orbiter Finance","0x1BbD33384869b30A323e15868Ce46013C82B86FB":"EraLend","0x112E5059a4742ad8b2baF9C453fDA8695c200454":"Karat Network","0x94df2E1DD564c219bE5CA615684AECA5605e692D":"Bounce Finance","0x82413f72155Ab5A53cCCeA64de8cae7501077f1C":"ReadON","0xd29Aa7bdD3cbb32557973daD995A3219D307721f":"Tevaera","0x5B91962F5ECa75E6558E4d32Df69B30f75cc6FE5":"Rollup Finance","0x39E098A153Ad69834a9Dac32f0FCa92066aD03f4":"Maverick Protocol","0x6e2B76966cbD9cF4cC2Fa0D76d24d5241E0ABC2F":"1inch Network"}');v().extend(C()),v().extend(U()),v().extend(Y());var nt=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=(0,h.useSelector)((function(e){return e.analysis.txListData})),a=(0,h.useSelector)((function(e){return e.analysis.liteTxListData})),n=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),s=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),o=(0,p.useState)(!1),i=x()(o,2),c=i[0],l=i[1],u=(0,p.useState)([]),m=x()(u,2),y=m[0],b=m[1],g=(0,p.useState)([]),N=x()(g,2),w=N[0],j=N[1],T=(0,h.useDispatch)(),C=(0,p.useRef)(),L=(0,p.useRef)(),D=(0,h.useIntl)(),E=D.formatMessage({id:"analysis.Transaction"}),P=D.formatMessage({id:"analysis.TxNote"}),I=D.formatMessage({id:"analysis.ToAddress"}),A=D.formatMessage({id:"analysis.ToAddressNote"}),O=D.formatMessage({id:"analysis.TotalGasFee"}),M=D.formatMessage({id:"analysis.Date"}),_=D.formatMessage({id:"analysis.Week"}),Z=(0,p.useCallback)((function(){n.addressHide=!n.addressHide,T(k.N.setAnalysisConfig(n)),localStorage.setItem("analysisConfig",JSON.stringify(n)),t()}),[n]),F=(0,p.useCallback)((function(e){C.current.handleOpenNoteModalForm(e)}),[C]),B=(0,p.useCallback)((function(e){L.current.handleOpenNoteModalForm(e)}),[L]),U=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:I}),(0,S.jsx)("span",{onClick:Z,children:n.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"toAddress",key:"toAddress",align:"center",sorter:function(e,t){return e.toAddress.localeCompare(t.toAddress)},render:function(e,t){return n.addressHide?(0,S.jsx)("a",{href:"".concat(s.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress.substring(0,4)+"***"+t.toAddress.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(s.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress})}},{title:"".concat(A),dataIndex:"toAddressNote",key:"toAddressNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:t.isBridge?(0,S.jsx)(Ve.Z,{color:"blue",children:t.toAddressNote}):(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return F(t)},children:[t.toAddressNote,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:E}),(0,S.jsx)("span",{onClick:Z,children:n.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"tx",key:"tx",align:"center",render:function(e,t){return n.addressHide?(0,S.jsx)("a",{href:"".concat(s.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx.substring(0,6)+"***"+t.tx.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(s.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx})}},{title:"".concat(P),dataIndex:"txNote",key:"txNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return F(t)},children:[t.txNote,(0,S.jsx)(qe.Z,{})]})})}},{title:"".concat(M),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},defaultSortOrder:"descend",render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format()})}},{title:"".concat(_),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format("YYYY-ww")})}},{title:"".concat(O),dataIndex:"gas",key:"gas",align:"center",sorter:function(e,t){return e.gas-t.gas},render:function(e,t){return(0,S.jsxs)("span",{children:["$",t.gas.toFixed(2)]})}}]}),[c,n,Z,F]),V=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:E}),(0,S.jsx)("span",{onClick:Z,children:n.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"tx",key:"tx",align:"center",render:function(e,t){var r="";return"324"===s.chainIdDec?r="https://zkscan.io":"280"===s.chainIdDec&&(r="https://goerli.zkscan.io"),n.addressHide?(0,S.jsx)("a",{href:"".concat(r,"/explorer/transactions/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx.substring(0,6)+"***"+t.tx.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(r,"/explorer/transactions/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx})}},{title:"".concat(P),dataIndex:"txNote",key:"txNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return B(t)},children:[t.txNote,(0,S.jsx)(qe.Z,{})]})})}},{title:"".concat(M),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){var r=v()(e.rawDate).valueOf(),a=v()(t.rawDate).valueOf(),n=Number(e.rawDate.substring(23,26)),s=Number(t.rawDate.substring(23,26));return r===a?n-s:r-a},defaultSortOrder:"descend",render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format()})}},{title:"".concat(_),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format("YYYY-ww")})}},{title:"".concat(O),dataIndex:"gas",key:"gas",align:"center",sorter:function(e,t){return e.gas-t.gas},render:function(e,t){return t.isBridge||0!==t.gas?(0,S.jsxs)("span",{children:["$",t.gas.toFixed(2)]}):(0,S.jsx)(Ve.Z,{})}}]}),[c,n,Z,B]),Y=(0,p.useCallback)(f()(d()().mark((function t(){var a;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(!0),a=[],r.hasOwnProperty(e.address)&&r[e.address].forEach((function(t,r){if(t.from===e.address){var o="",i="",c=!1,l=rt.fields[s.chainIdDec].arrayValue.values;if(n.transNote.hasOwnProperty(t.to)&&(o=n.transNote[t.to]),n.transNote.hasOwnProperty(t.hash)&&(i=n.transNote[t.hash]),!o){var d=l.filter((function(e){return e.mapValue.fields.l2Address.stringValue===t.to}));d.length&&(o=d[0].mapValue.fields.symbol.stringValue)}!o&&at.hasOwnProperty(t.to)&&(o=at[t.to]),t.isL1Originated&&(c=!0,o="Office Bridge"),a.push({key:r,tx:t.hash,txNote:i,toAddress:t.to,toAddressNote:o,date:v()(t.receivedAt).unix(),gas:Number(se.formatEther(t.fee))*e.tokenPrice,network:"zkSyncEra",isBridge:c})}})),b(a),l(!1);case 5:case"end":return t.stop()}}),t)}))),[e,r,n,s]),G=(0,p.useCallback)(f()(d()().mark((function t(){var r;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:l(!0),r=[],a.hasOwnProperty(e.address)&&a[e.address].forEach((function(t,a){var s=t.type,o=!1,i=0,c="";"Deposit"===t.type?(o=!0,c=t.hash):(o=!1,c="0x"+t.hash.slice(8)),n.transNote.hasOwnProperty(c)&&n.transNote[c]&&(s=n.transNote[c]),i=o?0:0===t.tx.feeToken?Number(se.formatEther(t.tx.fee))*e.tokenPrice:0,r.push({key:a,tx:c,txNote:s,toAddress:"",toAddressNote:"",date:v()(t.created_at).unix(),rawDate:t.created_at,gas:i,network:"zkSyncLite",isBridge:o})})),j(r),l(!1);case 5:case"end":return t.stop()}}),t)}))),[e,a,n,s]);return(0,p.useEffect)((function(){Y(),G()}),[Y,G]),(0,S.jsxs)("div",{children:[(0,S.jsx)("div",{className:"analysisAsset analysisTxSummary",children:(0,S.jsx)(tt.Z,{title:(0,S.jsx)("span",{className:"font-bold",children:"zkSyncEra"}),collapsible:!0,children:(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:U,dataSource:y,defaultData:[],search:!1,options:!1,pagination:!1,loading:c})})}),(0,S.jsx)("div",{className:"analysisAsset analysisLiteTxSummary",children:(0,S.jsx)(tt.Z,{title:(0,S.jsx)("span",{className:"font-bold",children:"zkSyncLite"}),collapsible:!0,children:(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:V,dataSource:w,defaultData:[],search:!1,options:!1,pagination:!1,loading:c})})}),(0,S.jsx)(Pt,{ref:C,handleParseData:Y,currentAddress:e.address}),(0,S.jsx)(At,{ref:L,handleParseData:G,currentAddress:e.address})]})},st=(0,p.memo)(nt);v().extend(C()),v().extend(U()),v().extend(Y());var ot=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=Ue.ZP.useMessage(),a=x()(r,2),s=a[0],i=a[1],l=(0,h.useSelector)((function(e){return e.analysis.assetListData})),u=(0,h.useSelector)((function(e){return e.analysis.txListData})),m=(0,h.useSelector)((function(e){return e.analysis.liteTxListData})),N=(0,h.useSelector)((function(e){return e.analysis.transferListData})),w=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),j=(0,h.useSelector)((function(e){return e.analysis.zkSyncLiteData})),T=(0,h.useSelector)((function(e){return e.ecosystem.tokenDataSourcezkSyncEra})),C=(0,h.useSelector)((function(e){return e.analysis.summaryData})),L=(0,h.useSelector)((function(e){return e.analysis.errorData})),D=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),P=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),I=(0,p.useState)(""),A=x()(I,2),O=A[0],M=A[1],_=(0,p.useState)(!1),Z=x()(_,2),F=Z[0],B=Z[1],U=(0,p.useState)(!1),V=x()(U,2),Y=V[0],G=V[1],$=(0,p.useState)(-1),H=x()($,2),W=H[0],R=H[1],z=(0,h.useDispatch)(),J=(0,p.useRef)(),q=(0,p.useRef)(),X=(0,p.useRef)({}),K=(0,p.useState)([]),Q=x()(K,2),ee=Q[0],te=Q[1],re=(0,p.useState)([]),ae=x()(re,2),ne=ae[0],oe=ae[1],ie=(0,h.useIntl)(),ce=ie.formatMessage({id:"analysis.Address"}),le=ie.formatMessage({id:"analysis.TotalTx"}),de=ie.formatMessage({id:"analysis.LastTxTime"}),ue=ie.formatMessage({id:"analysis.TotalDays"}),fe=ie.formatMessage({id:"analysis.TotalWeeks"}),me=ie.formatMessage({id:"analysis.TotalMonths"}),xe=ie.formatMessage({id:"analysis.TotalContracts"}),he=ie.formatMessage({id:"analysis.TotalGasFee"}),pe=ie.formatMessage({id:"analysis.TransValue"}),ye=ie.formatMessage({id:"analysis.None"}),be=ie.formatMessage({id:"analysis.MonthAgo"}),ke=ie.formatMessage({id:"analysis.WeekAgo"}),ge=ie.formatMessage({id:"analysis.DayAgo"}),Ne=ie.formatMessage({id:"analysis.HourAgo"}),ve=ie.formatMessage({id:"analysis.MinAgo"}),Se=ie.formatMessage({id:"analysis.Summary"}),we=ie.formatMessage({id:"analysis.Action"}),je=ie.formatMessage({id:"analysis.Note"}),Te=ie.formatMessage({id:"analysis.GetBalancesError"}),Ce=ie.formatMessage({id:"analysis.GetTransactionsError"}),Le=ie.formatMessage({id:"analysis.GetTransfersError"}),De=ie.formatMessage({id:"analysis.GetAccountInfoError"}),Ee=ie.formatMessage({id:"analysis.AddAddress"}),Pe=ie.formatMessage({id:"analysis.BatchUpdate"}),Ie=ie.formatMessage({id:"analysis.BatchDelete"}),Oe=ie.formatMessage({id:"analysis.Backup"}),_e=ie.formatMessage({id:"analysis.Restore"}),Ze=ie.formatMessage({id:"analysis.RestoreFail"}),Fe=ie.formatMessage({id:"analysis.WetherToDelete"}),Be=ie.formatMessage({id:"analysis.TxSummary"}),tt=(0,p.useCallback)((function(e){M(e),B(!0)}),[]),rt=(0,p.useCallback)((function(e){J.current.handleOpenNoteModalForm(e)}),[J]),nt=(0,p.useCallback)((function(){D.addressHide=!D.addressHide,z(k.N.setAnalysisConfig(D)),localStorage.setItem("analysisConfig",JSON.stringify(D)),t()}),[D]),ot=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a="",n=[],"324"===P.chainIdDec?a="https://block-explorer-api.mainnet.zksync.io/address/".concat(t):"280"===P.chainIdDec&&(a="https://block-explorer-api.testnets.zksync.dev/address/".concat(t)),e.next=6,(0,b.zI)((0,h.request)(a));case 6:if(o=e.sent,i=x()(o,2),c=i[0],l=i[1],!c){e.next=17;break}return s.error("".concat(Te),5),e.next=14,y.db.assetList.where({key:r}).toArray();case 14:return(u=e.sent).length&&(n=u[0].data),e.abrupt("return",n);case 17:f=l.balances,e.t0=d()().keys(f);case 19:if((e.t1=e.t0()).done){e.next=27;break}if(m=e.t1.value,!f.hasOwnProperty(m)){e.next=25;break}if(f[m].token){e.next=24;break}return e.abrupt("continue",19);case 24:n.push({balance:f[m].balance,decimals:f[m].token.decimals,l1Address:f[m].token.l1Address,l2Address:f[m].token.l2Address,name:f[m].token.name,symbol:f[m].token.symbol});case 25:e.next=19;break;case 27:return p={key:r,chainId:Number(P.chainIdDec),address:t,data:n},y.db.assetList.put(p),e.abrupt("return",n);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),it=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p,k,g,N,S,w,j,T,C,L;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","324"===P.chainIdDec?r="zkSyncLite":"280"===P.chainIdDec&&(r="zkSyncLiteGoerli"),a=Je.id(t+r).substring(0,8),n=!1,o={key:a,chainId:r,address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=7,y.db.txList.where({key:a}).toArray();case 7:(i=e.sent).length&&(o=i[0],n=!0),c="","324"===P.chainIdDec?c="https://api.zksync.io/":"280"===P.chainIdDec&&(c="https://goerli-api.zksync.io/"),l=0,u=[],f=n?10:100;case 14:return m=c+"api/v0.1/account/".concat(t,"/history/").concat(l,"/").concat(f),e.next=17,(0,b.zI)((0,h.request)(m));case 17:if(p=e.sent,k=x()(p,2),g=k[0],N=k[1],!g){e.next=24;break}return s.error("".concat(Ce),5),e.abrupt("return",o.data);case 24:if(N.length){e.next=27;break}return u.length&&(u.sort((function(e,t){var r=v()(e.created_at).valueOf(),a=v()(t.created_at).valueOf(),n=Number(e.created_at.substring(23,26)),s=Number(t.created_at.substring(23,26));return r===a?n-s:r-a})),u.forEach((function(e){o.data.push(e)})),S=u[u.length-1],o.lastBlock=0,o.lastIndex=0,o.lastUpdated=S.created_at,y.db.txList.put(o)),e.abrupt("return",o.data);case 27:w=N,j=0;case 29:if(!(j<w.length)){e.next=38;break}if((T=w[j]).created_at!==o.lastUpdated){e.next=34;break}return u.length&&(u.sort((function(e,t){var r=v()(e.created_at).valueOf(),a=v()(t.created_at).valueOf(),n=Number(e.created_at.substring(23,26)),s=Number(t.created_at.substring(23,26));return r===a?n-s:r-a})),u.forEach((function(e){o.data.push(e)})),C=u[u.length-1],o.lastBlock=0,o.lastIndex=0,o.lastUpdated=C.created_at,y.db.txList.put(o)),e.abrupt("return",o.data);case 34:u.push({hash:T.hash,tx:T.tx,type:T.tx.type,created_at:T.created_at});case 35:j++,e.next=29;break;case 38:if(!(w.length<f)){e.next=47;break}return u.sort((function(e,t){var r=v()(e.created_at).valueOf(),a=v()(t.created_at).valueOf(),n=Number(e.created_at.substring(23,26)),s=Number(t.created_at.substring(23,26));return r===a?n-s:r-a})),u.forEach((function(e){o.data.push(e)})),L=u[u.length-1],o.lastBlock=0,o.lastIndex=0,o.lastUpdated=L.created_at,y.db.txList.put(o),e.abrupt("return",o.data);case 47:l+=f;case 48:e.next=14;break;case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),ct=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,i,l,u,f,m,p,k,g,N,S,w,j,T,C,L;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a=!1,n={key:r,chainId:Number(P.chainId),address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=5,y.db.txList.where({key:r}).toArray();case 5:if(!(i=e.sent).length){e.next=12;break}if(!i.error){e.next=10;break}return X.current=c()(c()({},X.current),{},o()({},t,!0)),e.abrupt("return",[]);case 10:n=i[0],a=!0;case 12:l="","324"===P.chainIdDec?l="https://block-explorer-api.mainnet.zksync.io/":"280"===P.chainIdDec&&(l="https://block-explorer-api.testnets.zksync.dev/"),u=1,f=[],m=a?10:100;case 17:return p=l+"transactions?address=".concat(t,"&limit=").concat(m,"&page=").concat(u++),e.next=20,(0,b.zI)((0,h.request)(p));case 20:if(k=e.sent,g=x()(k,2),N=g[0],S=g[1],!N){e.next=27;break}return s.error("".concat(Ce),5),e.abrupt("return",n.data);case 27:if(0!==S.meta.totalItems){e.next=30;break}return y.db.txList.put(n),e.abrupt("return",n.data);case 30:if(S.meta.totalItems!==n.data.length){e.next=32;break}return e.abrupt("return",n.data);case 32:w=S.items,j=0;case 34:if(!(j<w.length)){e.next=50;break}if((T=w[j]).receivedAt!==n.lastUpdated){e.next=46;break}return f.sort((function(e,t){return v()(e.receivedAt).valueOf()-v()(t.receivedAt).valueOf()})),f.forEach((function(e){n.data.push(e)})),C=f[f.length-1],n.lastBlock=C.blockNumber,n.lastIndex=C.transactionIndex,n.lastUpdated=C.receivedAt,n.data.length!==S.meta.totalItems&&(n.error=!0,X.current=c()(c()({},X.current),{},o()({},t,!0))),y.db.txList.put(n),e.abrupt("return",n.data);case 46:f.push({hash:T.hash,to:T.to,from:T.from,value:T.value,isL1Originated:T.isL1Originated,fee:T.fee,blockNumber:T.blockNumber,l1BatchNumber:T.l1BatchNumber,transactionIndex:T.transactionIndex,receivedAt:T.receivedAt});case 47:j++,e.next=34;break;case 50:if(S.meta.totalPages!==S.meta.currentPage){e.next=60;break}return f.sort((function(e,t){return v()(e.receivedAt).valueOf()-v()(t.receivedAt).valueOf()})),f.forEach((function(e){n.data.push(e)})),L=f[f.length-1],n.lastBlock=L.blockNumber,n.lastIndex=L.transactionIndex,n.lastUpdated=L.receivedAt,n.data.length!==S.meta.totalItems&&(n.error=!0,X.current=c()(c()({},X.current),{},o()({},t,!0))),y.db.txList.put(n),e.abrupt("return",n.data);case 60:e.next=17;break;case 61:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,X]),lt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,i,l,u,f,m,p,k,g,N,S,w,j,T,C,L;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a=!1,n={key:r,chainId:Number(P.chainId),address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,error:!1,data:[]},e.next=5,y.db.transferList.where({key:r}).toArray();case 5:if(!(i=e.sent).length){e.next=12;break}if(!i.error){e.next=10;break}return X.current=c()(c()({},X.current),{},o()({},t,!0)),e.abrupt("return",[]);case 10:n=i[0],a=!0;case 12:l="","324"===P.chainIdDec?l="https://block-explorer-api.mainnet.zksync.io/":"280"===P.chainIdDec&&(l="https://block-explorer-api.testnets.zksync.dev/"),u=1,f=[],m=a?10:100;case 17:return p=l+"address/".concat(t,"/transfers?limit=").concat(m,"&page=").concat(u++),e.next=20,(0,b.zI)((0,h.request)(p));case 20:if(k=e.sent,g=x()(k,2),N=g[0],S=g[1],!N){e.next=27;break}return s.error("".concat(Le),5),e.abrupt("return",n.data);case 27:if(0!==S.meta.totalItems){e.next=30;break}return y.db.transferList.put(n),e.abrupt("return",n.data);case 30:if(S.meta.totalItems!==n.data.length){e.next=32;break}return e.abrupt("return",n.data);case 32:w=S.items,j=0;case 34:if(!(j<w.length)){e.next=49;break}if((T=w[j]).timestamp!==n.lastUpdated){e.next=45;break}return f.sort((function(e,t){return v()(e.timestamp).valueOf()-v()(t.timestamp).valueOf()})),f.forEach((function(e){n.data.push(e)})),C=f[f.length-1],n.lastBlock=C.blockNumber,n.lastUpdated=C.timestamp,n.data.length!==S.meta.totalItems&&(n.error=!0,X.current=c()(c()({},X.current),{},o()({},t,!0))),y.db.transferList.put(n),e.abrupt("return",n.data);case 45:f.push({from:T.from,to:T.to,blockNumber:T.blockNumber,transactionHash:T.transactionHash,timestamp:T.timestamp,amount:T.amount,tokenAddress:T.tokenAddress,type:T.type,token:T.token});case 46:j++,e.next=34;break;case 49:if(S.meta.totalPages!==S.meta.currentPage){e.next=58;break}return f.sort((function(e,t){return v()(e.timestamp).valueOf()-v()(t.timestamp).valueOf()})),f.forEach((function(e){n.data.push(e)})),L=f[f.length-1],n.lastBlock=L.blockNumber,n.lastUpdated=L.timestamp,n.data.length!==S.meta.totalItems&&(n.error=!0,X.current=c()(c()({},X.current),{},o()({},t,!0))),y.db.transferList.put(n),e.abrupt("return",n.data);case 58:e.next=17;break;case 59:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,X]),dt=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(u).length){t.next=2;break}return t.abrupt("return");case 2:G(!0),r=[],a=d()().mark((function t(a){var n,s,o,i,c,f,x,h,p,y,b,k,g,S,T,C,L,P,I,A,O,M,_,Z,F,B,U,V,Y,G,$,H,W,R,z,J,q,X,K,Q,ee,te,re,ae,ne,oe,ie,ce,le,de,ue,fe,me,xe,he,pe,Se,we,je;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=D.addresses[a],s={},o={},i={},c=new Set,f=E.O$.from("0"),r.push({key:a,address:n,totalTx:0,totalDays:0,totalWeeks:0,totalMonths:0,l1ToL2Value:{},l2ToL1Value:{},transValue:{},totalContracts:0,totalGasFee:0,lastTxTime:"${intlNone}",lastTxDate:"${intlNone}",liteLastTxTime:"${intlNone}",liteLastTxDate:"${intlNone}",eth:0,l1ToL2Balance:0,l1ToL2Count:0,l2ToL1Balance:0,l2ToL1Count:0,transBalance:0,lastTxTimeDuration:0,liteLastTxTimeDuration:0,note:"",zkSyncLite:{nonce:0,ETH:0,USDC:0},liteL1ToL2Count:0,liteL2ToL1Count:0}),u[n].forEach((function(e){var t=N[n].filter((function(t){return t.transactionHash===e.hash})),l=r[a].l1ToL2Value;if(e.isL1Originated){var d=t[0].tokenAddress,u=t[0].amount,m=t[0].token;return l.hasOwnProperty(d)||(l[d]={amount:E.O$.from("0"),count:0,token:null}),l[d].amount=l[d].amount.add(E.O$.from(u)),++l[d].count,void(l[d].token=m)}if(e.from===n){var x=v()(e.receivedAt).local().format().substring(0,10),h=v()(e.receivedAt).local().format("YYYY-ww"),p=v()(e.receivedAt).local().format("YYYY-MM"),y=E.O$.from(e.fee);s.hasOwnProperty(x)||(s[x]=0),o.hasOwnProperty(h)||(o[h]=0),i.hasOwnProperty(p)||(i[p]=0),s[x]+=1,o[h]+=1,i[p]+=1,c.add(e.to),r[a].totalTx+=1,f=f.add(y);var b=r[a].l2ToL1Value;t.length&&t.forEach((function(e){if("withdrawal"===e.type){var t=e.tokenAddress,r=e.token,a=e.amount;b.hasOwnProperty(t)||(b[t]={amount:E.O$.from("0"),count:0,token:null}),b[t].amount=b[t].amount.add(E.O$.from(a)),++b[t].count,b[t].token=r}}));var k=r[a].transValue;if(t.length)for(var g=0;g<t.length;g++){var S=t[g],w=S.tokenAddress,j=S.amount;null!==S.token&&(S.from===n&&(k.hasOwnProperty(w)||(k[w]=E.O$.from("0")),k[w]=k[w].add(E.O$.from(j))))}}})),m[n].forEach((function(e){"Deposit"===e.type?r[a].liteL1ToL2Count+=1:"Withdraw"===e.type&&(r[a].liteL2ToL1Count+=1)})),x=u[n],h=u[n].length,p="",y=0,b="",h?(k=v()(x[h-1].receivedAt).unix(),g=v()().unix(),S=g-k,T=v().duration(S,"seconds"),y=T.asSeconds(),T.asMonths()>=1?(C=Math.floor(T.asMonths()),p="".concat(C).concat(be)):T.asWeeks()>=1?(L=Math.floor(T.asWeeks()),p="".concat(L).concat(ke)):T.asDays()>=1?(P=Math.floor(T.asDays()),p="".concat(P).concat(ge)):T.asHours()>=1?(I=Math.floor(T.asHours()),p="".concat(I).concat(Ne)):(A=Math.floor(T.asMinutes()),p="".concat(A).concat(ve)),b=v()(x[h-1].receivedAt).format(),O=x[h-1],M=(M=D.transNote[O.hash])||"",!(_=(_=D.transNote[O.to])||"")&&at.hasOwnProperty(O.to)&&(_=at[O.to]),b=b+" "+_+" "+M):(p="".concat(ye),b="".concat(ye)),Z=m[n],F=m[n].length,B="",U=0,V="",F?(Y=v()(Z[F-1].created_at).unix(),G=v()().unix(),$=G-Y,H=v().duration($,"seconds"),U=H.asSeconds(),H.asMonths()>=1?(W=Math.floor(H.asMonths()),B="".concat(W).concat(be)):H.asWeeks()>=1?(R=Math.floor(H.asWeeks()),B="".concat(R).concat(ke)):H.asDays()>=1?(z=Math.floor(H.asDays()),B="".concat(z).concat(ge)):H.asHours()>=1?(J=Math.floor(H.asHours()),B="".concat(J).concat(Ne)):(q=Math.floor(H.asMinutes()),B="".concat(q).concat(ve)),V=v()(Z[F-1].created_at).format(),X=Z[F-1],K=X.type,Q="0x"+X.hash.slice(8),"Deposit"===X.type&&(Q=X.hash),D.transNote.hasOwnProperty(Q)&&D.transNote[Q]&&(K=D.transNote[Q]),V=V+" "+K):(B="".concat(ye),V="".concat(ye)),ee=0,l[n]&&(te=l[n].filter((function(e){return"0x000000000000000000000000000000000000800A"===e.l2Address}))).length&&(re=te[0].balance,ae=te[0].decimals,ee=Number(se.formatUnits(re,ae))),ne=0,oe=0,!l[n]){t.next=34;break}ie=r[a].l1ToL2Value,ce=d()().mark((function e(t){var r,a,s,o,i,c;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie.hasOwnProperty(t)&&(oe+=ie[t].count,(r=l[n].filter((function(e){return e.l2Address===t}))).length&&("0",s="0",(o=w.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),i=ie[t].amount,c=r[0].decimals,a=se.formatUnits(i,c),ne+=Number(a)*Number(s)));case 1:case"end":return e.stop()}}),e)})),t.t0=d()().keys(ie);case 29:if((t.t1=t.t0()).done){t.next=34;break}return le=t.t1.value,t.delegateYield(ce(le),"t2",32);case 32:t.next=29;break;case 34:if(de=0,ue=0,!l[n]){t.next=45;break}fe=r[a].l2ToL1Value,me=d()().mark((function e(t){var r,a,s,o,i,c;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe.hasOwnProperty(t)&&(ue+=fe[t].count,(r=l[n].filter((function(e){return e.l2Address===t}))).length&&("0",s="0",(o=w.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),i=fe[t].amount,c=r[0].decimals,a=se.formatUnits(i,c),de+=Number(a)*Number(s)));case 1:case"end":return e.stop()}}),e)})),t.t3=d()().keys(fe);case 40:if((t.t4=t.t3()).done){t.next=45;break}return xe=t.t4.value,t.delegateYield(me(xe),"t5",43);case 43:t.next=40;break;case 45:if(he=0,!l[n]){t.next=55;break}pe=r[a].transValue,Se=d()().mark((function e(t){var r,a,s,o,i,c;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe.hasOwnProperty(t)&&(r=l[n].filter((function(e){return e.l2Address===t}))).length&&("0",s="0",(o=w.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),i=pe[t],c=r[0].decimals,a=se.formatUnits(i,c),he+=Number(a)*Number(s));case 1:case"end":return e.stop()}}),e)})),t.t6=d()().keys(pe);case 50:if((t.t7=t.t6()).done){t.next=55;break}return we=t.t7.value,t.delegateYield(Se(we),"t8",53);case 53:t.next=50;break;case 55:je="",D.addressNote.hasOwnProperty(n)&&(je=D.addressNote[n]),r[a].totalDays=Object.keys(s).length,r[a].totalWeeks=Object.keys(o).length,r[a].totalMonths=Object.keys(i).length,r[a].totalContracts=c.size,r[a].totalGasFee=Number(se.formatEther(f))*e.tokenPrice,r[a].lastTxTime=p,r[a].liteLastTxTime=B,r[a].lastTxTimeDuration=y,r[a].liteLastTxTimeDuration=U,r[a].lastTxDate=b,r[a].liteLastTxDate=V,r[a].eth=ee,r[a].l1ToL2Balance=ne,r[a].l1ToL2Count=oe,r[a].l2ToL1Balance=de,r[a].l2ToL1Count=ue,r[a].transBalance=he,r[a].note=je,r[a].zkSyncLite=j[n];case 76:case"end":return t.stop()}}),t)})),n=0;case 6:if(!(n<D.addresses.length)){t.next=11;break}return t.delegateYield(a(n),"t0",8);case 8:n++,t.next=6;break;case 11:z(k.N.setSummaryData(r)),G(!1);case 13:case"end":return t.stop()}}),t)}))),[D,u,l,w,j,m]),ut=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p,k,g,N,v,S,w,j,T,C,L,D,E;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="",a="","324"===P.chainIdDec?r="zkSyncLite":"280"===P.chainIdDec&&(r="zkSyncLiteGoerli"),n=Je.id(t+r).substring(0,8),o={key:n,chainId:r,address:t,data:{depositing:{balances:{}},committed:{balances:{},nonce:0},verified:{balances:{},nonce:0}}},i={id:1,jsonrpc:"2.0",method:"account_info",params:["".concat(t)]},"324"===P.chainIdDec?a="https://api.zksync.io/jsrpc":"280"===P.chainIdDec&&(a="https://goerli-api.zksync.io/jsrpc"),e.next=9,(0,b.zI)((0,h.request)(a,{method:"POST",data:i}));case 9:if(c=e.sent,l=x()(c,2),u=l[0],f=l[1],!u){e.next=27;break}return s.error("".concat(De),5),e.next=17,y.db.accountInfo.where({key:n}).toArray();case 17:if(!(m=e.sent).length){e.next=26;break}return p=m[0].data.committed.balances,k=m[0].data.committed.nonce,g=p.USDC?p.USDC:"0",N=p.ETH?p.ETH:"0",v=Number(se.formatUnits(g,6)),S=Number(se.formatUnits(N,18)),e.abrupt("return",{nonce:k,USDC:v,ETH:S});case 26:return e.abrupt("return",{nonce:0,USDC:0,ETH:0});case 27:return w=f.result,o.data=w,y.db.accountInfo.put(o),j=w.committed.balances,T=w.committed.nonce,C=j.USDC?j.USDC:"0",L=j.ETH?j.ETH:"0",D=Number(se.formatUnits(C,6)),E=Number(se.formatUnits(L,18)),e.abrupt("return",{nonce:T,USDC:D,ETH:E});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),ft=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t,r){var a,n,s,i,f,x,h,p,y,b;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(r),e.next=3,ot(t.address);case 3:return a=e.sent,e.next=6,ct(t.address);case 6:return n=e.sent,e.next=9,lt(t.address);case 9:return s=e.sent,e.next=12,ut(t.address);case 12:return i=e.sent,e.next=15,it(t.address);case 15:f=e.sent,x=c()(c()({},l),{},o()({},t.address,a)),h=c()(c()({},u),{},o()({},t.address,n)),p=c()(c()({},m),{},o()({},t.address,f)),y=c()(c()({},N),{},o()({},t.address,s)),b=c()(c()({},j),{},o()({},t.address,i)),z(k.N.setAssetListData(x)),z(k.N.setTxListData(h)),z(k.N.setLiteTxListData(p)),z(k.N.setTransferListData(y)),z(k.N.setzkSyncLiteData(b)),R(-1);case 27:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[ot,ct,lt,it,ut,u,l,N,j,m]),mt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,n,s,o,i,c;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:a=[],D.addresses.forEach((function(e){r.includes(e)||a.push(e)})),D.addresses=a,z(k.N.setAnalysisConfig(D)),localStorage.setItem("analysisConfig",JSON.stringify(D)),n="","324"===P.chainIdDec?n="zkSyncLite":"280"===P.chainIdDec&&(n="zkSyncLiteGoerli"),s=0;case 10:if(!(s<r.length)){t.next=23;break}return o=r[s],i=Je.id(o+P.chainIdDec).substring(0,8),c=Je.id(o+n).substring(0,8),t.next=16,y.db.txList.delete(i);case 16:return t.next=18,y.db.txList.delete(c);case 18:return t.next=20,y.db.transferList.delete(i);case 20:s++,t.next=10;break;case 23:oe([]),dt(),a.length?e.setCurrentAddress(a[0]):(e.setCurrentAddress(""),z(k.N.setAveDailyTx(0)),z(k.N.setAveWeeklyTx(0)),z(k.N.setAveMonthlyTx(0)),z(k.N.setTotalDays(0)),z(k.N.setTotalWeeks(0)),z(k.N.setTotalMonths(0)),z(k.N.setTotalTx(0)),z(k.N.setTotalContracts(0))),e.forceUpdate();case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,D,P,dt]),xt=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",align:"center",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:"".concat(je),dataIndex:"note",key:"note",fixed:!0,align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return rt(t)},children:[t.note,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:ce}),(0,S.jsx)("span",{onClick:nt,children:D.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),render:function(e,t){return D.addressHide?(0,S.jsx)("a",{href:"".concat(P.blockExplorerUrls[0],"/address/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address.substring(0,4)+"***"+t.address.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(P.blockExplorerUrls[0],"/address/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address})}},{title:"".concat(we),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),render:function(e,t,r){return(0,S.jsxs)(Ye.Z,{children:[(0,S.jsx)(Ge.Z,{title:Fe,onConfirm:function(){return mt([t.address])},children:(0,S.jsx)("a",{children:(0,S.jsx)(Qe.Z,{})})}),W===r?(0,S.jsx)($e.Z,{size:"small"}):-1===W?(0,S.jsx)("a",{onClick:function(){return ft(t,r)},children:(0,S.jsx)(et.Z,{})}):(0,S.jsx)("span",{children:(0,S.jsx)(et.Z,{})})]})}},{title:"zkSync Era",children:[{title:"ETH",dataIndex:"eth",key:"eth",sorter:function(e,t){return e.eth-t.eth},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.eth.toFixed(4)})}},{title:"".concat(le),dataIndex:"totalTx",key:"totalTx",sorter:function(e,t){return e.totalTx-t.totalTx},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(de),dataIndex:"lastTxTime",key:"lastTxTime",sorter:function(e,t){return e.lastTxTimeDuration-t.lastTxTimeDuration},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)(He.Z,{placement:"right",title:t.lastTxDate,children:(0,S.jsx)("a",{onClick:function(){return tt(t.address)},children:e})})}},{title:"".concat(ue),dataIndex:"totalDays",key:"totalDays",sorter:function(e,t){return e.totalDays-t.totalDays},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(fe),dataIndex:"totalWeeks",key:"totalWeeks",sorter:function(e,t){return e.totalWeeks-t.totalWeeks},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(me),dataIndex:"totalMonths",key:"totalMonths",sorter:function(e,t){return e.totalMonths-t.totalMonths},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(xe),dataIndex:"totalContracts",key:"totalContracts",sorter:function(e,t){return e.totalContracts-t.totalContracts},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",sorter:function(e,t){return e.l1ToL2Balance-t.l1ToL2Balance},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l1ToL2Count})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",sorter:function(e,t){return e.l2ToL1Balance-t.l2ToL1Balance},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l2ToL1Count})}},{title:"".concat(he),dataIndex:"totalGasFee",key:"totalGasFee",sorter:function(e,t){return e.totalGasFee-t.totalGasFee},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.totalGasFee.toFixed(2)]})}},{title:"".concat(pe),dataIndex:"transValue",key:"transValue",sorter:function(e,t){return e.transBalance-t.transBalance},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.transBalance.toFixed(2)]})}}]},{title:"zkSync Lite",children:[{title:"ETH",dataIndex:"zkSyncLite",key:"zkSyncLite",sorter:function(e,t){return e.zkSyncLite.ETH-t.zkSyncLite.ETH},render:function(e,t){return(0,S.jsx)("span",{children:t.zkSyncLite.ETH.toFixed(4)})}},{title:"".concat(le),dataIndex:"zkSyncLite",key:"zkSyncLite",sorter:function(e,t){return e.zkSyncLite.nonce-t.zkSyncLite.nonce},render:function(e,t){return(0,S.jsx)("span",{children:t.zkSyncLite.nonce})}},{title:"".concat(de),dataIndex:"liteLastTxTime",key:"liteLastTxTime",sorter:function(e,t){return e.liteLastTxTimeDuration-t.liteLastTxTimeDuration},render:function(e,t){return L.hasOwnProperty(t.address)&&L[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)(He.Z,{placement:"left",title:t.liteLastTxDate,children:(0,S.jsx)("a",{children:e})})}},{title:"L1->L2",dataIndex:"liteL1ToL2Count",key:"liteL1ToL2Count",sorter:function(e,t){return e.liteL1ToL2Count-t.liteL1ToL2Count}},{title:"L2->L1",dataIndex:"liteL2ToL1Count",key:"liteL12ToL1Count",sorter:function(e,t){return e.liteL2ToL1Count-t.liteL2ToL1Count}}]}]}),[C,l,W,nt,rt,u,D]),ht=(0,p.useCallback)((function(){q.current.handleOpenSearchModalForm()}),[q]),pt=(0,p.useCallback)(f()(d()().mark((function e(){var t,r,a,n,s,o,i,c,l,u,f,m,p,N,S,w,j,C,L,D;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Je.id(P.chainIdDec).substring(0,8),r=!1,a={key:t,chainId:Number(P.chainId),lastUpdated:v()().toISOString(),data:[]},n={key:t,chainId:Number(P.chainId),lastUpdated:v()().toISOString(),data:[]},e.next=6,y.db.tokenPrice.where({key:t}).toArray();case 6:return(s=e.sent).length&&(a=s[0],r=!0),o="",e.next=11,(0,b.zI)((0,h.request)("https://firestore.googleapis.com/v1/projects/token-library/databases/(default)/documents/v1/collection"));case 11:i=e.sent,c=x()(i,2),l=c[0],u=c[1],o=l?T.fields[P.chainIdDec].arrayValue.values:u.fields[P.chainIdDec].arrayValue.values,f=0;case 17:if(!(f<o.length)){e.next=41;break}if(m=o[f],p=m.mapValue.fields.l2Address.stringValue,N={id:1,jsonrpc:"2.0",method:"zks_getTokenPrice",params:["".concat(p)]},["ETH","USDC","MUTE","COMBO","PERP","UNIDX","LUSD","DVF","WOO","DERI","DEXTF","GOVI","1INCH","PEPE"].includes(m.mapValue.fields.symbol.stringValue)){e.next=24;break}return e.abrupt("continue",38);case 24:return e.next=26,(0,b.zI)((0,h.request)(P.rpcUrls[0],{method:"POST",data:N}));case 26:if(S=e.sent,w=x()(S,2),j=w[0],C=w[1],!j){e.next=32;break}return e.abrupt("continue",38);case 32:if("0"!==C.result){e.next=34;break}return e.abrupt("continue",38);case 34:L=C.result,D=m.mapValue.fields.l2Address.stringValue,"0x0000000000000000000000000000000000000000"===m.mapValue.fields.l2Address.stringValue&&(D="0x000000000000000000000000000000000000800A"),n.data.push({logo:m.mapValue.fields.imageUrl.stringValue,name:m.mapValue.fields.symbol.stringValue,address:D,symbol:m.mapValue.fields.symbol.stringValue,decimals:Number(m.mapValue.fields.decimals.integerValue),price:L});case 38:f++,e.next=17;break;case 41:u&&(z(g.N.setTokenDataTimezkSyncEra(u.updateTime)),localStorage.setItem("tokenDatazkSyncEra",JSON.stringify(u))),!n.data.length&&r?z(k.N.setTokenPriceData(a.data)):(z(k.N.setTokenPriceData(n.data)),y.db.tokenPrice.put(n));case 43:case"end":return e.stop()}}),e)}))),[P]),yt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a=[],e.next=4,y.db.assetList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0].data),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),bt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a={key:r,chainId:Number(P.chainId),address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:if(!(n=e.sent).length){e.next=10;break}if(!n.error){e.next=9;break}return X.current=c()(c()({},X.current),{},o()({},t,!0)),e.abrupt("return",[]);case 9:a=n[0];case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,X]),kt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,s;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","324"===P.chainIdDec?r="zkSyncLite":"280"===P.chainIdDec&&(r="zkSyncLiteGoerli"),a=Je.id(t+r).substring(0,8),n={key:a,chainId:r,address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=6,y.db.txList.where({key:a}).toArray();case 6:return(s=e.sent).length&&(n=s[0]),e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),gt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+P.chainIdDec).substring(0,8),a={key:r,chainId:Number(P.chainId),address:t,lastUpdated:"2020-01-01T01:01:01.000Z",lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:if(!(n=e.sent).length){e.next=10;break}if(!n.error){e.next=9;break}return X.current=c()(c()({},X.current),{},o()({},t,!0)),e.abrupt("return",[]);case 9:a=n[0];case 10:return e.abrupt("return",a.data);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P,X]),Nt=(0,p.useCallback)(f()(d()().mark((function e(){var t,r,a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Je.id(P.chainIdDec).substring(0,8),r={key:t,chainId:Number(P.chainId),lastUpdated:v()().toISOString(),data:[]},e.next=4,y.db.tokenPrice.where({key:t}).toArray();case 4:(a=e.sent).length&&(r=a[0]),z(k.N.setTokenPriceData(r.data));case 7:case"end":return e.stop()}}),e)}))),[P]),vt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,s,o,i,c,l,u;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","324"===P.chainIdDec?r="zkSyncLite":"280"===P.chainIdDec&&(r="zkSyncLiteGoerli"),a=Je.id(t+r).substring(0,8),e.next=5,y.db.accountInfo.where({key:a}).toArray();case 5:if(!(n=e.sent).length){e.next=14;break}return s=n[0].data.committed.balances,o=n[0].data.committed.nonce,i=s.USDC?s.USDC:"0",c=s.ETH?s.ETH:"0",l=Number(se.formatUnits(i,6)),u=Number(se.formatUnits(c,18)),e.abrupt("return",{nonce:o,USDC:l,ETH:u});case 14:return e.abrupt("return",{nonce:0,USDC:0,ETH:0});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[P]),St=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,n,s,o,i,c,l,u,f,m,x;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return G(!0),a={},n={},s={},o={},i={},t.next=8,Nt();case 8:X.current={},c=0;case 10:if(!(c<r.length)){t.next=34;break}return t.next=13,yt(r[c]);case 13:return l=t.sent,t.next=16,bt(r[c]);case 16:return u=t.sent,t.next=19,gt(r[c]);case 19:return f=t.sent,t.next=22,vt(r[c]);case 22:return m=t.sent,t.next=25,kt(r[c]);case 25:x=t.sent,a[r[c]]=u,s[r[c]]=f,o[r[c]]=l,i[r[c]]=m,n[r[c]]=x;case 31:c++,t.next=10;break;case 34:z(k.N.setTxListData(a)),z(k.N.setTransferListData(s)),z(k.N.setAssetListData(o)),z(k.N.setzkSyncLiteData(i)),z(k.N.setLiteTxListData(n)),z(k.N.setErrorData(X.current)),D.addresses=r,z(k.N.setAnalysisConfig(D)),localStorage.setItem("analysisConfig",JSON.stringify(D)),e.setCurrentAddress(r[0]),G(!1);case 45:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,X,D,bt,yt,Nt,gt,vt,kt]),wt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,s,o,i,f,x,h,p,y,b,g,v,S,w,T,C,L;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:G(!0),a={},s={},o={},i={},f={},x=pt(),h=0;case 10:if(!(h<r.length)){t.next=34;break}return t.next=13,ot(r[h]);case 13:return p=t.sent,t.next=16,ct(r[h]);case 16:return y=t.sent,t.next=19,lt(r[h]);case 19:return b=t.sent,t.next=22,ut(r[h]);case 22:return g=t.sent,t.next=25,it(r[h]);case 25:v=t.sent,a[r[h]]=y,s[r[h]]=v,o[r[h]]=b,i[r[h]]=p,f[r[h]]=g;case 31:h++,t.next=10;break;case 34:return t.next=36,x;case 36:S=c()(c()({},l),i),w=c()(c()({},u),a),T=c()(c()({},m),s),C=c()(c()({},N),o),L=c()(c()({},j),f),z(k.N.setTxListData(w)),z(k.N.setLiteTxListData(T)),z(k.N.setTransferListData(C)),z(k.N.setAssetListData(S)),z(k.N.setzkSyncLiteData(L)),z(k.N.setErrorData(X.current)),D.addresses=n()(new Set([].concat(n()(D.addresses),n()(r)))),z(k.N.setAnalysisConfig(D)),localStorage.setItem("analysisConfig",JSON.stringify(D)),e.setCurrentAddress(D.addresses[0]),oe([]),e.forceUpdate(),G(!1);case 54:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,X,D,ct,ot,pt,lt,ut,it,u,l,N,j,m]),jt=(0,p.useCallback)((function(){var e=JSON.stringify(D,null,2),t="data:,".concat(e),r=document.createElement("a");r.href=t,r.download="analysisConfig_"+v()().format("YYYY-MM-DDTHH-mm-ss")+".json",r.click()}),[D]),Tt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsText(t.fileList[0].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?(localStorage.setItem("analysisConfig",JSON.stringify(e)),window.location.reload()):Ue.ZP.error("".concat(Ze))}catch(e){Ue.ZP.error("".concat(Ze))}};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[wt]);return(0,p.useEffect)((function(){D.addresses.length&&St(D.addresses)}),[St,D]),(0,p.useEffect)((function(){dt()}),[dt]),(0,S.jsxs)("div",{className:"analysisSummary",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:xt,dataSource:C,defaultData:[],search:!1,options:!1,pagination:!1,bordered:!0,loading:Y,headerTitle:(0,S.jsxs)(Ye.Z,{wrap:!0,children:[(0,S.jsx)(We.ZP,{type:"primary",onClick:ht,children:Ee}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return wt(ee)},children:Pe}),(0,S.jsx)(Ge.Z,{title:Fe,onConfirm:function(){return mt(ee)},children:(0,S.jsx)(We.ZP,{type:"primary",children:Ie})}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return jt()},children:Oe}),(0,S.jsx)(Re.Z,{accept:".json",maxCount:1,showUploadList:!1,onChange:Tt,beforeUpload:function(){return!1},children:(0,S.jsx)(We.ZP,{type:"primary",children:_e})}),(0,S.jsxs)("div",{children:["ETH: $",e.tokenPrice?e.tokenPrice.toFixed(2):"0.0"]})]}),rowSelection:{type:"checkbox",selectedRowKeys:ne,onChange:function(e){var t=[];e.forEach((function(e){t.push(D.addresses[e])})),te(t),oe(e)}},tableAlertRender:!1,tableAlertOptionRender:!1,summary:function(e){var t=0,r=0,a=0,n=0,s=0,o=0,i=0,c=0,l=!1;return e.forEach((function(e){L.hasOwnProperty(e.address)&&L[e.address]?l=!0:(n+=e.totalGasFee,r+=e.eth,a+=e.zkSyncLite.ETH,s+=e.l1ToL2Count,o+=e.liteL1ToL2Count,i+=e.l2ToL1Count,c+=e.liteL2ToL1Count,t+=e.transBalance)})),l?(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,align:"center",children:(0,S.jsx)("span",{className:"font-bold",children:Se})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:6}),(0,S.jsx)(Me.Z.Summary.Cell,{index:7}),(0,S.jsx)(Me.Z.Summary.Cell,{index:8}),(0,S.jsx)(Me.Z.Summary.Cell,{index:9}),(0,S.jsx)(Me.Z.Summary.Cell,{index:10}),(0,S.jsx)(Me.Z.Summary.Cell,{index:11}),(0,S.jsx)(Me.Z.Summary.Cell,{index:12,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:13,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:14,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:15,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:16,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:17}),(0,S.jsx)(Me.Z.Summary.Cell,{index:18}),(0,S.jsx)(Me.Z.Summary.Cell,{index:19,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:20,children:(0,S.jsx)("span",{style:{color:"red"},children:"error"})})]}):(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,align:"center",children:(0,S.jsx)("span",{className:"font-bold",children:Se})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:r.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:6}),(0,S.jsx)(Me.Z.Summary.Cell,{index:7}),(0,S.jsx)(Me.Z.Summary.Cell,{index:8}),(0,S.jsx)(Me.Z.Summary.Cell,{index:9}),(0,S.jsx)(Me.Z.Summary.Cell,{index:10}),(0,S.jsx)(Me.Z.Summary.Cell,{index:11}),(0,S.jsx)(Me.Z.Summary.Cell,{index:12,children:(0,S.jsx)("span",{className:"font-bold",children:s})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:13,children:(0,S.jsx)("span",{className:"font-bold",children:i})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:14,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",n.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:15,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",t.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:16,children:(0,S.jsx)("span",{className:"font-bold",children:a.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:17}),(0,S.jsx)(Me.Z.Summary.Cell,{index:18}),(0,S.jsx)(Me.Z.Summary.Cell,{index:19,children:(0,S.jsx)("span",{className:"font-bold",children:o})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:20,children:(0,S.jsx)("span",{className:"font-bold",children:c})})]})}}),(0,S.jsx)(Lt,{ref:J,handleParseData:dt}),(0,S.jsx)(_t,{ref:q,handleConfirm:wt}),(0,S.jsx)(ze.Z,{title:Be,placement:"bottom",onClose:function(){return B(!1)},open:F,closeIcon:!1,headerStyle:{padding:"12px 12px"},bodyStyle:{padding:"12px"},children:(0,S.jsx)(st,{address:O,tokenPrice:e.tokenPrice})}),i]})},it=(0,p.memo)(ot),ct=r(18698),lt=r.n(ct),dt=r(97811),ut=r(44168),ft=r(81777),mt=r(39909),xt=r(50001),ht={ETH:{logo:dt,address:"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",decimals:18},USDC:{logo:ut,address:"0x053c91253bc9682c04929ca02ed00b3e423f6710d2ee7e0d5ebb06f3ecf368a8",decimals:6},USDT:{logo:ft,address:"0x068f5c6a61780768455de69077e07e89787839bf8166decfbf92b645209c0fb8",decimals:6},DAI:{logo:mt,address:"0x00da114221cb83fa859dbdb4c44beeaa0bb37c7537ad5ae66fe5e0efd20e6eb3",decimals:18},WBTC:{logo:xt,address:"0x03fe2b97c1fd336e750087d68b9b867997fd64a2661ff3ca5a7c771641e8e7ac",decimals:8}};v().extend(C()),v().extend(U()),v().extend(Y());var pt=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=Ue.ZP.useMessage(),a=x()(r,2),s=a[0],i=a[1],l=(0,h.useSelector)((function(e){return e.analysis.assetListData})),u=(0,h.useSelector)((function(e){return e.analysis.txListData})),m=(0,h.useSelector)((function(e){return e.analysis.transferListData})),g=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),N=(0,h.useSelector)((function(e){return e.ecosystem.tokenDataSourceStarkNet})),w=(0,h.useSelector)((function(e){return e.analysis.summaryData})),j=(0,h.useSelector)((function(e){return e.analysis.errorData})),T=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),C=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),L=(0,p.useState)(""),D=x()(L,2),E=D[0],P=D[1],I=(0,p.useState)(!1),A=x()(I,2),O=A[0],M=A[1],_=(0,p.useState)(!1),Z=x()(_,2),F=Z[0],B=Z[1],U=(0,p.useState)(-1),V=x()(U,2),Y=V[0],G=V[1],$=(0,h.useDispatch)(),H=(0,p.useRef)(),W=(0,p.useRef)(),R=(0,p.useRef)({}),z=(0,p.useState)([]),J=x()(z,2),q=J[0],X=J[1],K=(0,p.useState)([]),Q=x()(K,2),ee=Q[0],te=Q[1],re=(0,h.useIntl)(),ae=re.formatMessage({id:"analysis.Address"}),ne=re.formatMessage({id:"analysis.TotalTx"}),se=re.formatMessage({id:"analysis.LastTxTime"}),oe=re.formatMessage({id:"analysis.TotalDays"}),ie=re.formatMessage({id:"analysis.TotalWeeks"}),ce=re.formatMessage({id:"analysis.TotalMonths"}),le=re.formatMessage({id:"analysis.TotalContracts"}),de=re.formatMessage({id:"analysis.TotalGasFee"}),ue=re.formatMessage({id:"analysis.TransValue"}),fe=re.formatMessage({id:"analysis.None"}),me=re.formatMessage({id:"analysis.MonthAgo"}),xe=re.formatMessage({id:"analysis.WeekAgo"}),he=re.formatMessage({id:"analysis.DayAgo"}),pe=re.formatMessage({id:"analysis.HourAgo"}),ye=re.formatMessage({id:"analysis.MinAgo"}),be=re.formatMessage({id:"analysis.Summary"}),ke=re.formatMessage({id:"analysis.Action"}),ge=re.formatMessage({id:"analysis.Note"}),Ne=re.formatMessage({id:"analysis.GetBalancesError"}),ve=re.formatMessage({id:"analysis.GetTransactionsError"}),Se=re.formatMessage({id:"analysis.GetTransfersError"}),we=re.formatMessage({id:"analysis.AddAddress"}),je=re.formatMessage({id:"analysis.BatchUpdate"}),Te=re.formatMessage({id:"analysis.BatchDelete"}),Ce=re.formatMessage({id:"analysis.Backup"}),Le=re.formatMessage({id:"analysis.Restore"}),De=re.formatMessage({id:"analysis.RestoreFail"}),Ee=re.formatMessage({id:"analysis.WetherToDelete"}),Pe=re.formatMessage({id:"analysis.TxSummary"}),Ie=(0,p.useCallback)((function(e){P(e),M(!0)}),[]),Oe=(0,p.useCallback)((function(e){H.current.handleOpenNoteModalForm(e)}),[H]),_e=(0,p.useCallback)((function(){T.addressHide=!T.addressHide,$(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),t()}),[T]),Ze=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],n={query:"query ERC20BalancesByOwnerAddressTableQuery(\n  $input: ERC20BalancesByOwnerAddressInput!\n) {\n  erc20BalancesByOwnerAddress(input: $input) {\n    id\n    ...ERC20BalancesByOwnerAddressTableRowFragment_erc20Balance\n  }\n}\n\nfragment ERC20BalancesByOwnerAddressTableRowFragment_erc20Balance on ERC20Balance {\n  id\n  contract_address\n  contract_erc20_identifier\n  contract_erc20_contract {\n    symbol\n    is_social_verified\n    icon_url\n    id\n  }\n  balance_display\n}\n",variables:{input:{owner_address:t}}},e.next=5,(0,b.zI)((0,h.request)(C.blockExplorerUrls[1],{method:"POST",data:n}));case 5:if(o=e.sent,i=x()(o,2),c=i[0],l=i[1],!c){e.next=16;break}return s.error("".concat(Ne),5),e.next=13,y.db.assetList.where({key:r}).toArray();case 13:return(u=e.sent).length&&(a=u[0].data),e.abrupt("return",a);case 16:for(m in f=l.data.erc20BalancesByOwnerAddress)f.hasOwnProperty(m)&&a.push({balance:f[m].balance_display,decimals:0,l1Address:"",l2Address:f[m].contract_address,name:f[m].contract_erc20_identifier,symbol:f[m].contract_erc20_contract.symbol,logo:f[m].contract_erc20_contract.icon_url});return p={key:r,chainId:C.chainIdDec,address:t,data:a},y.db.assetList.put(p),e.abrupt("return",a);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),Fe=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p,k,g,N,v,S,w;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=!1,n={key:r,chainId:C.chainIdDec,address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=5,y.db.txList.where({key:r}).toArray();case 5:(o=e.sent).length&&(n=o[0],a=!0),i=null,c=[],l=a?10:100;case 10:return u={query:"query TransactionsTableQuery(\n  $first: Int!\n  $after: String\n  $input: TransactionsInput!\n) {\n  ...TransactionsTablePaginationFragment_transactions_2DAjA4\n}\n\nfragment TransactionsTableExpandedItemFragment_transaction on Transaction {\n  entry_point_selector_name\n  calldata_decoded\n  entry_point_selector\n  calldata\n  initiator_address\n  initiator_identifier\n actual_fee\n  actual_fee_display\n main_calls {\n    selector\n    selector_name\n    calldata_decoded\n    selector_identifier\n    calldata\n    contract_address\n    contract_identifier\n    id\n  }\n}\n\nfragment TransactionsTablePaginationFragment_transactions_2DAjA4 on Query {\n  transactions(first: $first, after: $after, input: $input) {\n    edges {\n      node {\n        id\n        ...TransactionsTableRowFragment_transaction\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment TransactionsTableRowFragment_transaction on Transaction {\n  id\n  transaction_hash\n  block_number\n  transaction_status\n  transaction_type\n  timestamp\n  nonce\n contract_address\n  contract_identifier\n sender_address\n  sender_identifier\n initiator_address\n  initiator_identifier\n  initiator {\n    is_social_verified\n    id\n  }\n  main_calls {\n    selector_identifier\n    id\n  }\n  ...TransactionsTableExpandedItemFragment_transaction\n}\n",variables:{first:l,after:i,input:{initiator_address:t,sort_by:"timestamp",order_by:"desc",min_block_number:null,max_block_number:null,min_timestamp:null,max_timestamp:null}}},e.next=13,(0,b.zI)((0,h.request)(C.blockExplorerUrls[1],{method:"POST",data:u}));case 13:if(f=e.sent,m=x()(f,2),p=m[0],k=m[1],!p){e.next=20;break}return s.error("".concat(ve),5),e.abrupt("return",n.data);case 20:if(0!==k.data.transactions.edges.length){e.next=23;break}return y.db.txList.put(n),e.abrupt("return",n.data);case 23:g=k.data.transactions.edges,N=d()().mark((function e(){var t,r,a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=g[v].node).timestamp!==n.lastUpdated){e.next=12;break}if(c.length){e.next=4;break}return e.abrupt("return",{v:n.data});case 4:return c.sort((function(e,t){return e.timestamp===t.timestamp?null!==e.nonce&&null!==t.nonce?Number(e.nonce)-Number(t.nonce):null===e.nonce&&null!==t.nonce?-1:null!==e.nonce&&null===t.nonce?1:e.timestamp-t.timestamp:e.timestamp-t.timestamp})),c.forEach((function(e){n.data.push(e)})),r=c[c.length-1],n.lastBlock=r.block_number,n.lastIndex=0,n.lastUpdated=r.timestamp,y.db.txList.put(n),e.abrupt("return",{v:n.data});case 12:a=[],t.main_calls.forEach((function(e){a.push({contract_address:e.contract_address,contract_identifier:e.contract_identifier,selector:e.selector,selector_identifier:e.selector_identifier,selector_name:e.selector_name,calldata_decoded:e.calldata_decoded})})),c.push({transaction_hash:t.transaction_hash,transaction_type:t.transaction_type,block_number:t.block_number,__typename:t.__typename,timestamp:t.timestamp,initiator_address:t.initiator_address,main_calls:a,nonce:t.nonce,contract_address:t.contract_address,contract_identifier:t.contract_identifier,sender_address:t.sender_address,sender_identifier:t.sender_identifier,actual_fee:t.actual_fee,actual_fee_display:t.actual_fee_display});case 15:case"end":return e.stop()}}),e)})),v=0;case 26:if(!(v<g.length)){e.next=34;break}return e.delegateYield(N(),"t0",28);case 28:if(S=e.t0,"object"!==lt()(S)){e.next=31;break}return e.abrupt("return",S.v);case 31:v++,e.next=26;break;case 34:if(null!==k.data.transactions.pageInfo.endCursor||k.data.transactions.pageInfo.hasNextPage){e.next=43;break}return c.sort((function(e,t){return e.timestamp===t.timestamp?null!==e.nonce&&null!==t.nonce?Number(e.nonce)-Number(t.nonce):null===e.nonce&&null!==t.nonce?-1:null!==e.nonce&&null===t.nonce?1:e.timestamp-t.timestamp:e.timestamp-t.timestamp})),c.forEach((function(e){n.data.push(e)})),w=c[c.length-1],n.lastBlock=w.block_number,n.lastIndex=0,n.lastUpdated=w.timestamp,y.db.txList.put(n),e.abrupt("return",n.data);case 43:i=k.data.transactions.pageInfo.endCursor;case 44:e.next=10;break;case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),Be=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p,k,g,N,v,S,w;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=!1,n={key:r,chainId:C.chainIdDec,address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=5,y.db.transferList.where({key:r}).toArray();case 5:(o=e.sent).length&&(n=o[0],a=!0),i=null,c=[],l=a?10:100;case 10:return u={query:"query ERC20TransferEventsTableQuery(\n  $first: Int!\n  $after: String\n  $input: ERC20TransferEventsInput!\n) {\n  ...ERC20TransferEventsTablePaginationFragment_erc20TransferEvents_2DAjA4\n}\n\nfragment ERC20TransferEventsTablePaginationFragment_erc20TransferEvents_2DAjA4 on Query {\n  erc20TransferEvents(first: $first, after: $after, input: $input) {\n    edges {\n      node {\n        id\n        ...ERC20TransferEventsTableRowFragment_erc20TransferEvent\n        __typename\n      }\n      cursor\n    }\n    pageInfo {\n      endCursor\n      hasNextPage\n    }\n  }\n}\n\nfragment ERC20TransferEventsTableRowFragment_erc20TransferEvent on ERC20TransferEvent {\n  id\n  transaction_hash\n  from_address\n  from_erc20_identifier\n  from_contract {\n    is_social_verified\n    id\n  }\n  transfer_from_address\n  transfer_from_identifier\n  transfer_from_contract {\n    is_social_verified\n    id\n  }\n  transfer_to_address\n  transfer_to_identifier\n  transfer_to_contract {\n    is_social_verified\n    id\n  }\n  transfer_amount\n  transfer_amount_display\n  timestamp\n  main_call {\n    selector_identifier\n    id\n  }\n}\n",variables:{first:l,after:i,input:{transfer_from_or_to_address:t,call_invocation_type:"FUNCTION",sort_by:"timestamp",order_by:"desc"}}},e.next=13,(0,b.zI)((0,h.request)(C.blockExplorerUrls[1],{method:"POST",data:u}));case 13:if(f=e.sent,m=x()(f,2),p=m[0],k=m[1],!p){e.next=20;break}return s.error("".concat(Se),5),e.abrupt("return",n.data);case 20:if(0!==k.data.erc20TransferEvents.edges.length){e.next=23;break}return y.db.transferList.put(n),e.abrupt("return",n.data);case 23:g=k.data.erc20TransferEvents.edges,N=0;case 25:if(!(N<g.length)){e.next=41;break}if((v=g[N].node).timestamp!==n.lastUpdated){e.next=37;break}if(c.length){e.next=30;break}return e.abrupt("return",n.data);case 30:return c.sort((function(e,t){return e.timestamp-t.timestamp})),c.forEach((function(e){n.data.push(e)})),S=c[c.length-1],n.lastBlock=0,n.lastUpdated=S.timestamp,y.db.transferList.put(n),e.abrupt("return",n.data);case 37:c.push({transaction_hash:v.transaction_hash,from_address:v.from_address,from_erc20_identifier:v.from_erc20_identifier,transfer_from_address:v.transfer_from_address,transfer_from_identifier:v.transfer_from_identifier,transfer_to_address:v.transfer_to_address,transfer_to_identifier:v.transfer_to_identifier,transfer_amount:v.transfer_amount,transfer_amount_display:v.transfer_amount_display,timestamp:v.timestamp,main_call:{selector_identifier:v.main_call.selector_identifier},__typename:v.__typename});case 38:N++,e.next=25;break;case 41:if(null!==k.data.erc20TransferEvents.pageInfo.endCursor||k.data.erc20TransferEvents.pageInfo.hasNextPage){e.next=49;break}return c.sort((function(e,t){return e.timestamp-t.timestamp})),c.forEach((function(e){n.data.push(e)})),w=c[c.length-1],n.lastBlock=0,n.lastUpdated=w.timestamp,y.db.transferList.put(n),e.abrupt("return",n.data);case 49:e.next=10;break;case 50:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),tt=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(u).length){t.next=2;break}return t.abrupt("return");case 2:B(!0),r=[],a=d()().mark((function t(a){var n,s,o,i,c,f,x,h,p,y,b,k,N,S,w,j,C,L,D,E,P,I,A,O,M,_,Z,F,B,U,V,Y,G,$,H,W,R,z,J,q,X,K;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=T.addressesStarkNet[a],s={},o={},i={},c=new Set,f=0,r.push({key:a,address:n,totalTx:0,totalDays:0,totalWeeks:0,totalMonths:0,l1ToL2Value:{},l2ToL1Value:{},transValue:{},totalContracts:0,totalGasFee:0,lastTxTime:"${intlNone}",lastTxDate:"",eth:0,usdc:0,usdt:0,dai:0,wbtc:0,l1ToL2Balance:0,l1ToL2Count:0,l2ToL1Balance:0,l2ToL1Count:0,transBalance:0,lastTxTimeDuration:0,note:""}),m[n].forEach((function(e){var t=r[a].transValue;if(e.transfer_from_address===n){var s=e.from_address,o=e.transfer_amount_display;t.hasOwnProperty(s)||(t[s]=0),t[s]=t[s]+Number(o)}var i=r[a].l1ToL2Value;if("0x0000000000000000000000000000000000000000000000000000000000000000"===e.transfer_from_address&&"handle_deposit"===e.main_call.selector_identifier){var c=e.from_address,l=e.transfer_amount_display,d={tokenAddress:e.from_address,identifier:e.from_erc20_identifier};return i.hasOwnProperty(c)||(i[c]={amount:0,count:0,token:null}),i[c].amount+=Number(l),++i[c].count,void(i[c].token=d)}var u=r[a].l2ToL1Value;if(e.transfer_from_address===n&&"initiate_withdraw"===e.main_call.selector_identifier){var f=e.from_address,m=e.transfer_amount_display,x={tokenAddress:e.from_address,identifier:e.from_erc20_identifier};return u.hasOwnProperty(f)||(u[f]={amount:0,count:0,token:null}),u[f].amount+=Number(m),++u[f].count,void(u[f].token=x)}})),u[n].forEach((function(e){var t=v().unix(e.timestamp).local().format().substring(0,10),n=v().unix(e.timestamp).local().format("YYYY-ww"),l=v().unix(e.timestamp).local().format("YYYY-MM"),d=Number(e.actual_fee_display);s.hasOwnProperty(t)||(s[t]=0),o.hasOwnProperty(n)||(o[n]=0),i.hasOwnProperty(l)||(i[l]=0),s[t]+=1,o[n]+=1,i[l]+=1,r[a].totalTx+=1,f+=d,e.main_calls.forEach((function(e){c.add(e.contract_address)}))})),x=u[n],h=u[n].length,p="",y=0,b="",h?(k=x[h-1].timestamp,N=v()().unix(),S=N-k,w=v().duration(S,"seconds"),y=w.asSeconds(),w.asMonths()>=1?(j=Math.floor(w.asMonths()),p="".concat(j).concat(me)):w.asWeeks()>=1?(C=Math.floor(w.asWeeks()),p="".concat(C).concat(xe)):w.asDays()>=1?(L=Math.floor(w.asDays()),p="".concat(L).concat(he)):w.asHours()>=1?(D=Math.floor(w.asHours()),p="".concat(D).concat(pe)):(E=Math.floor(w.asMinutes()),p="".concat(E).concat(ye)),b=v().unix(x[h-1].timestamp).format(),P=x[h-1],I=T.transNoteStarkNet[P.transaction_hash],b=b+" "+(I=I||"")):(p="".concat(fe),b="".concat(fe)),A=0,O=0,M=0,_=0,Z=0,l[n]&&l[n].forEach((function(e){"0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7"===e.l2Address?A=Number(e.balance):"0x053c91253bc9682c04929ca02ed00b3e423f6710d2ee7e0d5ebb06f3ecf368a8"===e.l2Address?O=Number(e.balance):"0x068f5c6a61780768455de69077e07e89787839bf8166decfbf92b645209c0fb8"===e.l2Address?M=Number(e.balance):"0x00da114221cb83fa859dbdb4c44beeaa0bb37c7537ad5ae66fe5e0efd20e6eb3"===e.l2Address?_=Number(e.balance):"0x03fe2b97c1fd336e750087d68b9b867997fd64a2661ff3ca5a7c771641e8e7ac"===e.l2Address&&(Z=Number(e.balance))})),F=0,B=0,!l[n]){t.next=32;break}U=r[a].l1ToL2Value,V=d()().mark((function e(t){var r,a,s,o;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U.hasOwnProperty(t)&&(B+=U[t].count,(r=l[n].filter((function(e){return e.l2Address===t}))).length&&(0,s="0",(o=g.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),a=U[t].amount,F+=a*Number(s)));case 1:case"end":return e.stop()}}),e)})),t.t0=d()().keys(U);case 27:if((t.t1=t.t0()).done){t.next=32;break}return Y=t.t1.value,t.delegateYield(V(Y),"t2",30);case 30:t.next=27;break;case 32:if(G=0,$=0,!l[n]){t.next=43;break}H=r[a].l2ToL1Value,W=d()().mark((function e(t){var r,a,s,o;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.hasOwnProperty(t)&&($+=H[t].count,(r=l[n].filter((function(e){return e.l2Address===t}))).length&&(0,s="0",(o=g.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),a=H[t].amount,G+=a*Number(s)));case 1:case"end":return e.stop()}}),e)})),t.t3=d()().keys(H);case 38:if((t.t4=t.t3()).done){t.next=43;break}return R=t.t4.value,t.delegateYield(W(R),"t5",41);case 41:t.next=38;break;case 43:if(z=0,!l[n]){t.next=53;break}J=r[a].transValue,q=d()().mark((function e(t){var r,a,s,o;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J.hasOwnProperty(t)&&(r=l[n].filter((function(e){return e.l2Address===t}))).length&&(0,s="0",(o=g.filter((function(e){return e.address===r[0].l2Address}))).length&&(s=o[0].price),a=J[t],z+=a*Number(s));case 1:case"end":return e.stop()}}),e)})),t.t6=d()().keys(J);case 48:if((t.t7=t.t6()).done){t.next=53;break}return X=t.t7.value,t.delegateYield(q(X),"t8",51);case 51:t.next=48;break;case 53:K="",T.addressNoteStarkNet.hasOwnProperty(n)&&(K=T.addressNoteStarkNet[n]),r[a].totalDays=Object.keys(s).length,r[a].totalWeeks=Object.keys(o).length,r[a].totalMonths=Object.keys(i).length,r[a].totalContracts=c.size,r[a].totalGasFee=f*e.tokenPrice,r[a].lastTxTime=p,r[a].lastTxTimeDuration=y,r[a].eth=A,r[a].usdc=O,r[a].usdt=M,r[a].dai=_,r[a].wbtc=Z,r[a].l1ToL2Balance=F,r[a].l1ToL2Count=B,r[a].l2ToL1Balance=G,r[a].l2ToL1Count=$,r[a].transBalance=z,r[a].note=K,r[a].lastTxDate=b;case 74:case"end":return t.stop()}}),t)})),n=0;case 6:if(!(n<T.addressesStarkNet.length)){t.next=11;break}return t.delegateYield(a(n),"t0",8);case 8:n++,t.next=6;break;case 11:$(k.N.setSummaryData(r)),B(!1);case 13:case"end":return t.stop()}}),t)}))),[T,u,l,g]),rt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t,r){var a,n,s,i,f,x;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(r),e.next=3,Ze(t.address);case 3:return a=e.sent,e.next=6,Fe(t.address);case 6:return n=e.sent,e.next=9,Be(t.address);case 9:s=e.sent,i=c()(c()({},l),{},o()({},t.address,a)),f=c()(c()({},u),{},o()({},t.address,n)),x=c()(c()({},m),{},o()({},t.address,s)),$(k.N.setAssetListData(i)),$(k.N.setTxListData(f)),$(k.N.setTransferListData(x)),G(-1);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Ze,Fe,Be,u,l,m]),at=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:a=[],T.addressesStarkNet.forEach((function(e){r.includes(e)||a.push(e)})),T.addressesStarkNet=a,$(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),te([]),tt(),a.length?e.setCurrentAddress(a[0]):(e.setCurrentAddress(""),$(k.N.setAveDailyTx(0)),$(k.N.setAveWeeklyTx(0)),$(k.N.setAveMonthlyTx(0)),$(k.N.setTotalDays(0)),$(k.N.setTotalWeeks(0)),$(k.N.setTotalMonths(0)),$(k.N.setTotalTx(0)),$(k.N.setTotalContracts(0))),e.forceUpdate();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,T,C,tt]),nt=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",align:"center",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:"".concat(ge),dataIndex:"note",key:"note",fixed:!0,width:"50px",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return Oe(t)},children:[t.note,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:ae}),(0,S.jsx)("span",{onClick:_e,children:T.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"80px",render:function(e,t){return T.addressHide?(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/contract/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address.substring(0,6)+"***"+t.address.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/contract/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address})}},{title:"".concat(ke),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"50px",render:function(e,t,r){return(0,S.jsxs)(Ye.Z,{children:[(0,S.jsx)(Ge.Z,{title:Ee,onConfirm:function(){return at([t.address])},children:(0,S.jsx)("a",{children:(0,S.jsx)(Qe.Z,{})})}),Y===r?(0,S.jsx)($e.Z,{size:"small"}):-1===Y?(0,S.jsx)("a",{onClick:function(){return rt(t,r)},children:(0,S.jsx)(et.Z,{})}):(0,S.jsx)("span",{children:(0,S.jsx)(et.Z,{})})]})}},{title:"StarkNet",children:[{title:"ETH",dataIndex:"eth",key:"eth",sorter:function(e,t){return e.eth-t.eth},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.eth.toFixed(4)})}},{title:"USDC",dataIndex:"usdc",key:"usdc",sorter:function(e,t){return e.usdc-t.usdc},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.usdc.toFixed(4)})}},{title:"USDT",dataIndex:"usdt",key:"usdt",sorter:function(e,t){return e.usdt-t.usdt},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.usdt.toFixed(4)})}},{title:"".concat(ne),dataIndex:"totalTx",key:"totalTx",sorter:function(e,t){return e.totalTx-t.totalTx},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(se),dataIndex:"lastTxTime",key:"lastTxTime",sorter:function(e,t){return e.lastTxTimeDuration-t.lastTxTimeDuration},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)(He.Z,{placement:"right",title:t.lastTxDate,children:(0,S.jsx)("a",{onClick:function(){return Ie(t.address)},children:e})})}},{title:"".concat(oe),dataIndex:"totalDays",key:"totalDays",sorter:function(e,t){return e.totalDays-t.totalDays},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ie),dataIndex:"totalWeeks",key:"totalWeeks",sorter:function(e,t){return e.totalWeeks-t.totalWeeks},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ce),dataIndex:"totalMonths",key:"totalMonths",sorter:function(e,t){return e.totalMonths-t.totalMonths},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(le),dataIndex:"totalContracts",key:"totalContracts",sorter:function(e,t){return e.totalContracts-t.totalContracts},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",sorter:function(e,t){return e.l1ToL2Balance-t.l1ToL2Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l1ToL2Count})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",sorter:function(e,t){return e.l2ToL1Balance-t.l2ToL1Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l2ToL1Count})}},{title:"".concat(de),dataIndex:"totalGasFee",key:"totalGasFee",sorter:function(e,t){return e.totalGasFee-t.totalGasFee},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.totalGasFee.toFixed(2)]})}},{title:"".concat(ue),dataIndex:"transValue",key:"transValue",sorter:function(e,t){return e.transBalance-t.transBalance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.transBalance.toFixed(2)]})}}]}]}),[w,l,Y,T.addressHide,_e,Oe]),st=(0,p.useCallback)((function(){W.current.handleOpenSearchModalForm()}),[W]),ot=(0,p.useCallback)(f()(d()().mark((function e(){var t,r,a,n,s,o,i,c,l,u;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Je.id(C.chainIdDec).substring(0,8),r=!1,a={key:t,chainId:C.chainIdDec,lastUpdated:v()().toISOString(),data:[]},n={key:t,chainId:C.chainIdDec,lastUpdated:v()().toISOString(),data:[]},e.next=6,y.db.tokenPrice.where({key:t}).toArray();case 6:return(s=e.sent).length&&(a=s[0],r=!0),"",o={query:"query TokensSummaryTableQuery {\n  erc20Summaries {\n    name\n    symbol\n    number_of_owners\n    total_supply\n    total_supply_display\n    total_volume_24_hours\n    total_volume_change_basis_points_24_hours\n    total_volume_24_hours_usd_price\n    usd_price\n    market_cap_usd\n  }\n}\n",variables:{}},e.next=12,(0,b.zI)((0,h.request)(C.blockExplorerUrls[1],{method:"POST",data:o}));case 12:i=e.sent,c=x()(i,2),l=c[0],u=c[1],(l?N.data.erc20Summaries:u.data.erc20Summaries).forEach((function(e){ht.hasOwnProperty(e.symbol)&&n.data.push({logo:ht[e.symbol].logo,name:e.name,address:ht[e.symbol].address,symbol:e.symbol,decimals:ht[e.symbol].decimals,price:e.usd_price})})),u&&localStorage.setItem("tokenDataStarkNet",JSON.stringify(u)),!n.data.length&&r?$(k.N.setTokenPriceData(a.data)):($(k.N.setTokenPriceData(n.data)),y.db.tokenPrice.put(n));case 20:case"end":return e.stop()}}),e)}))),[C]),it=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],e.next=4,y.db.assetList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0].data),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ct=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:C.chainId,address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),dt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:C.chainId,address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ut=(0,p.useCallback)(f()(d()().mark((function e(){var t,r,a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Je.id(C.chainIdDec).substring(0,8),r={key:t,chainId:C.chainIdDec,lastUpdated:v()().toISOString(),data:[]},e.next=4,y.db.tokenPrice.where({key:t}).toArray();case 4:(a=e.sent).length&&(r=a[0]),$(k.N.setTokenPriceData(r.data));case 7:case"end":return e.stop()}}),e)}))),[C]),ft=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,n,s,o,i,c,l;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),a={},n={},s={},t.next=6,ut();case 6:R.current={},o=0;case 8:if(!(o<r.length)){t.next=24;break}return t.next=11,it(r[o]);case 11:return i=t.sent,t.next=14,ct(r[o]);case 14:return c=t.sent,t.next=17,dt(r[o]);case 17:l=t.sent,a[r[o]]=c,n[r[o]]=l,s[r[o]]=i;case 21:o++,t.next=8;break;case 24:$(k.N.setTxListData(a)),$(k.N.setTransferListData(n)),$(k.N.setAssetListData(s)),T.addressesStarkNet=r,$(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(r[0]),B(!1);case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,R,T,ct,it,ut,dt]),mt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,s,o,i,f,x,h,p,y,b,g;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:B(!0),a={},s={},o={},i=ot(),f=0;case 8:if(!(f<r.length)){t.next=24;break}return t.next=11,Ze(r[f]);case 11:return x=t.sent,t.next=14,Fe(r[f]);case 14:return h=t.sent,t.next=17,Be(r[f]);case 17:p=t.sent,a[r[f]]=h,s[r[f]]=p,o[r[f]]=x;case 21:f++,t.next=8;break;case 24:return t.next=26,i;case 26:y=c()(c()({},l),o),b=c()(c()({},u),a),g=c()(c()({},m),s),$(k.N.setTxListData(b)),$(k.N.setTransferListData(g)),$(k.N.setAssetListData(y)),T.addressesStarkNet=n()(new Set([].concat(n()(T.addressesStarkNet),n()(r)))),$(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(T.addressesStarkNet[0]),te([]),e.forceUpdate(),B(!1);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,R,T,Fe,Ze,Be,ot,u,l,m]),xt=(0,p.useCallback)((function(){var e=JSON.stringify(T,null,2),t="data:,".concat(e),r=document.createElement("a");r.href=t,r.download="analysisConfig_"+v()().format("YYYY-MM-DDTHH-mm-ss")+".json",r.click()}),[T]),pt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsText(t.fileList[0].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?(localStorage.setItem("analysisConfig",JSON.stringify(e)),window.location.reload()):Ue.ZP.error("".concat(De))}catch(e){Ue.ZP.error("".concat(De))}};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[mt]);return(0,p.useEffect)((function(){T.addressesStarkNet.length&&ft(T.addressesStarkNet)}),[ft,T]),(0,p.useEffect)((function(){tt()}),[tt]),(0,S.jsxs)("div",{className:"analysisSummaryStarkNet",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:nt,dataSource:w,defaultData:[],search:!1,options:!1,pagination:!1,bordered:!0,loading:F,headerTitle:(0,S.jsxs)(Ye.Z,{wrap:!0,children:[(0,S.jsx)(We.ZP,{type:"primary",onClick:st,children:we}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return mt(q)},children:je}),(0,S.jsx)(Ge.Z,{title:Ee,onConfirm:function(){return at(q)},children:(0,S.jsx)(We.ZP,{type:"primary",children:Te})}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return xt()},children:Ce}),(0,S.jsx)(Re.Z,{accept:".json",maxCount:1,showUploadList:!1,onChange:pt,beforeUpload:function(){return!1},children:(0,S.jsx)(We.ZP,{type:"primary",children:Le})}),(0,S.jsxs)("div",{children:["ETH: $",e.tokenPrice?e.tokenPrice.toFixed(2):"0.0"]})]}),rowSelection:{type:"checkbox",selectedRowKeys:ee,onChange:function(e){var t=[];e.forEach((function(e){t.push(T.addressesStarkNet[e])})),X(t),te(e)}},tableAlertRender:!1,tableAlertOptionRender:!1,summary:function(e){var t=0,r=0,a=0,n=0,s=0,o=0,i=0;return e.forEach((function(e){s+=e.totalGasFee,r+=e.eth,a+=e.usdc,n+=e.usdt,o+=e.l1ToL2Count,i+=e.l2ToL1Count,t+=e.transBalance})),(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,align:"center",children:(0,S.jsx)("span",{className:"font-bold",children:be})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:r.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:6,children:(0,S.jsx)("span",{className:"font-bold",children:a.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:7,children:(0,S.jsx)("span",{className:"font-bold",children:n.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:8}),(0,S.jsx)(Me.Z.Summary.Cell,{index:9}),(0,S.jsx)(Me.Z.Summary.Cell,{index:10}),(0,S.jsx)(Me.Z.Summary.Cell,{index:11}),(0,S.jsx)(Me.Z.Summary.Cell,{index:12}),(0,S.jsx)(Me.Z.Summary.Cell,{index:13}),(0,S.jsx)(Me.Z.Summary.Cell,{index:14,children:(0,S.jsx)("span",{className:"font-bold",children:o})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:15,children:(0,S.jsx)("span",{className:"font-bold",children:i})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:16,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",s.toFixed(2)]})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:17,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",t.toFixed(2)]})})]})}}),(0,S.jsx)(Lt,{ref:H,handleParseData:tt}),(0,S.jsx)(_t,{ref:W,handleConfirm:mt}),(0,S.jsx)(ze.Z,{title:Pe,placement:"bottom",onClose:function(){return M(!1)},open:O,closeIcon:!1,headerStyle:{padding:"12px 12px"},bodyStyle:{padding:"12px"},children:(0,S.jsx)(Gt,{address:E,tokenPrice:e.tokenPrice})}),i]})},yt=(0,p.memo)(pt),bt=r(19485),kt=JSON.parse('{"0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec":"Office Bridge","0xe5D7C2a44FfDDf6b295A15c148167daaAf5Cf34f":"WETH","0x7d43AABC515C356145049227CeE54B608342c0ad":"BUSD","0x66627F389ae46D881773B7131139b2411980E09E":"USDC","0xf5C6825015280CdfD0b56903F9F8B5A2233476F5":"BNB","0x5471ea8f739dd37E9B81Be9c5c77754D8AA953E4":"AVAX","0x265B25e22bcd7f10a5bD6E6410F10537Cc7567e8":"MATIC","0x997BF0ebF2a2a2e8189493cedFd19bCDb077c0d0":"NBS","0x438670D41D5118003B2F42cc0466fbadd760DbF4":"HRZN-NPM"}');v().extend(C()),v().extend(U()),v().extend(Y());var gt=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=Ue.ZP.useMessage(),a=x()(r,2),s=a[0],i=a[1],l=(0,h.useSelector)((function(e){return e.analysis.assetListData})),u=(0,h.useSelector)((function(e){return e.analysis.txListData})),m=(0,h.useSelector)((function(e){return e.analysis.ethTxListData})),g=(0,h.useSelector)((function(e){return e.analysis.transferListData})),N=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),w=(0,h.useSelector)((function(e){return e.analysis.summaryData})),j=(0,h.useSelector)((function(e){return e.analysis.errorData})),T=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),C=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),L=(0,p.useState)(!1),D=x()(L,2),P=D[0],I=D[1],A=(0,p.useState)(-1),O=x()(A,2),M=O[0],_=O[1],Z=(0,h.useDispatch)(),F=(0,p.useRef)(),B=(0,p.useRef)(),U=(0,p.useRef)({}),V=(0,p.useState)([]),Y=x()(V,2),G=Y[0],$=Y[1],H=(0,p.useState)([]),W=x()(H,2),R=W[0],z=W[1],J=(0,p.useState)(!1),q=x()(J,2),X=q[0],K=q[1],Q=(0,p.useState)(""),ee=x()(Q,2),te=ee[0],re=ee[1],ae=(0,h.useIntl)(),ne=ae.formatMessage({id:"analysis.Address"}),oe=ae.formatMessage({id:"analysis.TotalTx"}),ie=ae.formatMessage({id:"analysis.LastTxTime"}),ce=ae.formatMessage({id:"analysis.TotalDays"}),le=ae.formatMessage({id:"analysis.TotalWeeks"}),de=ae.formatMessage({id:"analysis.TotalMonths"}),ue=ae.formatMessage({id:"analysis.TotalContracts"}),fe=ae.formatMessage({id:"analysis.TotalGasFee"}),me=ae.formatMessage({id:"analysis.None"}),xe=ae.formatMessage({id:"analysis.MonthAgo"}),he=ae.formatMessage({id:"analysis.WeekAgo"}),pe=ae.formatMessage({id:"analysis.DayAgo"}),ye=ae.formatMessage({id:"analysis.HourAgo"}),be=ae.formatMessage({id:"analysis.MinAgo"}),ke=ae.formatMessage({id:"analysis.Summary"}),ge=ae.formatMessage({id:"analysis.Action"}),Ne=ae.formatMessage({id:"analysis.Note"}),ve=ae.formatMessage({id:"analysis.GetBalancesError"}),Se=ae.formatMessage({id:"analysis.GetTransactionsError"}),we=ae.formatMessage({id:"analysis.GetTransfersError"}),je=ae.formatMessage({id:"analysis.AddAddress"}),Te=ae.formatMessage({id:"analysis.BatchUpdate"}),Ce=ae.formatMessage({id:"analysis.BatchDelete"}),Le=ae.formatMessage({id:"analysis.Backup"}),De=ae.formatMessage({id:"analysis.Restore"}),Ee=ae.formatMessage({id:"analysis.RestoreFail"}),Pe=ae.formatMessage({id:"analysis.WetherToDelete"}),Ie=ae.formatMessage({id:"analysis.TxSummary"}),Oe=(0,p.useCallback)((function(e){re(e),K(!0)}),[]),_e=(0,p.useCallback)((function(e){F.current.handleOpenNoteModalForm(e)}),[F]),Ze=(0,p.useCallback)((function(){T.addressHide=!T.addressHide,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),t()}),[T]),Fe=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],n=C.blockExplorerUrls[1]+"?module=account&action=balance&address="+t,e.next=5,(0,b.zI)((0,h.request)(n));case 5:if(o=e.sent,i=x()(o,2),c=i[0],l=i[1],!c&&"OK"===l.message){e.next=16;break}return s.error("".concat(ve),5),e.next=13,y.db.assetList.where({key:r}).toArray();case 13:return(u=e.sent).length&&(a=u[0].data),e.abrupt("return",a);case 16:return a.push({balance:se.formatEther(l.result),decimals:18,l1Address:"",l2Address:"",name:"ETH",symbol:"ETH",logo:dt}),f={key:r,chainId:Number(C.chainIdDec),address:t,data:a},y.db.assetList.put(f),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),Be=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainId),address:t,lastUpdated:"0",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:return n=e.sent,o="0",n.length&&(a=n[0],o=String(n[0].lastBlock+1)),i="",("59144"===C.chainIdDec||"59140"===C.chainIdDec)&&(i=C.blockExplorerUrls[1]+"?module=account&action=txlist&sort=asc&address="+t+"&startblock="+o),e.next=11,(0,b.zI)((0,h.request)(i));case 11:if(c=e.sent,l=x()(c,2),u=l[0],f=l[1],!u){e.next=18;break}return s.error("".concat(Se),5),e.abrupt("return",a.data);case 18:if(f.result.length){e.next=20;break}return e.abrupt("return",a.data);case 20:return f.result.forEach((function(e){a.lastBlock>=Number(e.blockNumber)||a.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input.slice(0,10),nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex})})),m=f.result[f.result.length-1],a.lastBlock=Number(m.blockNumber),a.lastIndex=Number(m.transactionIndex),a.lastUpdated=Number(m.timeStamp),y.db.txList.put(a),e.abrupt("return",a.data);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),tt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","59144"===C.chainIdDec?r="1":"59140"===C.chainIdDec&&(r="5"),a=Je.id(t+r).substring(0,8),n={key:a,chainId:Number(r),address:t,lastUpdated:"0",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=6,y.db.txList.where({key:a}).toArray();case 6:return o=e.sent,i="0",o.length&&(n=o[0],i=String(o[0].lastBlock+1)),c="","1"===r?c="https://eth.blockscout.com/api?module=account&action=txlist&sort=asc&address="+t+"&start_block="+i:"5"===r&&(c="https://eth-goerli.blockscout.com/api?module=account&action=txlist&sort=asc&address="+t+"&start_block="+i),e.next=13,(0,b.zI)((0,h.request)(c));case 13:if(l=e.sent,u=x()(l,2),f=u[0],m=u[1],!f){e.next=20;break}return s.error("".concat(Se),5),e.abrupt("return",n.data);case 20:if(m.result.length){e.next=22;break}return e.abrupt("return",n.data);case 22:return m.result.forEach((function(e){n.lastBlock>=Number(e.blockNumber)||n.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input.slice(0,10),nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex})})),p=m.result[m.result.length-1],n.lastBlock=Number(p.blockNumber),n.lastIndex=Number(p.transactionIndex),n.lastUpdated=Number(p.timeStamp),y.db.txList.put(n),e.abrupt("return",n.data);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),rt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:return n=e.sent,o="0",n.length&&(a=n[0],o=String(n[0].lastBlock+1)),i="",("59144"===C.chainIdDec||"59140"===C.chainIdDec)&&(i=C.blockExplorerUrls[1]+"?module=account&action=tokentx&sort=asc&address="+t+"&startblock="+o),e.next=11,(0,b.zI)((0,h.request)(i));case 11:if(c=e.sent,l=x()(c,2),u=l[0],f=l[1],!u){e.next=18;break}return s.error("".concat(we),5),e.abrupt("return",a.data);case 18:if(f.result.length){e.next=20;break}return e.abrupt("return",a.data);case 20:return f.result.forEach((function(e){a.lastBlock>=Number(e.blockNumber)||a.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input,nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex,tokenName:e.tokenName,tokenSymbol:e.tokenSymbol,tokenDecimal:e.tokenDecimal})})),m=f.result[f.result.length-1],a.lastBlock=Number(m.blockNumber),a.lastUpdated=Number(m.timeStamp),y.db.transferList.put(a),e.abrupt("return",a.data);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),at=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(u).length){t.next=2;break}return t.abrupt("return");case 2:I(!0),r=[],a=d()().mark((function t(a){var n,s,o,i,c,f,x,h,p,y,b,k,N,S,w,j,C,L,D,P,I,A,O,M,_,Z,F,B,U,V,Y,G,$,H,W,R;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=T.addressesLinea[a],s={},o={},i={},c=new Set,f=E.O$.from("0"),r.push({key:a,address:n,totalTx:0,totalDays:0,totalWeeks:0,totalMonths:0,l1ToL2Value:{},l2ToL1Value:{},transValue:{},totalContracts:0,totalGasFee:0,lastTxTime:"${intlNone}",lastTxDate:"",eth:0,usdc:0,usdt:0,dai:0,wbtc:0,l1ToL2Balance:0,l1ToL2Count:0,l2ToL1Balance:0,l2ToL1Count:0,transBalance:0,lastTxTimeDuration:0,note:""}),g[n].forEach((function(e){var t=r[a].transValue;if(e.from===n.toLowerCase()){var s=e.contractAddress,o=e.value;t.hasOwnProperty(s)||(t[s]=0),t[s]=t[s]+Number(o)}})),m[n].forEach((function(e){var t=r[a].l1ToL2Value;if(e.from===n.toLowerCase()&&"0xd19d4b5d358258f05d7b411e21a1460d11b0876f"===e.to){var s="0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec",o=e.value;t.hasOwnProperty(s)||(t[s]={amount:E.O$.from("0"),count:0,token:null}),t[s].amount=t[s].amount.add(E.O$.from(o)),++t[s].count,t[s].token={symbol:"ETH",name:"ETH",decimals:18}}})),u[n].forEach((function(e){if(e.from===n.toLowerCase()){var t=v().unix(Number(e.timeStamp)).local().format().substring(0,10),l=v().unix(Number(e.timeStamp)).local().format("YYYY-ww"),d=v().unix(Number(e.timeStamp)).local().format("YYYY-MM"),u=E.O$.from(e.gasUsed),m=E.O$.from(e.gasPrice),x=u.mul(m);s.hasOwnProperty(t)||(s[t]=0),o.hasOwnProperty(l)||(o[l]=0),i.hasOwnProperty(d)||(i[d]=0),s[t]+=1,o[l]+=1,i[d]+=1,r[a].totalTx+=1,f=f.add(x),c.add(e.to);var h=r[a].l2ToL1Value;if("0x508ca82df566dcd1b0de8296e70a96332cd644ec"===e.to){var p="0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec",y=e.value;h.hasOwnProperty(p)||(h[p]={amount:E.O$.from("0"),count:0,token:null}),h[p].amount=h[p].amount.add(E.O$.from(y)),++h[p].count,h[p].token={symbol:"ETH",name:"ETH",decimals:18}}}})),x=u[n],h=u[n].length,p="",y=0,b="",h?(k=Number(x[h-1].timeStamp),N=v()().unix(),S=N-k,w=v().duration(S,"seconds"),y=w.asSeconds(),w.asMonths()>=1?(j=Math.floor(w.asMonths()),p="".concat(j).concat(xe)):w.asWeeks()>=1?(C=Math.floor(w.asWeeks()),p="".concat(C).concat(he)):w.asDays()>=1?(L=Math.floor(w.asDays()),p="".concat(L).concat(pe)):w.asHours()>=1?(D=Math.floor(w.asHours()),p="".concat(D).concat(ye)):(P=Math.floor(w.asMinutes()),p="".concat(P).concat(be)),b=v().unix(Number(x[h-1].timeStamp)).format(),I=x[h-1],A=bt.getAddress(I.to),O=(O=T.transNoteLinea[I.hash])||"",!(M=(M=T.transNoteLinea[A])||"")&&kt.hasOwnProperty(A)&&(M=kt[A]),b=b+" "+M+" "+O):(p="".concat(me),b="".concat(me)),_=0,0,0,0,0,l[n]&&l[n].forEach((function(e){"ETH"===e.name&&(_=Number(e.balance))})),Z=0,F=0,l[n])for(U in B=r[a].l1ToL2Value)B.hasOwnProperty(U)&&(F+=B[U].count,V=Number(se.formatEther(B[U].amount)),Z+=V*Number(e.tokenPrice));if(Y=0,G=0,l[n])for(H in $=r[a].l2ToL1Value)$.hasOwnProperty(H)&&(G+=$[H].count,W=Number(se.formatEther($[H].amount)),Y+=W*Number(e.tokenPrice));0,R="",T.addressNoteLinea.hasOwnProperty(n)&&(R=T.addressNoteLinea[n]),r[a].totalDays=Object.keys(s).length,r[a].totalWeeks=Object.keys(o).length,r[a].totalMonths=Object.keys(i).length,r[a].totalContracts=c.size,r[a].totalGasFee=Number(se.formatEther(f))*e.tokenPrice,r[a].lastTxTime=p,r[a].lastTxTimeDuration=y,r[a].eth=_,r[a].usdc=0,r[a].usdt=0,r[a].dai=0,r[a].wbtc=0,r[a].l1ToL2Balance=Z,r[a].l1ToL2Count=F,r[a].l2ToL1Balance=Y,r[a].l2ToL1Count=G,r[a].transBalance=0,r[a].note=R,r[a].lastTxDate=b;case 50:case"end":return t.stop()}}),t)})),n=0;case 6:if(!(n<T.addressesLinea.length)){t.next=11;break}return t.delegateYield(a(n),"t0",8);case 8:n++,t.next=6;break;case 11:Z(k.N.setSummaryData(r)),I(!1);case 13:case"end":return t.stop()}}),t)}))),[T,u,l,N,g,m]),nt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t,r){var a,n,s,i,f,x,h,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(r),e.next=3,Fe(t.address);case 3:return a=e.sent,e.next=6,Be(t.address);case 6:return n=e.sent,e.next=9,tt(t.address);case 9:return s=e.sent,e.next=12,rt(t.address);case 12:i=e.sent,f=c()(c()({},l),{},o()({},t.address,a)),x=c()(c()({},u),{},o()({},t.address,n)),h=c()(c()({},m),{},o()({},t.address,s)),p=c()(c()({},g),{},o()({},t.address,i)),Z(k.N.setAssetListData(f)),Z(k.N.setTxListData(x)),Z(k.N.setEthTxListData(h)),Z(k.N.setTransferListData(p)),_(-1);case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Fe,Be,tt,rt,u,l,g,m]),st=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:a=[],T.addressesLinea.forEach((function(e){r.includes(e)||a.push(e)})),T.addressesLinea=a,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),z([]),at(),a.length?e.setCurrentAddress(a[0]):(e.setCurrentAddress(""),Z(k.N.setAveDailyTx(0)),Z(k.N.setAveWeeklyTx(0)),Z(k.N.setAveMonthlyTx(0)),Z(k.N.setTotalDays(0)),Z(k.N.setTotalWeeks(0)),Z(k.N.setTotalMonths(0)),Z(k.N.setTotalTx(0)),Z(k.N.setTotalContracts(0))),e.forceUpdate();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,T,C,at]),ot=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",align:"center",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:"".concat(Ne),dataIndex:"note",key:"note",fixed:!0,width:"50px",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return _e(t)},children:[t.note,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:ne}),(0,S.jsx)("span",{onClick:Ze,children:T.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"80px",render:function(e,t){return T.addressHide?(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/address/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address.substring(0,4)+"***"+t.address.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/contract/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address})}},{title:"".concat(ge),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"50px",render:function(e,t,r){return(0,S.jsxs)(Ye.Z,{children:[(0,S.jsx)(Ge.Z,{title:Pe,onConfirm:function(){return st([t.address])},children:(0,S.jsx)("a",{children:(0,S.jsx)(Qe.Z,{})})}),M===r?(0,S.jsx)($e.Z,{size:"small"}):-1===M?(0,S.jsx)("a",{onClick:function(){return nt(t,r)},children:(0,S.jsx)(et.Z,{})}):(0,S.jsx)("span",{children:(0,S.jsx)(et.Z,{})})]})}},{title:"Linea",children:[{title:"ETH",dataIndex:"eth",key:"eth",sorter:function(e,t){return e.eth-t.eth},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.eth.toFixed(4)})}},{title:"".concat(oe),dataIndex:"totalTx",key:"totalTx",sorter:function(e,t){return e.totalTx-t.totalTx},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ie),dataIndex:"lastTxTime",key:"lastTxTime",sorter:function(e,t){return e.lastTxTimeDuration-t.lastTxTimeDuration},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)(He.Z,{placement:"right",title:t.lastTxDate,children:(0,S.jsx)("a",{onClick:function(){return Oe(t.address)},children:e})})}},{title:"".concat(ce),dataIndex:"totalDays",key:"totalDays",sorter:function(e,t){return e.totalDays-t.totalDays},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(le),dataIndex:"totalWeeks",key:"totalWeeks",sorter:function(e,t){return e.totalWeeks-t.totalWeeks},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(de),dataIndex:"totalMonths",key:"totalMonths",sorter:function(e,t){return e.totalMonths-t.totalMonths},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ue),dataIndex:"totalContracts",key:"totalContracts",sorter:function(e,t){return e.totalContracts-t.totalContracts},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",sorter:function(e,t){return e.l1ToL2Balance-t.l1ToL2Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l1ToL2Count})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",sorter:function(e,t){return e.l2ToL1Balance-t.l2ToL1Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l2ToL1Count})}},{title:"".concat(fe),dataIndex:"totalGasFee",key:"totalGasFee",sorter:function(e,t){return e.totalGasFee-t.totalGasFee},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.totalGasFee.toFixed(2)]})}}]}]}),[w,l,M,T.addressHide,Ze,_e]),it=(0,p.useCallback)((function(){B.current.handleOpenSearchModalForm()}),[B]),ct=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],e.next=4,y.db.assetList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0].data),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),lt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ut=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,s;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","59144"===C.chainIdDec?r="1":"59140"===C.chainIdDec&&(r="5"),a=Je.id(t+r).substring(0,8),n={key:a,chainId:Number(r),address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=6,y.db.txList.where({key:a}).toArray();case 6:return(s=e.sent).length&&(n=s[0]),e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ft=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),mt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,n,s,o,i,c,l,u,f;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(!0),a={},n={},s={},o={},U.current={},i=0;case 7:if(!(i<r.length)){t.next=27;break}return t.next=10,ct(r[i]);case 10:return c=t.sent,t.next=13,lt(r[i]);case 13:return l=t.sent,t.next=16,ut(r[i]);case 16:return u=t.sent,t.next=19,ft(r[i]);case 19:f=t.sent,a[r[i]]=l,n[r[i]]=u,s[r[i]]=f,o[r[i]]=c;case 24:i++,t.next=7;break;case 27:Z(k.N.setTxListData(a)),Z(k.N.setEthTxListData(n)),Z(k.N.setTransferListData(s)),Z(k.N.setAssetListData(o)),T.addressesLinea=r,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(r[0]),I(!1);case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,U,T,lt,ut,ct,ft]),xt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,s,o,i,f,x,h,p,y,b,N,v,S;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:I(!0),a={},s={},o={},i={},f=0;case 8:if(!(f<r.length)){t.next=28;break}return t.next=11,Fe(r[f]);case 11:return x=t.sent,t.next=14,Be(r[f]);case 14:return h=t.sent,t.next=17,tt(r[f]);case 17:return p=t.sent,t.next=20,rt(r[f]);case 20:y=t.sent,a[r[f]]=h,s[r[f]]=p,o[r[f]]=y,i[r[f]]=x;case 25:f++,t.next=8;break;case 28:b=c()(c()({},l),i),N=c()(c()({},u),a),v=c()(c()({},m),s),S=c()(c()({},g),o),Z(k.N.setTxListData(N)),Z(k.N.setEthTxListData(v)),Z(k.N.setTransferListData(S)),Z(k.N.setAssetListData(b)),T.addressesLinea=n()(new Set([].concat(n()(T.addressesLinea),n()(r)))),Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(T.addressesLinea[0]),z([]),e.forceUpdate(),I(!1);case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,U,T,Be,tt,Fe,rt,u,m,l,g]),ht=(0,p.useCallback)((function(){var e=JSON.stringify(T,null,2),t="data:,".concat(e),r=document.createElement("a");r.href=t,r.download="analysisConfig_"+v()().format("YYYY-MM-DDTHH-mm-ss")+".json",r.click()}),[T]),pt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsText(t.fileList[0].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?(localStorage.setItem("analysisConfig",JSON.stringify(e)),window.location.reload()):Ue.ZP.error("".concat(Ee))}catch(e){Ue.ZP.error("".concat(Ee))}};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[xt]);return(0,p.useEffect)((function(){T.addressesLinea.length&&mt(T.addressesLinea)}),[mt,T]),(0,p.useEffect)((function(){at()}),[at]),(0,S.jsxs)("div",{className:"analysisSummaryLinea",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:ot,dataSource:w,defaultData:[],search:!1,options:!1,pagination:!1,bordered:!0,loading:P,headerTitle:(0,S.jsxs)(Ye.Z,{wrap:!0,children:[(0,S.jsx)(We.ZP,{type:"primary",onClick:it,children:je}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return xt(G)},children:Te}),(0,S.jsx)(Ge.Z,{title:Pe,onConfirm:function(){return st(G)},children:(0,S.jsx)(We.ZP,{type:"primary",children:Ce})}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return ht()},children:Le}),(0,S.jsx)(Re.Z,{accept:".json",maxCount:1,showUploadList:!1,onChange:pt,beforeUpload:function(){return!1},children:(0,S.jsx)(We.ZP,{type:"primary",children:De})}),(0,S.jsxs)("div",{children:["ETH: $",e.tokenPrice?e.tokenPrice.toFixed(2):"0.0"]})]}),rowSelection:{type:"checkbox",selectedRowKeys:R,onChange:function(e){var t=[];e.forEach((function(e){t.push(T.addressesLinea[e])})),$(t),z(e)}},tableAlertRender:!1,tableAlertOptionRender:!1,summary:function(e){var t=0,r=0,a=0,n=0;return e.forEach((function(e){r+=e.totalGasFee,t+=e.eth,a+=e.l1ToL2Count,n+=e.l2ToL1Count})),(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,align:"center",children:(0,S.jsx)("span",{className:"font-bold",children:ke})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:t.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:8}),(0,S.jsx)(Me.Z.Summary.Cell,{index:9}),(0,S.jsx)(Me.Z.Summary.Cell,{index:10}),(0,S.jsx)(Me.Z.Summary.Cell,{index:11}),(0,S.jsx)(Me.Z.Summary.Cell,{index:12}),(0,S.jsx)(Me.Z.Summary.Cell,{index:13}),(0,S.jsx)(Me.Z.Summary.Cell,{index:14,children:(0,S.jsx)("span",{className:"font-bold",children:a})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:15,children:(0,S.jsx)("span",{className:"font-bold",children:n})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:16,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",r.toFixed(2)]})})]})}}),(0,S.jsx)(Lt,{ref:F,handleParseData:at}),(0,S.jsx)(_t,{ref:B,handleConfirm:xt}),(0,S.jsx)(ze.Z,{title:Ie,placement:"bottom",onClose:function(){return K(!1)},open:X,closeIcon:!1,headerStyle:{padding:"12px 12px"},bodyStyle:{padding:"12px"},children:(0,S.jsx)(Ht,{address:te,tokenPrice:e.tokenPrice})}),i]})},Nt=(0,p.memo)(gt),vt={};v().extend(C()),v().extend(U()),v().extend(Y());var St=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=Ue.ZP.useMessage(),a=x()(r,2),s=a[0],i=a[1],l=(0,h.useSelector)((function(e){return e.analysis.assetListData})),u=(0,h.useSelector)((function(e){return e.analysis.txListData})),m=(0,h.useSelector)((function(e){return e.analysis.ethTxListData})),g=(0,h.useSelector)((function(e){return e.analysis.transferListData})),N=(0,h.useSelector)((function(e){return e.analysis.tokenPriceData})),w=(0,h.useSelector)((function(e){return e.analysis.summaryData})),j=(0,h.useSelector)((function(e){return e.analysis.errorData})),T=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),C=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),L=(0,p.useState)(!1),D=x()(L,2),P=D[0],I=D[1],A=(0,p.useState)(-1),O=x()(A,2),M=O[0],_=O[1],Z=(0,h.useDispatch)(),F=(0,p.useRef)(),B=(0,p.useRef)(),U=(0,p.useRef)({}),V=(0,p.useState)([]),Y=x()(V,2),G=Y[0],$=Y[1],H=(0,p.useState)([]),W=x()(H,2),R=W[0],z=W[1],J=(0,p.useState)(!1),q=x()(J,2),X=q[0],K=q[1],Q=(0,p.useState)(""),ee=x()(Q,2),te=ee[0],re=ee[1],ae=(0,h.useIntl)(),ne=ae.formatMessage({id:"analysis.Address"}),oe=ae.formatMessage({id:"analysis.TotalTx"}),ie=ae.formatMessage({id:"analysis.LastTxTime"}),ce=ae.formatMessage({id:"analysis.TotalDays"}),le=ae.formatMessage({id:"analysis.TotalWeeks"}),de=ae.formatMessage({id:"analysis.TotalMonths"}),ue=ae.formatMessage({id:"analysis.TotalContracts"}),fe=ae.formatMessage({id:"analysis.TotalGasFee"}),me=ae.formatMessage({id:"analysis.None"}),xe=ae.formatMessage({id:"analysis.MonthAgo"}),he=ae.formatMessage({id:"analysis.WeekAgo"}),pe=ae.formatMessage({id:"analysis.DayAgo"}),ye=ae.formatMessage({id:"analysis.HourAgo"}),be=ae.formatMessage({id:"analysis.MinAgo"}),ke=ae.formatMessage({id:"analysis.Summary"}),ge=ae.formatMessage({id:"analysis.Action"}),Ne=ae.formatMessage({id:"analysis.Note"}),ve=ae.formatMessage({id:"analysis.GetBalancesError"}),Se=ae.formatMessage({id:"analysis.GetTransactionsError"}),we=ae.formatMessage({id:"analysis.GetTransfersError"}),je=ae.formatMessage({id:"analysis.AddAddress"}),Te=ae.formatMessage({id:"analysis.BatchUpdate"}),Ce=ae.formatMessage({id:"analysis.BatchDelete"}),Le=ae.formatMessage({id:"analysis.Backup"}),De=ae.formatMessage({id:"analysis.Restore"}),Ee=ae.formatMessage({id:"analysis.RestoreFail"}),Pe=ae.formatMessage({id:"analysis.WetherToDelete"}),Ie=ae.formatMessage({id:"analysis.TxSummary"}),Oe=(0,p.useCallback)((function(e){re(e),K(!0)}),[]),_e=(0,p.useCallback)((function(e){F.current.handleOpenNoteModalForm(e)}),[F]),Ze=(0,p.useCallback)((function(){T.addressHide=!T.addressHide,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),t()}),[T]),Fe=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],n=C.blockExplorerUrls[1]+"?module=account&action=balance&address="+t,e.next=5,(0,b.zI)((0,h.request)(n));case 5:if(o=e.sent,i=x()(o,2),c=i[0],l=i[1],!c&&"OK"===l.message){e.next=16;break}return s.error("".concat(ve),5),e.next=13,y.db.assetList.where({key:r}).toArray();case 13:return(u=e.sent).length&&(a=u[0].data),e.abrupt("return",a);case 16:return a.push({balance:se.formatEther(l.result),decimals:18,l1Address:"",l2Address:"",name:"ETH",symbol:"ETH",logo:dt}),f={key:r,chainId:Number(C.chainIdDec),address:t,data:a},y.db.assetList.put(f),e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),Be=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainId),address:t,lastUpdated:"0",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:return n=e.sent,o="0",n.length&&(a=n[0],o=String(n[0].lastBlock+1)),i="",("8453"===C.chainIdDec||"84531"===C.chainIdDec)&&(i=C.blockExplorerUrls[1]+"?module=account&action=txlist&sort=asc&address="+t+"&startblock="+o),e.next=11,(0,b.zI)((0,h.request)(i));case 11:if(c=e.sent,l=x()(c,2),u=l[0],f=l[1],!u){e.next=18;break}return s.error("".concat(Se),5),e.abrupt("return",a.data);case 18:if(f.result.length){e.next=20;break}return e.abrupt("return",a.data);case 20:return f.result.forEach((function(e){a.lastBlock>=Number(e.blockNumber)||a.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input.slice(0,10),nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex})})),m=f.result[f.result.length-1],a.lastBlock=Number(m.blockNumber),a.lastIndex=Number(m.transactionIndex),a.lastUpdated=Number(m.timeStamp),y.db.txList.put(a),e.abrupt("return",a.data);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),tt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","8453"===C.chainIdDec?r="1":"84531"===C.chainIdDec&&(r="5"),a=Je.id(t+r).substring(0,8),n={key:a,chainId:Number(r),address:t,lastUpdated:"0",lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=6,y.db.txList.where({key:a}).toArray();case 6:return o=e.sent,i="0",o.length&&(n=o[0],i=String(o[0].lastBlock+1)),c="","1"===r?c="https://eth.blockscout.com/api?module=account&action=txlist&sort=asc&address="+t+"&start_block="+i:"5"===r&&(c="https://eth-goerli.blockscout.com/api?module=account&action=txlist&sort=asc&address="+t+"&start_block="+i),e.next=13,(0,b.zI)((0,h.request)(c));case 13:if(l=e.sent,u=x()(l,2),f=u[0],m=u[1],!f){e.next=20;break}return s.error("".concat(Se),5),e.abrupt("return",n.data);case 20:if(m.result.length){e.next=22;break}return e.abrupt("return",n.data);case 22:return m.result.forEach((function(e){n.lastBlock>=Number(e.blockNumber)||n.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input.slice(0,10),nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex})})),p=m.result[m.result.length-1],n.lastBlock=Number(p.blockNumber),n.lastIndex=Number(p.transactionIndex),n.lastUpdated=Number(p.timeStamp),y.db.txList.put(n),e.abrupt("return",n.data);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),rt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,o,i,c,l,u,f,m;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:return n=e.sent,o="0",n.length&&(a=n[0],o=String(n[0].lastBlock+1)),i="",("8453"===C.chainIdDec||"84531"===C.chainIdDec)&&(i=C.blockExplorerUrls[1]+"?module=account&action=tokentx&sort=asc&address="+t+"&startblock="+o),e.next=11,(0,b.zI)((0,h.request)(i));case 11:if(c=e.sent,l=x()(c,2),u=l[0],f=l[1],!u){e.next=18;break}return s.error("".concat(we),5),e.abrupt("return",a.data);case 18:if(f.result.length){e.next=20;break}return e.abrupt("return",a.data);case 20:return f.result.forEach((function(e){a.lastBlock>=Number(e.blockNumber)||a.data.push({blockNumber:e.blockNumber,contractAddress:e.contractAddress,cumulativeGasUsed:e.cumulativeGasUsed,from:e.from,gas:e.gas,gasPrice:e.gasPrice,gasUsed:e.gasUsed,hash:e.hash,input:e.input,nonce:e.nonce,timeStamp:e.timeStamp,to:e.to,value:e.value,transactionIndex:e.transactionIndex,tokenName:e.tokenName,tokenSymbol:e.tokenSymbol,tokenDecimal:e.tokenDecimal})})),m=f.result[f.result.length-1],a.lastBlock=Number(m.blockNumber),a.lastUpdated=Number(m.timeStamp),y.db.transferList.put(a),e.abrupt("return",a.data);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),at=(0,p.useCallback)(f()(d()().mark((function t(){var r,a,n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object.keys(u).length){t.next=2;break}return t.abrupt("return");case 2:I(!0),r=[],a=d()().mark((function t(a){var n,s,o,i,c,f,x,h,p,y,b,k,N,S,w,j,C,L,D,P,I,A,O,M,_,Z,F,B,U,V,Y,G,$,H,W,R;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=T.addressesBase[a],s={},o={},i={},c=new Set,f=E.O$.from("0"),r.push({key:a,address:n,totalTx:0,totalDays:0,totalWeeks:0,totalMonths:0,l1ToL2Value:{},l2ToL1Value:{},transValue:{},totalContracts:0,totalGasFee:0,lastTxTime:"${intlNone}",lastTxDate:"",eth:0,usdc:0,usdt:0,dai:0,wbtc:0,l1ToL2Balance:0,l1ToL2Count:0,l2ToL1Balance:0,l2ToL1Count:0,transBalance:0,lastTxTimeDuration:0,note:""}),g[n].forEach((function(e){var t=r[a].transValue;if(e.from===n.toLowerCase()){var s=e.contractAddress,o=e.value;t.hasOwnProperty(s)||(t[s]=0),t[s]=t[s]+Number(o)}})),m[n].forEach((function(e){var t=r[a].l1ToL2Value;if(e.from===n.toLowerCase()&&"0x49048044d57e1c92a77f79988d21fa8faf74e97e"===e.to){var s="0x4200000000000000000000000000000000000010",o=e.value;t.hasOwnProperty(s)||(t[s]={amount:E.O$.from("0"),count:0,token:null}),t[s].amount=t[s].amount.add(E.O$.from(o)),++t[s].count,t[s].token={symbol:"ETH",name:"ETH",decimals:18}}})),u[n].forEach((function(e){if(e.from===n.toLowerCase()){var t=v().unix(Number(e.timeStamp)).local().format().substring(0,10),l=v().unix(Number(e.timeStamp)).local().format("YYYY-ww"),d=v().unix(Number(e.timeStamp)).local().format("YYYY-MM"),u=E.O$.from(e.gasUsed),m=E.O$.from(e.gasPrice),x=u.mul(m);s.hasOwnProperty(t)||(s[t]=0),o.hasOwnProperty(l)||(o[l]=0),i.hasOwnProperty(d)||(i[d]=0),s[t]+=1,o[l]+=1,i[d]+=1,r[a].totalTx+=1,f=f.add(x),c.add(e.to);var h=r[a].l2ToL1Value;if("0x4200000000000000000000000000000000000010"===e.to){var p="0x4200000000000000000000000000000000000010",y=e.value;h.hasOwnProperty(p)||(h[p]={amount:E.O$.from("0"),count:0,token:null}),h[p].amount=h[p].amount.add(E.O$.from(y)),++h[p].count,h[p].token={symbol:"ETH",name:"ETH",decimals:18}}}})),x=u[n],h=u[n].length,p="",y=0,b="",h?(k=Number(x[h-1].timeStamp),N=v()().unix(),S=N-k,w=v().duration(S,"seconds"),y=w.asSeconds(),w.asMonths()>=1?(j=Math.floor(w.asMonths()),p="".concat(j).concat(xe)):w.asWeeks()>=1?(C=Math.floor(w.asWeeks()),p="".concat(C).concat(he)):w.asDays()>=1?(L=Math.floor(w.asDays()),p="".concat(L).concat(pe)):w.asHours()>=1?(D=Math.floor(w.asHours()),p="".concat(D).concat(ye)):(P=Math.floor(w.asMinutes()),p="".concat(P).concat(be)),b=v().unix(Number(x[h-1].timeStamp)).format(),I=x[h-1],A=bt.getAddress(I.to),O=(O=T.transNoteBase[I.hash])||"",!(M=(M=T.transNoteBase[A])||"")&&vt.hasOwnProperty(A)&&(M=vt[A]),b=b+" "+M+" "+O):(p="".concat(me),b="".concat(me)),_=0,0,0,0,0,l[n]&&l[n].forEach((function(e){"ETH"===e.name&&(_=Number(e.balance))})),Z=0,F=0,l[n])for(U in B=r[a].l1ToL2Value)B.hasOwnProperty(U)&&(F+=B[U].count,V=Number(se.formatEther(B[U].amount)),Z+=V*Number(e.tokenPrice));if(Y=0,G=0,l[n])for(H in $=r[a].l2ToL1Value)$.hasOwnProperty(H)&&(G+=$[H].count,W=Number(se.formatEther($[H].amount)),Y+=W*Number(e.tokenPrice));0,R="",T.addressNoteBase.hasOwnProperty(n)&&(R=T.addressNoteBase[n]),r[a].totalDays=Object.keys(s).length,r[a].totalWeeks=Object.keys(o).length,r[a].totalMonths=Object.keys(i).length,r[a].totalContracts=c.size,r[a].totalGasFee=Number(se.formatEther(f))*e.tokenPrice,r[a].lastTxTime=p,r[a].lastTxTimeDuration=y,r[a].eth=_,r[a].usdc=0,r[a].usdt=0,r[a].dai=0,r[a].wbtc=0,r[a].l1ToL2Balance=Z,r[a].l1ToL2Count=F,r[a].l2ToL1Balance=Y,r[a].l2ToL1Count=G,r[a].transBalance=0,r[a].note=R,r[a].lastTxDate=b;case 50:case"end":return t.stop()}}),t)})),n=0;case 6:if(!(n<T.addressesBase.length)){t.next=11;break}return t.delegateYield(a(n),"t0",8);case 8:n++,t.next=6;break;case 11:Z(k.N.setSummaryData(r)),I(!1);case 13:case"end":return t.stop()}}),t)}))),[T,u,l,N,g,m]),nt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t,r){var a,n,s,i,f,x,h,p;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(r),e.next=3,Fe(t.address);case 3:return a=e.sent,e.next=6,Be(t.address);case 6:return n=e.sent,e.next=9,tt(t.address);case 9:return s=e.sent,e.next=12,rt(t.address);case 12:i=e.sent,f=c()(c()({},l),{},o()({},t.address,a)),x=c()(c()({},u),{},o()({},t.address,n)),h=c()(c()({},m),{},o()({},t.address,s)),p=c()(c()({},g),{},o()({},t.address,i)),Z(k.N.setAssetListData(f)),Z(k.N.setTxListData(x)),Z(k.N.setEthTxListData(h)),Z(k.N.setTransferListData(p)),_(-1);case 22:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),[Fe,Be,tt,rt,u,l,g,m]),st=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:a=[],T.addressesBase.forEach((function(e){r.includes(e)||a.push(e)})),T.addressesBase=a,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),z([]),at(),a.length?e.setCurrentAddress(a[0]):(e.setCurrentAddress(""),Z(k.N.setAveDailyTx(0)),Z(k.N.setAveWeeklyTx(0)),Z(k.N.setAveMonthlyTx(0)),Z(k.N.setTotalDays(0)),Z(k.N.setTotalWeeks(0)),Z(k.N.setTotalMonths(0)),Z(k.N.setTotalTx(0)),Z(k.N.setTotalContracts(0))),e.forceUpdate();case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,T,C,at]),ot=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",align:"center",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:"".concat(Ne),dataIndex:"note",key:"note",fixed:!0,width:"50px",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return _e(t)},children:[t.note,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:ne}),(0,S.jsx)("span",{onClick:Ze,children:T.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"80px",render:function(e,t){return T.addressHide?(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/address/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address.substring(0,4)+"***"+t.address.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(C.blockExplorerUrls[0],"/contract/").concat(t.address),target:"_blank",rel:"noreferrer",children:t.address})}},{title:"".concat(ge),dataIndex:"address",key:"address",align:"center",fixed:!(0,b.Mn)(),width:"50px",render:function(e,t,r){return(0,S.jsxs)(Ye.Z,{children:[(0,S.jsx)(Ge.Z,{title:Pe,onConfirm:function(){return st([t.address])},children:(0,S.jsx)("a",{children:(0,S.jsx)(Qe.Z,{})})}),M===r?(0,S.jsx)($e.Z,{size:"small"}):-1===M?(0,S.jsx)("a",{onClick:function(){return nt(t,r)},children:(0,S.jsx)(et.Z,{})}):(0,S.jsx)("span",{children:(0,S.jsx)(et.Z,{})})]})}},{title:"Base",children:[{title:"ETH",dataIndex:"eth",key:"eth",sorter:function(e,t){return e.eth-t.eth},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.eth.toFixed(4)})}},{title:"".concat(oe),dataIndex:"totalTx",key:"totalTx",sorter:function(e,t){return e.totalTx-t.totalTx},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ie),dataIndex:"lastTxTime",key:"lastTxTime",sorter:function(e,t){return e.lastTxTimeDuration-t.lastTxTimeDuration},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)(He.Z,{placement:"right",title:t.lastTxDate,children:(0,S.jsx)("a",{onClick:function(){return Oe(t.address)},children:e})})}},{title:"".concat(ce),dataIndex:"totalDays",key:"totalDays",sorter:function(e,t){return e.totalDays-t.totalDays},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(le),dataIndex:"totalWeeks",key:"totalWeeks",sorter:function(e,t){return e.totalWeeks-t.totalWeeks},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(de),dataIndex:"totalMonths",key:"totalMonths",sorter:function(e,t){return e.totalMonths-t.totalMonths},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"".concat(ue),dataIndex:"totalContracts",key:"totalContracts",sorter:function(e,t){return e.totalContracts-t.totalContracts},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):e}},{title:"L1->L2",dataIndex:"l1ToL2Value",key:"l1ToL2Value",sorter:function(e,t){return e.l1ToL2Balance-t.l1ToL2Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l1ToL2Count})}},{title:"L2->L1",dataIndex:"l2ToL1Value",key:"l2ToL1Value",sorter:function(e,t){return e.l2ToL1Balance-t.l2ToL1Balance},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsx)("span",{children:t.l2ToL1Count})}},{title:"".concat(fe),dataIndex:"totalGasFee",key:"totalGasFee",sorter:function(e,t){return e.totalGasFee-t.totalGasFee},render:function(e,t){return j.hasOwnProperty(t.address)&&j[t.address]?(0,S.jsx)("span",{style:{color:"red"},children:"error"}):(0,S.jsxs)("span",{children:["$",t.totalGasFee.toFixed(2)]})}}]}]}),[w,l,M,T.addressHide,Ze,_e]),it=(0,p.useCallback)((function(){B.current.handleOpenSearchModalForm()}),[B]),ct=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a=[],e.next=4,y.db.assetList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0].data),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),lt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=4,y.db.txList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ut=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n,s;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="","8453"===C.chainIdDec?r="1":"84531"===C.chainIdDec&&(r="5"),a=Je.id(t+r).substring(0,8),n={key:a,chainId:Number(r),address:t,lastUpdated:0,lastBlock:0,lastIndex:0,error:!1,data:[]},e.next=6,y.db.txList.where({key:a}).toArray();case 6:return(s=e.sent).length&&(n=s[0]),e.abrupt("return",n.data);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),ft=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r,a,n;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Je.id(t+C.chainIdDec).substring(0,8),a={key:r,chainId:Number(C.chainIdDec),address:t,lastUpdated:0,lastBlock:0,error:!1,data:[]},e.next=4,y.db.transferList.where({key:r}).toArray();case 4:return(n=e.sent).length&&(a=n[0]),e.abrupt("return",a.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),mt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,n,s,o,i,c,l,u,f;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:I(!0),a={},n={},s={},o={},U.current={},i=0;case 7:if(!(i<r.length)){t.next=27;break}return t.next=10,ct(r[i]);case 10:return c=t.sent,t.next=13,lt(r[i]);case 13:return l=t.sent,t.next=16,ut(r[i]);case 16:return u=t.sent,t.next=19,ft(r[i]);case 19:f=t.sent,a[r[i]]=l,n[r[i]]=u,s[r[i]]=f,o[r[i]]=c;case 24:i++,t.next=7;break;case 27:Z(k.N.setTxListData(a)),Z(k.N.setEthTxListData(n)),Z(k.N.setTransferListData(s)),Z(k.N.setAssetListData(o)),T.addressesBase=r,Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(r[0]),I(!1);case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,U,T,lt,ut,ct,ft]),xt=(0,p.useCallback)(function(){var t=f()(d()().mark((function t(r){var a,s,o,i,f,x,h,p,y,b,N,v,S;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.length){t.next=2;break}return t.abrupt("return");case 2:I(!0),a={},s={},o={},i={},f=0;case 8:if(!(f<r.length)){t.next=28;break}return t.next=11,Fe(r[f]);case 11:return x=t.sent,t.next=14,Be(r[f]);case 14:return h=t.sent,t.next=17,tt(r[f]);case 17:return p=t.sent,t.next=20,rt(r[f]);case 20:y=t.sent,a[r[f]]=h,s[r[f]]=p,o[r[f]]=y,i[r[f]]=x;case 25:f++,t.next=8;break;case 28:b=c()(c()({},l),i),N=c()(c()({},u),a),v=c()(c()({},m),s),S=c()(c()({},g),o),Z(k.N.setTxListData(N)),Z(k.N.setEthTxListData(v)),Z(k.N.setTransferListData(S)),Z(k.N.setAssetListData(b)),T.addressesBase=n()(new Set([].concat(n()(T.addressesBase),n()(r)))),Z(k.N.setAnalysisConfig(T)),localStorage.setItem("analysisConfig",JSON.stringify(T)),e.setCurrentAddress(T.addressesBase[0]),z([]),e.forceUpdate(),I(!1);case 43:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,U,T,Be,tt,Fe,rt,u,m,l,g]),ht=(0,p.useCallback)((function(){var e=JSON.stringify(T,null,2),t="data:,".concat(e),r=document.createElement("a");r.href=t,r.download="analysisConfig_"+v()().format("YYYY-MM-DDTHH-mm-ss")+".json",r.click()}),[T]),pt=(0,p.useCallback)(function(){var e=f()(d()().mark((function e(t){var r;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsText(t.fileList[0].originFileObj),r.onload=function(){try{var e=JSON.parse(r.result);e?(localStorage.setItem("analysisConfig",JSON.stringify(e)),window.location.reload()):Ue.ZP.error("".concat(Ee))}catch(e){Ue.ZP.error("".concat(Ee))}};case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[xt]);return(0,p.useEffect)((function(){T.addressesBase.length&&mt(T.addressesBase)}),[mt,T]),(0,p.useEffect)((function(){at()}),[at]),(0,S.jsxs)("div",{className:"analysisSummaryLinea",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:ot,dataSource:w,defaultData:[],search:!1,options:!1,pagination:!1,bordered:!0,loading:P,headerTitle:(0,S.jsxs)(Ye.Z,{wrap:!0,children:[(0,S.jsx)(We.ZP,{type:"primary",onClick:it,children:je}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return xt(G)},children:Te}),(0,S.jsx)(Ge.Z,{title:Pe,onConfirm:function(){return st(G)},children:(0,S.jsx)(We.ZP,{type:"primary",children:Ce})}),(0,S.jsx)(We.ZP,{type:"primary",onClick:function(){return ht()},children:Le}),(0,S.jsx)(Re.Z,{accept:".json",maxCount:1,showUploadList:!1,onChange:pt,beforeUpload:function(){return!1},children:(0,S.jsx)(We.ZP,{type:"primary",children:De})}),(0,S.jsxs)("div",{children:["ETH: $",e.tokenPrice?e.tokenPrice.toFixed(2):"0.0"]})]}),rowSelection:{type:"checkbox",selectedRowKeys:R,onChange:function(e){var t=[];e.forEach((function(e){t.push(T.addressesBase[e])})),$(t),z(e)}},tableAlertRender:!1,tableAlertOptionRender:!1,summary:function(e){var t=0,r=0,a=0,n=0;return e.forEach((function(e){r+=e.totalGasFee,t+=e.eth,a+=e.l1ToL2Count,n+=e.l2ToL1Count})),(0,S.jsxs)(Me.Z.Summary.Row,{children:[(0,S.jsx)(Me.Z.Summary.Cell,{index:0}),(0,S.jsx)(Me.Z.Summary.Cell,{index:1}),(0,S.jsx)(Me.Z.Summary.Cell,{index:2}),(0,S.jsx)(Me.Z.Summary.Cell,{index:3,align:"center",children:(0,S.jsx)("span",{className:"font-bold",children:ke})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:4}),(0,S.jsx)(Me.Z.Summary.Cell,{index:5,children:(0,S.jsx)("span",{className:"font-bold",children:t.toFixed(4)})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:8}),(0,S.jsx)(Me.Z.Summary.Cell,{index:9}),(0,S.jsx)(Me.Z.Summary.Cell,{index:10}),(0,S.jsx)(Me.Z.Summary.Cell,{index:11}),(0,S.jsx)(Me.Z.Summary.Cell,{index:12}),(0,S.jsx)(Me.Z.Summary.Cell,{index:13}),(0,S.jsx)(Me.Z.Summary.Cell,{index:14,children:(0,S.jsx)("span",{className:"font-bold",children:a})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:15,children:(0,S.jsx)("span",{className:"font-bold",children:n})}),(0,S.jsx)(Me.Z.Summary.Cell,{index:16,children:(0,S.jsxs)("span",{className:"font-bold",children:["$",r.toFixed(2)]})})]})}}),(0,S.jsx)(Lt,{ref:F,handleParseData:at}),(0,S.jsx)(_t,{ref:B,handleConfirm:xt}),(0,S.jsx)(ze.Z,{title:Ie,placement:"bottom",onClose:function(){return K(!1)},open:X,closeIcon:!1,headerStyle:{padding:"12px 12px"},bodyStyle:{padding:"12px"},children:(0,S.jsx)(Rt,{address:te,tokenPrice:e.tokenPrice})}),i]})},wt=(0,p.memo)(St),jt=r(99351),Tt=r(5966),Ct=p.forwardRef((function(e,t){var r=(0,p.useRef)(),a=(0,p.useState)(!1),n=x()(a,2),s=n[0],o=n[1],i=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),c=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),l=(0,h.useDispatch)(),u=(0,h.useIntl)(),m=u.formatMessage({id:"analysis.Address"}),y=u.formatMessage({id:"analysis.Note"}),b=(0,p.useCallback)((function(t){return c.chainName.includes("zkSync")?i.addressNote[t.address]=t.note:c.chainName.includes("StarkNet")?i.addressNoteStarkNet[t.address]=t.note:c.chainName.includes("Linea")?i.addressNoteLinea[t.address]=t.note:c.chainName.includes("Base")&&(i.addressNoteBase[t.address]=t.note),l(k.N.setAnalysisConfig(i)),localStorage.setItem("analysisConfig",JSON.stringify(i)),e.handleParseData(),!0}),[i,e,c]),g=(0,p.useCallback)((function(e){o(!0),setTimeout((function(){var t,a;null===(t=r.current)||void 0===t||t.setFieldValue("address",e.address),null===(a=r.current)||void 0===a||a.setFieldValue("note",e.note)}),100)}),[r]);return(0,p.useImperativeHandle)(t,(function(){return{handleOpenNoteModalForm:g}})),(0,S.jsxs)(jt.Y,{formRef:r,title:y,open:s,onFinish:function(){var e=f()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOpenChange:function(e){o(e)},layout:"horizontal",width:"480px",children:[(0,S.jsx)(Tt.Z,{name:"address",label:m,disabled:!0}),(0,S.jsx)(Tt.Z,{name:"note",label:y})]})})),Lt=(0,p.memo)(Ct),Dt=r(96074),Et=p.forwardRef((function(e,t){var r=(0,p.useRef)(),a=(0,p.useState)(!1),n=x()(a,2),s=n[0],o=n[1],i=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),c=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),l=(0,h.useDispatch)(),u=(0,h.useIntl)(),m=u.formatMessage({id:"analysis.Contract"}),y=u.formatMessage({id:"analysis.Note"}),b=u.formatMessage({id:"analysis.Transaction"}),g=(0,p.useCallback)((function(t){return c.chainName.includes("StarkNet")?i.transNoteStarkNet[t.transaction]=t.transNote:c.chainName.includes("zkSync")?(e.currentAddress===t.address||(i.transNote[t.address]=t.addressNote),i.transNote[t.transaction]=t.transNote):c.chainName.includes("Linea")?("0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec"===t.address||(i.transNoteLinea[t.address]=t.addressNote),i.transNoteLinea[t.transaction]=t.transNote):c.chainName.includes("Base")&&("0x4200000000000000000000000000000000000010"===t.address||(i.transNoteBase[t.address]=t.addressNote),i.transNoteBase[t.transaction]=t.transNote),l(k.N.setAnalysisConfig(i)),localStorage.setItem("analysisConfig",JSON.stringify(i)),e.handleParseData(),!0}),[i,e,c]),N=(0,p.useCallback)((function(e){o(!0),setTimeout((function(){var t,a,n,s,o,i;c.chainName.includes("StarkNet")?(null===(t=r.current)||void 0===t||t.setFieldValue("transaction",e.tx),null===(a=r.current)||void 0===a||a.setFieldValue("transNote",e.txNote)):(null===(n=r.current)||void 0===n||n.setFieldValue("transaction",e.tx),null===(s=r.current)||void 0===s||s.setFieldValue("transNote",e.txNote),null===(o=r.current)||void 0===o||o.setFieldValue("address",e.toAddress),null===(i=r.current)||void 0===i||i.setFieldValue("addressNote",e.toAddressNote))}),100)}),[r,c]);return(0,p.useImperativeHandle)(t,(function(){return{handleOpenNoteModalForm:N}})),(0,S.jsxs)(jt.Y,{formRef:r,title:y,open:s,onFinish:function(){var e=f()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOpenChange:function(e){o(e)},layout:"horizontal",width:"620px",children:[c.chainName.includes("StarkNet")?(0,S.jsx)(S.Fragment,{}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Dt.Z,{}),(0,S.jsx)(Tt.Z,{name:"address",label:m,disabled:!0}),(0,S.jsx)(Tt.Z,{name:"addressNote",label:y})]}),(0,S.jsx)(Tt.Z,{name:"transaction",label:b,disabled:!0}),(0,S.jsx)(Tt.Z,{name:"transNote",label:y})]})})),Pt=(0,p.memo)(Et),It=p.forwardRef((function(e,t){var r=(0,p.useRef)(),a=(0,p.useState)(!1),n=x()(a,2),s=n[0],o=n[1],i=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),c=(0,h.useDispatch)(),l=(0,h.useIntl)(),u=l.formatMessage({id:"analysis.Note"}),m=l.formatMessage({id:"analysis.Transaction"}),y=(0,p.useCallback)((function(t){return i.transNote[t.transaction]=t.transNote,c(k.N.setAnalysisConfig(i)),localStorage.setItem("analysisConfig",JSON.stringify(i)),e.handleParseData(),!0}),[i,e]),b=(0,p.useCallback)((function(e){o(!0),setTimeout((function(){var t,a;null===(t=r.current)||void 0===t||t.setFieldValue("transaction",e.tx),null===(a=r.current)||void 0===a||a.setFieldValue("transNote",e.txNote)}),100)}),[r]);return(0,p.useImperativeHandle)(t,(function(){return{handleOpenNoteModalForm:b}})),(0,S.jsxs)(jt.Y,{formRef:r,title:u,open:s,onFinish:function(){var e=f()(d()().mark((function e(t){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onOpenChange:function(e){o(e)},layout:"horizontal",width:"620px",children:[(0,S.jsx)(Tt.Z,{name:"transaction",label:m,disabled:!0}),(0,S.jsx)(Tt.Z,{name:"transNote",label:u})]})})),At=(0,p.memo)(It),Ot=r(90672),Mt=p.forwardRef((function(e,t){var r=(0,p.useRef)(),a=(0,p.useState)(!1),s=x()(a,2),o=s[0],i=s[1],c=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],k=(0,h.useIntl)(),g=k.formatMessage({id:"analysis.Address"}),N=k.formatMessage({id:"analysis.PleaseInputAddress"}),v=k.formatMessage({id:"analysis.InputException"}),w=(0,p.useCallback)((function(){return e.handleConfirm(m),!0}),[e,m]),j=(0,p.useCallback)((function(){i(!0),setTimeout((function(){var e;null===(e=r.current)||void 0===e||e.setFieldValue("input","")}),100)}),[r]);return(0,p.useImperativeHandle)(t,(function(){return{handleOpenSearchModalForm:j}})),(0,S.jsx)(jt.Y,{formRef:r,title:g,open:o,onFinish:f()(d()().mark((function e(){return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w());case 1:case"end":return e.stop()}}),e)}))),onOpenChange:function(e){i(e)},layout:"horizontal",width:"600px",children:(0,S.jsx)(Ot.Z,{placeholder:N,name:"input",fieldProps:{autoSize:{minRows:10,maxRows:10},allowClear:!0,autoFocus:!1,style:{fontSize:(0,b.Mn)()?"12px":"14px"}},rules:[{required:!0,whitespace:!0,message:"".concat(v),validator:function(e,t){if(c.chainName.includes("StarkNet")){if(/^(\W*0x[a-f0-9]{64})([\W]+0x[a-f0-9]{64})*\W*$/.test(t)){var r=t.replace(/\W+/g,"\n").trim().split("\n");return r=n()(new Set(r)),y(r),Promise.resolve()}return Promise.reject(new Error(""))}if(/^(\W*0x[a-fA-F0-9]{40})([\W]+0x[a-fA-F0-9]{40})*\W*$/.test(t)){for(var a=t.replace(/\W+/g,"\n").trim().split("\n"),s=0;s<a.length;s++)if(!bt.isAddress(a[s]))return Promise.reject(new Error(""));return a=a.map((function(e){return bt.getAddress(e)})),a=n()(new Set(a)),y(a),Promise.resolve()}return Promise.reject(new Error(""))}}],hasFeedback:!0})})})),_t=(0,p.memo)(Mt),Zt=r(71230),Ft=r(15746),Bt=r(4393),Ut=function(){var e=Ue.ZP.useMessage(),t=x()(e,2),r=t[0],a=t[1],n=(0,p.useState)({rapidGwei:"0",rapidPrice:"0.00",fastGwei:"0",fastPrice:"0.00",standardGwei:"0",standardPrice:"0.00",slowGwei:"0",slowPrice:"0.00"}),s=x()(n,2),o=s[0],i=s[1],c=(0,h.useDispatch)(),l=(0,h.useIntl)().formatMessage({id:"analysis.GetGasPriceError"}),u=(0,p.useCallback)(f()(d()().mark((function e(){var t,a,n,s,o,u,f,m,p,y,g,N,v,S,w,j,T;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.zI)((0,h.request)("https://beaconcha.in/api/v1/execution/gasnow"));case 2:t=e.sent,a=x()(t,2),n=a[0],s=a[1],n||200!==s.code?(r.error("".concat(l),5),c(k.N.setTokenPrice(0))):(o=s.data.priceUSD,u=se.formatUnits(String(s.data.rapid),"gwei"),u=Number(u).toFixed(0),f=se.formatUnits(String(s.data.rapid)),m=(Number(f)*o*21e3).toFixed(2),p=se.formatUnits(String(s.data.fast),"gwei"),p=Number(p).toFixed(0),y=se.formatUnits(String(s.data.fast)),g=(Number(y)*o*21e3).toFixed(2),N=se.formatUnits(String(s.data.standard),"gwei"),N=Number(N).toFixed(0),v=se.formatUnits(String(s.data.standard)),S=(Number(v)*o*21e3).toFixed(2),w=se.formatUnits(String(s.data.slow),"gwei"),w=Number(w).toFixed(0),j=se.formatUnits(String(s.data.slow)),T=(Number(j)*o*21e3).toFixed(2),c(k.N.setTokenPrice(o)),i({rapidGwei:u,rapidPrice:m,fastGwei:p,fastPrice:g,standardGwei:N,standardPrice:S,slowGwei:w,slowPrice:T}));case 7:case"end":return e.stop()}}),e)}))),[]);return(0,p.useEffect)((function(){u();var e=setInterval((function(){u()}),3e5);return function(){clearInterval(e)}}),[u]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(Zt.Z,{gutter:8,className:"hover:cursor-pointer",onClick:function(){return window.open("https://beaconcha.in/gasnow")},children:[(0,S.jsx)(Ft.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,S.jsx)(Bt.Z,{className:"flex-grow mb-[8px]",title:(0,S.jsxs)("div",{className:"flex justify-center",children:[(0,S.jsx)("img",{className:"mr-2",src:"https://api.iconify.design/ion:rocket.svg"}),"Rapid"]}),size:"small",children:(0,S.jsxs)("div",{className:"flex items-center flex-col",children:[(0,S.jsxs)("div",{className:" font-bold text-lg",children:[o.rapidGwei," GWei"]}),(0,S.jsxs)("div",{children:["$",o.rapidPrice," | 15 Seconds"]})]})})}),(0,S.jsx)(Ft.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,S.jsx)(Bt.Z,{className:"flex-grow mb-[8px]",title:(0,S.jsxs)("div",{className:"flex justify-center",children:[(0,S.jsx)("img",{className:"mr-2",src:"https://api.iconify.design/ion:airplane.svg"}),"Fast"]}),size:"small",children:(0,S.jsxs)("div",{className:"flex items-center flex-col",children:[(0,S.jsxs)("div",{className:" font-bold text-lg",children:[o.fastGwei," GWei"]}),(0,S.jsxs)("div",{children:["$",o.fastPrice," | 1 Minute"]})]})})}),(0,S.jsx)(Ft.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,S.jsx)(Bt.Z,{className:"flex-grow mb-[8px]",title:(0,S.jsxs)("div",{className:"flex justify-center",children:[(0,S.jsx)("img",{className:"mr-2",src:"https://api.iconify.design/ion:car.svg"}),"Standard"]}),size:"small",children:(0,S.jsxs)("div",{className:"flex items-center flex-col",children:[(0,S.jsxs)("div",{className:" font-bold text-lg",children:[o.standardGwei," GWei"]}),(0,S.jsxs)("div",{children:["$",o.standardPrice," | 3 Minutes"]})]})})}),(0,S.jsx)(Ft.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,S.jsx)(Bt.Z,{className:"flex-grow mb-[8px]",title:(0,S.jsxs)("div",{className:"flex justify-center",children:[(0,S.jsx)("img",{className:"mr-2",src:"https://api.iconify.design/ion:bicycle.svg"}),"Slow"]}),size:"small",children:(0,S.jsxs)("div",{className:"flex items-center flex-col",children:[(0,S.jsxs)("div",{className:" font-bold text-lg",children:[o.slowGwei," GWei"]}),(0,S.jsxs)("div",{children:["$",o.slowPrice," | > 10 Minutes"]})]})})})]}),a]})},Vt=(0,p.memo)(Ut);v().extend(C()),v().extend(U()),v().extend(Y());var Yt=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=(0,h.useSelector)((function(e){return e.analysis.txListData})),a=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),n=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),s=(0,p.useState)(!1),o=x()(s,2),i=o[0],c=o[1],l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],b=(0,h.useDispatch)(),g=(0,p.useRef)(),N=(0,h.useIntl)(),w=N.formatMessage({id:"analysis.Transaction"}),j=N.formatMessage({id:"analysis.TxNote"}),T=N.formatMessage({id:"analysis.TotalGasFee"}),C=N.formatMessage({id:"analysis.Date"}),L=N.formatMessage({id:"analysis.Week"}),D=(0,p.useCallback)((function(){a.addressHide=!a.addressHide,b(k.N.setAnalysisConfig(a)),localStorage.setItem("analysisConfig",JSON.stringify(a)),t()}),[a]),E=(0,p.useCallback)((function(e){g.current.handleOpenNoteModalForm(e)}),[g]),P=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:w}),(0,S.jsx)("span",{onClick:D,children:a.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"tx",key:"tx",align:"center",render:function(e,t){return a.addressHide?(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx.substring(0,6)+"***"+t.tx.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx})}},{title:"".concat(j),dataIndex:"txNote",key:"txNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return E(t)},children:[t.txNote,(0,S.jsx)(qe.Z,{})]})})}},{title:"".concat(C),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date===t.date?null!==e.nonce&&null!==t.nonce?Number(e.nonce)-Number(t.nonce):null===e.nonce&&null!==t.nonce?-1:null!==e.nonce&&null===t.nonce?1:e.date-t.date:e.date-t.date},defaultSortOrder:"descend",render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format()})}},{title:"".concat(L),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format("YYYY-ww")})}},{title:"".concat(T),dataIndex:"gas",key:"gas",align:"center",sorter:function(e,t){return e.gas-t.gas},render:function(e,t){return(0,S.jsxs)("span",{children:["$",t.gas.toFixed(2)]})}}]}),[i,a,D,E]),I=(0,p.useCallback)(f()(d()().mark((function t(){var n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),n=[],r.hasOwnProperty(e.address)&&r[e.address].forEach((function(t,r){var s="";a.transNoteStarkNet.hasOwnProperty(t.transaction_hash)&&(s=a.transNoteStarkNet[t.transaction_hash]),n.push({key:r,tx:t.transaction_hash,txNote:s,toAddress:"",toAddressNote:"",date:t.timestamp,gas:Number(t.actual_fee_display)*e.tokenPrice,nonce:t.nonce,network:"StarkNet"})})),y(n),c(!1);case 5:case"end":return t.stop()}}),t)}))),[e,r,a]);return(0,p.useEffect)((function(){I()}),[I]),(0,S.jsxs)("div",{className:"analysisAsset analysisTxSummaryStarkNet",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:P,dataSource:m,defaultData:[],search:!1,options:!1,pagination:!1,loading:i}),(0,S.jsx)(Pt,{ref:g,handleParseData:I,currentAddress:e.address})]})},Gt=(0,p.memo)(Yt);v().extend(C()),v().extend(U()),v().extend(Y());var $t=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=(0,h.useSelector)((function(e){return e.analysis.txListData})),a=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),n=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),s=(0,p.useState)(!1),o=x()(s,2),i=o[0],c=o[1],l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],b=(0,h.useDispatch)(),g=(0,p.useRef)(),N=(0,h.useIntl)(),w=N.formatMessage({id:"analysis.Transaction"}),j=N.formatMessage({id:"analysis.TxNote"}),T=N.formatMessage({id:"analysis.ToAddress"}),C=N.formatMessage({id:"analysis.ToAddressNote"}),L=N.formatMessage({id:"analysis.TotalGasFee"}),D=N.formatMessage({id:"analysis.Date"}),P=N.formatMessage({id:"analysis.Week"}),I=(0,p.useCallback)((function(){a.addressHide=!a.addressHide,b(k.N.setAnalysisConfig(a)),localStorage.setItem("analysisConfig",JSON.stringify(a)),t()}),[a]),A=(0,p.useCallback)((function(e){g.current.handleOpenNoteModalForm(e)}),[g]),O=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:T}),(0,S.jsx)("span",{onClick:I,children:a.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"toAddress",key:"toAddress",align:"center",sorter:function(e,t){return e.toAddress.localeCompare(t.toAddress)},render:function(e,t){return a.addressHide?(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress.substring(0,4)+"***"+t.toAddress.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress})}},{title:"".concat(C),dataIndex:"toAddressNote",key:"toAddressNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:t.isBridge?(0,S.jsx)(Ve.Z,{color:"blue",children:t.toAddressNote}):(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return A(t)},children:[t.toAddressNote,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:w}),(0,S.jsx)("span",{onClick:I,children:a.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"tx",key:"tx",align:"center",render:function(e,t){return a.addressHide?(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx.substring(0,6)+"***"+t.tx.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx})}},{title:"".concat(j),dataIndex:"txNote",key:"txNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return A(t)},children:[t.txNote,(0,S.jsx)(qe.Z,{})]})})}},{title:"".concat(D),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},defaultSortOrder:"descend",render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format()})}},{title:"".concat(P),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format("YYYY-ww")})}},{title:"".concat(L),dataIndex:"gas",key:"gas",align:"center",sorter:function(e,t){return e.gas-t.gas},render:function(e,t){return(0,S.jsxs)("span",{children:["$",t.gas.toFixed(2)]})}}]}),[i,a,I,A]),M=(0,p.useCallback)(f()(d()().mark((function t(){var n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),n=[],r.hasOwnProperty(e.address)&&r[e.address].forEach((function(t,r){if(t.from===e.address.toLowerCase()){var s="",o="",i=!1,c=bt.getAddress(t.to);a.transNoteLinea.hasOwnProperty(c)&&(s=a.transNoteLinea[c]),a.transNoteLinea.hasOwnProperty(t.hash)&&(o=a.transNoteLinea[t.hash]),!s&&kt.hasOwnProperty(c)&&(s=kt[c]),"0x508Ca82Df566dCD1B0DE8296e70a96332cD644ec"===c&&(i=!0,s="Office Bridge");var l=E.O$.from(t.gasUsed),d=E.O$.from(t.gasPrice),u=l.mul(d);n.push({key:r,tx:t.hash,txNote:o,toAddress:c,toAddressNote:s,date:Number(t.timeStamp),gas:Number(se.formatEther(u))*e.tokenPrice,network:"Linea",isBridge:i})}})),y(n),c(!1);case 5:case"end":return t.stop()}}),t)}))),[e,r,a,n]);return(0,p.useEffect)((function(){M()}),[M]),(0,S.jsxs)("div",{className:"analysisAsset analysisTxSummary",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:O,dataSource:m,defaultData:[],search:!1,options:!1,pagination:!1,loading:i}),(0,S.jsx)(Pt,{ref:g,handleParseData:M,currentAddress:e.address})]})},Ht=(0,p.memo)($t);v().extend(C()),v().extend(U()),v().extend(Y());var Wt=function(e){var t=(0,p.useReducer)((function(e){return!e}),!1)[1],r=(0,h.useSelector)((function(e){return e.analysis.txListData})),a=(0,h.useSelector)((function(e){return e.analysis.analysisConfig})),n=(0,h.useSelector)((function(e){return e.chainList.chainSelect})),s=(0,p.useState)(!1),o=x()(s,2),i=o[0],c=o[1],l=(0,p.useState)([]),u=x()(l,2),m=u[0],y=u[1],b=(0,h.useDispatch)(),g=(0,p.useRef)(),N=(0,h.useIntl)(),w=N.formatMessage({id:"analysis.Transaction"}),j=N.formatMessage({id:"analysis.TxNote"}),T=N.formatMessage({id:"analysis.ToAddress"}),C=N.formatMessage({id:"analysis.ToAddressNote"}),L=N.formatMessage({id:"analysis.TotalGasFee"}),D=N.formatMessage({id:"analysis.Date"}),P=N.formatMessage({id:"analysis.Week"}),I=(0,p.useCallback)((function(){a.addressHide=!a.addressHide,b(k.N.setAnalysisConfig(a)),localStorage.setItem("analysisConfig",JSON.stringify(a)),t()}),[a]),A=(0,p.useCallback)((function(e){g.current.handleOpenNoteModalForm(e)}),[g]),O=(0,p.useMemo)((function(){return[{title:"#",dataIndex:"key",key:"key",fixed:!0,width:"10px",render:function(e,t,r){return(0,S.jsx)("span",{children:r+1})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:T}),(0,S.jsx)("span",{onClick:I,children:a.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"toAddress",key:"toAddress",align:"center",sorter:function(e,t){return e.toAddress.localeCompare(t.toAddress)},render:function(e,t){return a.addressHide?(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress.substring(0,4)+"***"+t.toAddress.substring(38,42)}):(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/address/").concat(t.toAddress),target:"_blank",rel:"noreferrer",children:t.toAddress})}},{title:"".concat(C),dataIndex:"toAddressNote",key:"toAddressNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:t.isBridge?(0,S.jsx)(Ve.Z,{color:"blue",children:t.toAddressNote}):(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return A(t)},children:[t.toAddressNote,(0,S.jsx)(qe.Z,{})]})})}},{title:(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"mr-2",children:w}),(0,S.jsx)("span",{onClick:I,children:a.addressHide?(0,S.jsx)(Xe.Z,{className:"hover:cursor-pointer"}):(0,S.jsx)(Ke.Z,{className:"hover:cursor-pointer"})})]}),dataIndex:"tx",key:"tx",align:"center",render:function(e,t){return a.addressHide?(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx.substring(0,6)+"***"+t.tx.substring(62,66)}):(0,S.jsx)("a",{href:"".concat(n.blockExplorerUrls[0],"/tx/").concat(t.tx),target:"_blank",rel:"noreferrer",children:t.tx})}},{title:"".concat(j),dataIndex:"txNote",key:"txNote",align:"center",render:function(e,t){return(0,S.jsx)("div",{children:(0,S.jsxs)(Ve.Z,{color:"blue",className:"hover:cursor-pointer",onClick:function(){return A(t)},children:[t.txNote,(0,S.jsx)(qe.Z,{})]})})}},{title:"".concat(D),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},defaultSortOrder:"descend",render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format()})}},{title:"".concat(P),dataIndex:"date",key:"date",align:"center",sorter:function(e,t){return e.date-t.date},render:function(e,t){return(0,S.jsx)("span",{children:v().unix(t.date).local().format("YYYY-ww")})}},{title:"".concat(L),dataIndex:"gas",key:"gas",align:"center",sorter:function(e,t){return e.gas-t.gas},render:function(e,t){return(0,S.jsxs)("span",{children:["$",t.gas.toFixed(2)]})}}]}),[i,a,I,A]),M=(0,p.useCallback)(f()(d()().mark((function t(){var n;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c(!0),n=[],r.hasOwnProperty(e.address)&&r[e.address].forEach((function(t,r){if(t.from===e.address.toLowerCase()){var s="",o="",i=!1,c=bt.getAddress(t.to);a.transNoteBase.hasOwnProperty(c)&&(s=a.transNoteBase[c]),a.transNoteBase.hasOwnProperty(t.hash)&&(o=a.transNoteBase[t.hash]),!s&&vt.hasOwnProperty(c)&&(s=vt[c]),"0x4200000000000000000000000000000000000010"===c&&(i=!0,s="Office Bridge"),t.from===e.address.toLowerCase()&&t.to===e.address.toLowerCase()&&(i=!0,s="Office Bridge");var l=E.O$.from(t.gasUsed),d=E.O$.from(t.gasPrice),u=l.mul(d);n.push({key:r,tx:t.hash,txNote:o,toAddress:c,toAddressNote:s,date:Number(t.timeStamp),gas:Number(se.formatEther(u))*e.tokenPrice,network:"Base",isBridge:i})}})),y(n),c(!1);case 5:case"end":return t.stop()}}),t)}))),[e,r,a,n]);return(0,p.useEffect)((function(){M()}),[M]),(0,S.jsxs)("div",{className:"analysisAsset analysisTxSummary",children:[(0,S.jsx)(Ae.Z,{scroll:{x:!0},size:"small",columns:O,dataSource:m,defaultData:[],search:!1,options:!1,pagination:!1,loading:i}),(0,S.jsx)(Pt,{ref:g,handleParseData:M,currentAddress:e.address})]})},Rt=(0,p.memo)(Wt)},85971:function(e,t,r){var a=(0,r(54442).getDvaApp)()._store;t.Z=a},64119:function(e,t,r){r.d(t,{CE:function(){return p},D0:function(){return k},Hj:function(){return S},IU:function(){return N},Mn:function(){return j},pM:function(){return L},su:function(){return T},zI:function(){return y}});var a=r(27424),n=r.n(a),s=r(17061),o=r.n(s),i=r(18698),c=r.n(i),l=r(17156),d=r.n(l),u=r(85971),f=r(2453),m=r(9669),x=r.n(m);function h(){return u.Z.getState().global.nodeConfig.url}function p(e,t){var r=t||"",a=e,n=Number(a)<1;if("number"==typeof a&&(a=a.toString()),n){var s=/0\.(0{4,})/,o=/\d+\.0*\d{3}/.exec(a);if(a=o?o[0]:a,o=s.exec(a)){var i=o[1].length;return r+a.replace(s,"0.0{"+i+"}")}return r+a}return r+Number(a).toLocaleString()}function y(e){return b.apply(this,arguments)}function b(){return(b=d()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",[null,r]);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}return console.log(e.t0),e.abrupt("return",[e.t0.message,null]);case 14:if(console.log(e.t0),"object"!==c()(e.t0)){e.next=19;break}return e.abrupt("return",[JSON.stringify(e.t0),null]);case 19:return e.abrupt("return",[e.t0,null]);case 20:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(e){return g.apply(this,arguments)}function g(){return(g=d()(o()().mark((function e(t){var r;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h(),e.next=3,y(x().post("".concat(r,"/v1/chain/get_account"),JSON.stringify(t)));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return v.apply(this,arguments)}function v(){return(v=d()(o()().mark((function e(t,r){var a;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return a=e.sent,e.abrupt("return",a);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=15;break}throw console.log(e.t0),f.ZP.error({content:r||e.t0.message,duration:5}),e.t0;case 15:throw console.log(e.t0),"object"===c()(e.t0)?f.ZP.error({content:r||JSON.stringify(e.t0),duration:5}):f.ZP.error({content:r||e.t0,duration:5}),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function S(e,t,r){return w.apply(this,arguments)}function w(){return(w=d()(o()().mark((function e(t,r,a){var n,s,i;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null!=r?r:function(){},e.prev=1,e.next=4,t;case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof Error)){e.next=17;break}throw console.log(e.t0),n(),f.ZP.error({content:a||e.t0.message,duration:5}),e.t0;case 17:throw console.log(e.t0),"object"===c()(e.t0)?(i="",i=e.t0.hasOwnProperty("message")?e.t0.message:JSON.stringify(e.t0),f.ZP.error({content:a||i,duration:5})):f.ZP.error({content:a||e.t0,duration:5}),n(),e.t0;case 21:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function j(){var e=navigator.userAgent;return/mobile/i.test(e)}function T(e){return C.apply(this,arguments)}function C(){return(C=d()(o()().mark((function e(t){var r,a,s,i;return o()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,a=null,e.next=3,y(x().get("".concat(t,"/v1/chain/get_info"),{timeout:1e4}));case 3:return s=e.sent,i=n()(s,2),r=i[0],a=i[1],e.abrupt("return",[r,a]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!==c()(t)||!t)}catch(e){return!1}}}}]);