"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4610],{68763:function(e,t,a){a.d(t,{Mx:function(){return C},LR:function(){return j},iy:function(){return d}});var r=a(42122),n=a.n(r),s=a(62435),i=a(64183),c=a(54442),l=a(32983),o=a(86074),u=function(){var e=(0,c.useSelector)((function(e){return e.dash.txHistoryDataSource})),t={data:e,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},slider:{start:0,end:1},smooth:!0,label:{}};return(0,o.jsx)(o.Fragment,{children:e.length?(0,o.jsx)(i.Z,n()({},t)):(0,o.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE})})},d=(0,s.memo)(u),p=a(17061),f=a.n(p),h=a(17156),x=a.n(h),g=a(27424),m=a.n(g),v=a(64119),y=a(9004),b=a(27484),S=a.n(b),k=function(){var e=(0,s.useState)(!1),t=m()(e,2),a=t[0],r=t[1],u=(0,c.useDispatch)(),d=(0,c.useSelector)((function(e){return e.dash.tvlHistoryDataSource})),p=(0,c.useSelector)((function(e){return e.chainList.chainSelect})),h={data:d,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(e){var t=Number(e);return t>1e3?"".concat(t/1e3," M"):t>1e6?"".concat(t/1e6," B"):"".concat(t," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},g=(0,s.useCallback)(x()(f()().mark((function e(){var t,a,n;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return r(!1)},r(!0),a=[],n="",e.t0=p.chainIdDec,e.next="17777"===e.t0?7:"40"===e.t0?9:"324"===e.t0?11:"23448594291968336"===e.t0?13:"59144"===e.t0?15:17;break;case 7:return n="https://api.llama.fi/v2/historicalChainTvl/eos%20evm",e.abrupt("break",17);case 9:return n="https://api.llama.fi/v2/historicalChainTvl/telos",e.abrupt("break",17);case 11:return n="https://api.llama.fi/v2/historicalChainTvl/zkSync%20Era",e.abrupt("break",17);case 13:return n="https://api.llama.fi/v2/historicalChainTvl/Starknet",e.abrupt("break",17);case 15:return n="https://api.llama.fi/v2/historicalChainTvl/Linea",e.abrupt("break",17);case 17:return e.next=19,(0,v.Hj)((0,c.request)(n),t);case 19:e.sent.forEach((function(e){a.push({date:S().unix(e.date).format().substring(0,10),tvl:Number((e.tvl/1e3).toFixed(0)),category:"Daily TVL"})})),u(y.N.setTvlHistoryDataSource(a)),localStorage.setItem("tvlHistoryData",JSON.stringify(a)),r(!1);case 24:case"end":return e.stop()}}),e)}))),[u,p]);return(0,s.useEffect)((function(){g()}),[g]),(0,o.jsx)(o.Fragment,{children:d.length?(0,o.jsx)(i.Z,n()(n()({},h),{},{loading:a})):(0,o.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE})})},j=(0,s.memo)(k),T=a(94436),D=a(20701),E=a(11924),N=a(79360),M=a(24770),w=a(79642),Z=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]])}return a},I=(0,s.forwardRef)((function(e,t){var a=e.chartRef,r=e.style,n=void 0===r?{height:"inherit"}:r,i=e.className,c=e.loading,l=e.loadingTemplate,o=e.errorTemplate,u=Z(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),d=(0,E.Z)(D.by,u),p=d.chart,f=d.container;return(0,s.useEffect)((function(){(0,N.J)(a,p.current)}),[p.current]),(0,s.useImperativeHandle)(t,(function(){return{getChart:function(){return p.current}}})),s.createElement(M.Z,{errorTemplate:o},c&&s.createElement(w.Z,{loadingTemplate:l,theme:e.theme}),s.createElement("div",{className:i,style:n,ref:f}))})),O=a(76509),F=function(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)((function(e){return e.dash.tvlDistributionDataSource})),a=(0,s.useState)(!1),r=m()(a,2),i=r[0],u=r[1],d=(0,c.useSelector)((function(e){return e.chainList.chainSelect})),p={data:t,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},h={data:t,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},g=(0,s.useCallback)((function(e){switch(e){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";case"YieldHub Finance":return"YieldHub";default:return e}}),[]),b=(0,s.useCallback)(x()(f()().mark((function t(){var a,r,s,i,l,o;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){return u(!1)},u(!0),r=0,s=[],t.next=6,(0,v.Hj)((0,c.request)("https://api.llama.fi/protocols"),a);case 6:i=t.sent,l="",t.t0=d.chainIdDec,t.next="17777"===t.t0?11:"40"===t.t0?13:"324"===t.t0?15:"23448594291968336"===t.t0?17:"59144"===t.t0?19:21;break;case 11:return l="EOS EVM",t.abrupt("break",21);case 13:return l="Telos",t.abrupt("break",21);case 15:return l="zkSync Era",t.abrupt("break",21);case 17:return l="Starknet",t.abrupt("break",21);case 19:return l="Linea",t.abrupt("break",21);case 21:(i=(i=i.filter((function(e){return e.chain===l}))).map((function(e){return r+=e.tvl,n()(n()({},e),{},{key:e.id})}))).forEach((function(e){var t=g(e.name);s.push({type:t,value:e.tvl/r})})),o=S()().valueOf(),e(T.N.setDexDataSource(i)),e(T.N.setDexDataTime(o)),e(y.N.setTvlDistributionDataSource(s)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:i,dexDataTime:o})),localStorage.setItem("tvlDistributionData",JSON.stringify(s)),u(!1);case 31:case"end":return t.stop()}}),t)}))),[e,g,d]);return(0,s.useEffect)((function(){b()}),[b]),(0,o.jsx)(O.X.Consumer,{children:function(e){var a=e.isMobile;return t.length?a?(0,o.jsx)(I,n()({loading:i},p)):(0,o.jsx)(I,n()({loading:i},h)):(0,o.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE})}})},C=(0,s.memo)(F)},34610:function(e,t,a){a.r(t);var r=a(17061),n=a.n(r),s=a(17156),i=a.n(s),c=a(27424),l=a.n(c),o=(a(57082),a(87659)),u=a(6466),d=a(95689),p=a(62435),f=a(71230),h=a(15746),x=a(64119),g=a(9004),m=a(54442),v=a(68763),y=a(94818),b=a(86074);t.default=function(){var e,t=(0,p.useState)(!1),a=l()(t,2),r=a[0],s=a[1],c=(0,m.useDispatch)(),S=(0,m.useSelector)((function(e){return e.dash.chainData})),k=(0,m.useSelector)((function(e){return e.dash.tvlHistoryDataSource})),j=(0,m.useSelector)((function(e){return e.dash.txDayTotal})),T=(0,m.useSelector)((function(e){return e.chainList.chainSelect})),D=(0,m.useIntl)(),E=D.formatMessage({id:"dash.dailyTransactions"}),N=D.formatMessage({id:"dash.totalTransactions"}),M=D.formatMessage({id:"dash.averageTransactions"}),w=D.formatMessage({id:"dash.yesterdayTransactions"}),Z=D.formatMessage({id:"dash.gasTracker"}),I=D.formatMessage({id:"dash.averageBlockTime"}),O=D.formatMessage({id:"dash.totalBlocks"}),F=D.formatMessage({id:"dash.walletAddresses"}),C=D.formatMessage({id:"dash.second"}),H=D.formatMessage({id:"dash.totalValueLocked"}),_=D.formatMessage({id:"dash.change"}),B=D.formatMessage({id:"dash.TvlDistribution"}),L=(0,p.useCallback)(function(){var e=i()(n()().mark((function e(t){var a,r,s,i,c,l,o,u,d,p,f,h,x,g,m;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=/data-selector="tx_per_day">\s+(.+)\s+<span/,r=/data-selector="average-block-time">\s+(.+)\s+<\/span>/,s=/data-selector="transaction-count">\s+(.+)\s+<\/span>/,i=/data-selector="address-count">\s+(.+)\s+<\/span>/,c=/\d+\.\d+ Gwei/.exec(t),l=c?c[0]:"150.0 Gwei",o=a.exec(t),u=o?o[1]:"0",d=r.exec(t),p=d?d[1].replace("second",C):"1 ".concat(C),f=s.exec(t),h=f?f[1]:"0",x=i.exec(t),g=x?x[1]:"0",e.next=17,(0,y.RQ)();case 17:return m=e.sent,e.abrupt("return",{gasTracker:l,dailyTransactions:u,averageBlockTime:p,totalTransactions:h,totalBlocks:String(m),walletAddresses:g});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C]),A=(0,p.useCallback)(i()(n()().mark((function e(){var t,a,r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){return s(!1)},s(!0),e.next=4,(0,x.Hj)((0,m.request)(T.blockExplorerUrls[0]),t);case 4:return a=e.sent,e.next=7,L(a);case 7:r=e.sent,c(g.N.setChainData(r)),localStorage.setItem("chainData",JSON.stringify(r)),s(!1);case 11:case"end":return e.stop()}}),e)}))),[c,L,T]),P=(0,p.useMemo)((function(){if(!k.length)return 0;var e=k.length-1;return 1e3*k[e].tvl}),[k]),R=(0,p.useMemo)((function(){if(!k.length)return 0;var e=k.length-1,t=k.length-2,a=k[e].tvl,r=k[t].tvl;return(a-r)/r*100}),[k]),J=(0,p.useCallback)(i()(n()().mark((function e(){var t,a,r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=0,[],e.next=5,(0,x.IU)((0,m.request)("".concat(T.blockExplorerUrls[0],"/transaction-history-chart?type=JSON"),{headers:{"x-requested-with":"XMLHttpRequest"}}));case 5:r=e.sent,JSON.parse(r.history_data).forEach((function(e){t.push({date:e.date,number:e.number_of_transactions,category:"Daily Transactions"}),a+=e.number_of_transactions})),c(g.N.setTxHistoryDataSource(t)),c(g.N.setTxHistoryTotal(a)),c(g.N.setTxDayTotal(t.length)),localStorage.setItem("txHistoryData",JSON.stringify(t));case 12:case"end":return e.stop()}}),e)}))),[c,T]);return(0,p.useEffect)((function(){J(),A()}),[A]),(0,b.jsxs)(o._z,{className:"dash",ghost:!0,children:[(0,b.jsx)(u.Z,{loading:r,bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:E,chart:(0,b.jsx)(v.iy,{}),footer:(0,b.jsxs)("div",{className:"flex justify-around",children:[(0,b.jsx)(d.Z,{value:S.totalTransactions,title:N,layout:"vertical"}),(0,b.jsx)(d.Z,{value:(Number(null===(e=S.totalTransactions)||void 0===e?void 0:e.replace(/,/g,""))/j).toFixed(0),title:M,layout:"vertical"}),(0,b.jsx)(d.Z,{value:S.dailyTransactions,title:w,layout:"vertical"})]})}),(0,b.jsxs)(f.Z,{gutter:8,children:[(0,b.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,b.jsx)(u.Z,{loading:r,title:Z,statistic:{value:S.gasTracker}})}),(0,b.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,b.jsx)(u.Z,{loading:r,title:I,statistic:{value:S.averageBlockTime}})}),(0,b.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,b.jsx)(u.Z,{loading:r,title:O,statistic:{value:S.totalBlocks}})}),(0,b.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,b.jsx)(u.Z,{loading:r,title:F,statistic:{value:S.walletAddresses}})})]}),!0===T.testNet?(0,b.jsx)(b.Fragment,{}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(H," (USD)"),chart:(0,b.jsx)(v.LR,{}),footer:(0,b.jsxs)("div",{className:"flex justify-around",children:[(0,b.jsx)(d.Z,{prefix:"$",value:P,title:H,layout:"vertical"}),(0,b.jsx)(d.Z,{value:R,title:"".concat(_,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,b.jsx)(u.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:B,chart:(0,b.jsx)(v.Mx,{})})]})]})}},57082:function(){}}]);