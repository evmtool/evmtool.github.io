"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6524],{68763:function(t,e,a){a.d(e,{Mx:function(){return I},LR:function(){return j},iy:function(){return d}});var n=a(42122),r=a.n(n),s=a(62435),i=a(64183),l=a(54442),o=a(32983),c=a(86074),u=function(){var t=(0,l.useSelector)((function(t){return t.dash.txHistoryDataSource})),e={data:t,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(t){return"".concat(t).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(t){return"".concat(t,",")}))}}},slider:{start:0,end:1},smooth:!0,label:{}};return(0,c.jsx)(c.Fragment,{children:t.length?(0,c.jsx)(i.Z,r()({},e)):(0,c.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})})},d=(0,s.memo)(u),p=a(17061),f=a.n(p),h=a(17156),m=a.n(h),g=a(27424),v=a.n(g),x=a(64119),b=a(9004),S=a(27484),y=a.n(S),k=function(){var t=(0,s.useState)(!1),e=v()(t,2),a=e[0],n=e[1],u=(0,l.useDispatch)(),d=(0,l.useSelector)((function(t){return t.dash.tvlHistoryDataSource})),p=(0,l.useSelector)((function(t){return t.chainList.chainSelect})),h={data:d,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(t){var e=Number(t);return e>1e3?"".concat(e/1e3," M"):e>1e6?"".concat(e/1e6," B"):"".concat(e," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},g=(0,s.useCallback)(m()(f()().mark((function t(){var e,a,r;return f()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=function(){return n(!1)},n(!0),a=[],r="",t.t0=p.chainIdDec,t.next="17777"===t.t0?7:"40"===t.t0?9:"324"===t.t0?11:"23448594291968336"===t.t0?13:"59144"===t.t0?15:"8453"===t.t0?17:"196"===t.t0?19:21;break;case 7:return r="https://api.llama.fi/v2/historicalChainTvl/eos%20evm",t.abrupt("break",21);case 9:return r="https://api.llama.fi/v2/historicalChainTvl/telos",t.abrupt("break",21);case 11:return r="https://api.llama.fi/v2/historicalChainTvl/zkSync%20Era",t.abrupt("break",21);case 13:return r="https://api.llama.fi/v2/historicalChainTvl/Starknet",t.abrupt("break",21);case 15:return r="https://api.llama.fi/v2/historicalChainTvl/Linea",t.abrupt("break",21);case 17:return r="https://api.llama.fi/v2/historicalChainTvl/Base",t.abrupt("break",21);case 19:return r="https://api.llama.fi/v2/historicalChainTvl/X%20Layer",t.abrupt("break",21);case 21:return t.next=23,(0,x.Hj)((0,l.request)(r),e);case 23:t.sent.forEach((function(t){a.push({date:y().unix(t.date).format().substring(0,10),tvl:Number((t.tvl/1e3).toFixed(0)),category:"Daily TVL"})})),u(b.N.setTvlHistoryDataSource(a)),localStorage.setItem("tvlHistoryData",JSON.stringify(a)),n(!1);case 28:case"end":return t.stop()}}),t)}))),[u,p]);return(0,s.useEffect)((function(){g()}),[g]),(0,c.jsx)(c.Fragment,{children:d.length?(0,c.jsx)(i.Z,r()(r()({},h),{},{loading:a})):(0,c.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})})},j=(0,s.memo)(k),D=a(57533),E=a(20701),_=a(11924),M=a(79360),Z=a(24770),w=a(79642),T=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]])}return a},N=(0,s.forwardRef)((function(t,e){var a=t.chartRef,n=t.style,r=void 0===n?{height:"inherit"}:n,i=t.className,l=t.loading,o=t.loadingTemplate,c=t.errorTemplate,u=T(t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),d=(0,_.Z)(E.by,u),p=d.chart,f=d.container;return(0,s.useEffect)((function(){(0,M.J)(a,p.current)}),[p.current]),(0,s.useImperativeHandle)(e,(function(){return{getChart:function(){return p.current}}})),s.createElement(Z.Z,{errorTemplate:c},l&&s.createElement(w.Z,{loadingTemplate:o,theme:t.theme}),s.createElement("div",{className:i,style:r,ref:f}))})),O=a(76509),C=function(){var t=(0,l.useDispatch)(),e=(0,l.useSelector)((function(t){return t.dash.tvlDistributionDataSource})),a=(0,s.useState)(!1),n=v()(a,2),i=n[0],u=n[1],d=(0,l.useSelector)((function(t){return t.chainList.chainSelect})),p={data:e,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},h={data:e,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},g=(0,s.useCallback)((function(t){switch(t){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";case"YieldHub Finance":return"YieldHub";default:return t}}),[]),S=(0,s.useCallback)(m()(f()().mark((function e(){var a,n,s,i,o,c;return f()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return u(!1)},u(!0),n=0,s=[],e.next=6,(0,x.Hj)((0,l.request)("https://api.llama.fi/protocols"),a);case 6:i=e.sent,o="",e.t0=d.chainIdDec,e.next="17777"===e.t0?11:"40"===e.t0?13:"324"===e.t0?15:"23448594291968336"===e.t0?17:"59144"===e.t0?19:"8453"===e.t0?21:"196"===e.t0?23:25;break;case 11:return o="EOS EVM",e.abrupt("break",25);case 13:return o="Telos",e.abrupt("break",25);case 15:return o="zkSync Era",e.abrupt("break",25);case 17:return o="Starknet",e.abrupt("break",25);case 19:return o="Linea",e.abrupt("break",25);case 21:return o="Base",e.abrupt("break",25);case 23:return o="X Layer",e.abrupt("break",25);case 25:(i=(i="Base"===o?i.filter((function(t){return t.chains.includes(o)})):i.filter((function(t){return t.chain===o}))).map((function(t){return n+=t.tvl,r()(r()({},t),{},{key:t.id})}))).forEach((function(t){var e=g(t.name);s.push({type:e,value:t.tvl/n})})),c=y()().valueOf(),t(D.N.setDexDataSource(i)),t(D.N.setDexDataTime(c)),t(b.N.setTvlDistributionDataSource(s)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:i,dexDataTime:c})),localStorage.setItem("tvlDistributionData",JSON.stringify(s)),u(!1);case 35:case"end":return e.stop()}}),e)}))),[t,g,d]);return(0,s.useEffect)((function(){S()}),[S]),(0,c.jsx)(O.X.Consumer,{children:function(t){var a=t.isMobile;return e.length?a?(0,c.jsx)(N,r()({loading:i},p)):(0,c.jsx)(N,r()({loading:i},h)):(0,c.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})}})},I=(0,s.memo)(C)},90137:function(t,e,a){a.r(e);var n=a(17061),r=a.n(n),s=a(17156),i=a.n(s),l=a(27424),o=a.n(l),c=(a(57082),a(87659)),u=a(6466),d=a(95689),p=a(62435),f=a(71230),h=a(15746),m=a(64119),g=a(9004),v=a(54442),x=a(68763),b=a(41718),S=a(86074);e.default=function(){var t=(0,p.useState)(!1),e=o()(t,2),a=e[0],n=e[1],s=(0,v.useDispatch)(),l=(0,v.useSelector)((function(t){return t.dash.chainData})),y=(0,v.useSelector)((function(t){return t.dash.tvlHistoryDataSource})),k=(0,v.useSelector)((function(t){return t.chainList.chainSelect})),j=(0,v.useIntl)(),D=j.formatMessage({id:"dash.totalTransactions"}),E=j.formatMessage({id:"dash.totalClasses"}),_=j.formatMessage({id:"dash.totalMessages"}),M=j.formatMessage({id:"dash.totalEvents"}),Z=j.formatMessage({id:"dash.totalBlocks"}),w=j.formatMessage({id:"dash.totalContracts"}),T=j.formatMessage({id:"dash.second"}),N=j.formatMessage({id:"dash.totalValueLocked"}),O=j.formatMessage({id:"dash.change"}),C=j.formatMessage({id:"dash.TvlDistribution"}),I=(0,p.useCallback)(function(){var t=i()(r()().mark((function t(e){var a,n,s,i,l,o;return r()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.total_count_transactions,n=e.total_count_blocks,s=e.total_count_contracts,i=e.total_count_events,l=e.total_count_messages,o=e.total_count_classes,t.abrupt("return",{totalTransactions:a,totalBlocks:n,totalContracts:s,totalEvents:i,totalMessages:l,totalClasses:o});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[T]),F=(0,p.useCallback)(i()(r()().mark((function t(){var e,a,i,l;return r()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=function(){return n(!1)},n(!0),a={query:"query HomePageStatsSummaryStarknetOverViewStatsQuery {\n  starknetOverviewStats {\n    ...useHomePageStatsInfoFragment_starknetOverviewStats\n  }\n}\n\nfragment useHomePageStatsInfoFragment_starknetOverviewStats on StarknetOverviewStats {\n  total_count_blocks\n  total_count_transactions\n  total_count_events\n  total_count_messages\n  total_count_contracts\n  total_count_classes\n}\n",variables:{}},t.next=5,(0,m.Hj)((0,v.request)(k.blockExplorerUrls[1],{method:"POST",data:a}),e);case 5:return i=t.sent,t.next=8,I(i.data.starknetOverviewStats);case 8:l=t.sent,s(g.N.setChainData(l)),localStorage.setItem("chainData",JSON.stringify(l)),n(!1);case 12:case"end":return t.stop()}}),t)}))),[s,I,k]),L=(0,p.useMemo)((function(){if(!y.length)return 0;var t=y.length-1;return 1e3*y[t].tvl}),[y]),P=(0,p.useMemo)((function(){if(!y.length)return 0;var t=y.length-1,e=y.length-2,a=y[t].tvl,n=y[e].tvl;return(a-n)/n*100}),[y]);return(0,p.useEffect)((function(){F()}),[F]),(0,S.jsxs)(c._z,{className:"dash",ghost:!0,children:[(0,S.jsx)(b.L6,{}),(0,S.jsxs)(f.Z,{gutter:8,children:[(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:Z,statistic:{value:l.totalBlocks}})}),(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:D,statistic:{value:l.totalTransactions}})}),(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:w,statistic:{value:l.totalContracts}})}),(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:M,statistic:{value:l.totalEvents}})}),(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:_,statistic:{value:l.totalMessages}})}),(0,S.jsx)(h.Z,{lg:{span:"8"},md:{span:"8"},sm:{span:"8"},xs:{span:"12"},children:(0,S.jsx)(u.Z,{loading:a,title:E,statistic:{value:l.totalClasses}})})]}),!0===k.testNet?(0,S.jsx)(S.Fragment,{}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(N," (USD)"),chart:(0,S.jsx)(x.LR,{}),footer:(0,S.jsxs)("div",{className:"flex justify-around",children:[(0,S.jsx)(d.Z,{prefix:"$",value:L,title:N,layout:"vertical"}),(0,S.jsx)(d.Z,{value:P,title:"".concat(O,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,S.jsx)(u.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:C,chart:(0,S.jsx)(x.Mx,{})})]})]})}},57082:function(){}}]);