"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4339],{5966:function(Sa,pe,r){var ve=r(1413),V=r(91),ye=r(62435),d=r(17689),le=r(86074),_=["fieldProps","proFieldProps"],H=["fieldProps","proFieldProps"],U="text",Ae=function(k){var X=k.fieldProps,ee=k.proFieldProps,P=(0,V.Z)(k,_);return(0,le.jsx)(d.Z,(0,ve.Z)({valueType:U,fieldProps:X,filedConfig:{valueType:U},proFieldProps:ee},P))},b=function(k){var X=k.fieldProps,ee=k.proFieldProps,P=(0,V.Z)(k,H);return(0,le.jsx)(d.Z,(0,ve.Z)({valueType:"password",fieldProps:X,proFieldProps:ee,filedConfig:{valueType:U}},P))},w=Ae;w.Password=b,w.displayName="ProFormComponent",pe.Z=w},96144:function(Sa,pe,r){r.r(pe),r.d(pe,{default:function(){return Oa}});var ve=r(42122),V=r.n(ve),ye=r(17061),d=r.n(ye),le=r(861),_=r.n(le),H=r(17156),U=r.n(H),Ae=r(27424),b=r.n(Ae),w=r(64119),Ce=r(99351),k=r(5966),X=r(97462),ee=r(45962),P=r(54442),Ee=r(2453),Oe=r(26713),xe=r(51904),fe=r(64146),Y=r(2593),se=r(35553),p=r(62435),e=r(28493),s=r(65735),a=r(86074),t="115792089237316195423570985008687907853269984665640564039457584007913129639935",n=p.forwardRef(function(_e,O){var Me=_e.handleGetApproval,I=(0,p.useRef)(),he=(0,p.useState)(!1),Q=b()(he,2),we=Q[0],ie=Q[1],ea=(0,p.useState)({key:"",txHash:"",lastUpdated:0,asset:"",owner:"",spender:"",allowance:"",symbol:"",contract:"",decimals:0,balanceOf:"",type:""}),aa=b()(ea,2),v=aa[0],Ma=aa[1],ra=(0,p.useState)("0"),na=b()(ra,2),Ie=na[0],wa=na[1],Ve=(0,e.yL)(),ta=Ee.ZP.useMessage(),la=b()(ta,2),sa=la[0],oa=la[1],Ue=(0,ee.uX)(),L=(0,P.useIntl)(),Ia=L.formatMessage({id:"approval.unlimited"}),ia=L.formatMessage({id:"approval.fail"}),ja=L.formatMessage({id:"approval.success"}),ua=L.formatMessage({id:"approval.txSuccess"}),Se=L.formatMessage({id:"approval.asset"}),Ta=L.formatMessage({id:"approval.allowance"}),ca=L.formatMessage({id:"approval.spender"}),We=L.formatMessage({id:"approval.approve"}),ue=L.formatMessage({id:"approval.pleaseInputAllowanceValue"}),De=L.formatMessage({id:"approval.inputException"}),ka=L.formatMessage({id:"approval.maxTag"}),da=L.formatMessage({id:"approval.unlimitedTag"}),pa=L.formatMessage({id:"approval.revokeTag"}),va=L.formatMessage({id:"approval.inputValue"}),Na=L.formatMessage({id:"approval.approveOperate"}),$=(0,p.useCallback)(function(){var y=U()(d()().mark(function g(N){var j,C;return d()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return j=new fe.CH(N.contract,s.em,Ve),ae.next=3,(0,w.IU)(j.balanceOf(N.owner));case 3:C=ae.sent,C=C.toString(),wa(C);case 6:case"end":return ae.stop()}},g)}));return function(g){return y.apply(this,arguments)}}(),[Ve]),Be=(0,p.useCallback)(function(y){$(y),Ma(y),ie(!0)},[$]);(0,p.useImperativeHandle)(O,function(){return{handleOpenApproveModalForm:Be}});var M=(0,p.useCallback)(function(y,g,N){var j=/^\d+$|^0x[a-fA-F0-9]+$/g;if(j.test(y)){var C=Y.O$.from(y);return C.eq(Y.O$.from(t))?C="".concat(Ia):(C=se.formatUnits(y,g),C==="0.0"&&(C="0")),C+" "+N}else return"undefined"},[]),Fa=(0,p.useCallback)(function(y,g){var N=g.substring(0,8),j=g.substring(36);return y+" ("+N+"-"+j+")"},[]),Ze=(0,p.useCallback)(function(){var y,g;(y=I.current)===null||y===void 0||y.setFieldValue("inputValue","0"),(g=I.current)===null||g===void 0||g.validateFields(["inputValue"])},[]),La=(0,p.useCallback)(function(){var y,g;(y=I.current)===null||y===void 0||y.setFieldValue("inputValue",Ie),(g=I.current)===null||g===void 0||g.validateFields(["inputValue"])},[Ie]),Ra=(0,p.useCallback)(function(){var y,g;(y=I.current)===null||y===void 0||y.setFieldValue("inputValue",t),(g=I.current)===null||g===void 0||g.validateFields(["inputValue"])},[]),Va=(0,p.useCallback)(function(){var y=U()(d()().mark(function g(N){var j,C,He,ae,fa,ma,je,ha,ze,Te;return d()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return j=null,C=null,He=N.spender,ae=N.inputValue,W.next=4,(0,w.IU)((0,s.$q)({address:v.contract,abi:s.em,functionName:"approve",args:[He,Y.O$.from(ae)]}));case 4:return fa=W.sent,W.next=7,(0,w.IU)((0,s.n9)(fa));case 7:return ma=W.sent,je=ma.hash,W.next=11,(0,w.zI)((0,s.Mn)({hash:je}));case 11:if(ha=W.sent,ze=b()(ha,2),j=ze[0],C=ze[1],!j){W.next=20;break}sa.open({type:"error",content:j,duration:5}),Ue({hash:je,description:"".concat(We," ").concat(v==null?void 0:v.symbol," ").concat(ia)}),W.next=26;break;case 20:return Te=C.logs[0].data,Te=M(Te,v==null?void 0:v.decimals,v==null?void 0:v.symbol),sa.open({type:"success",content:"".concat(ua)}),Ue({hash:je,description:"".concat(We," ").concat(Te," ").concat(ja)}),Me(C.blockNumber),W.abrupt("return",!0);case 26:case"end":return W.stop()}},g)}));return function(g){return y.apply(this,arguments)}}(),[v,M,Me,Ue]);return(0,a.jsxs)(Ce.Y,{formRef:I,title:Na,open:we,onFinish:function(){var y=U()(d()().mark(function g(N){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Va(N));case 1:case"end":return C.stop()}},g)}));return function(g){return y.apply(this,arguments)}}(),onOpenChange:function(g){var N,j,C;ie(g),(N=I.current)===null||N===void 0||N.setFieldValue("inputValue","0"),(j=I.current)===null||j===void 0||j.validateFields(["inputValue"]),(C=I.current)===null||C===void 0||C.setFieldValue("inputValue","")},layout:"horizontal",width:"480px",children:[(0,a.jsx)(k.Z,{name:"spender",label:ca,disabled:!0,initialValue:v==null?void 0:v.spender}),(0,a.jsx)(k.Z,{name:"asset",label:Se,disabled:!0,initialValue:Fa(v==null?void 0:v.asset,v==null?void 0:v.contract)}),(0,a.jsx)(X.Z,{name:["inputValue"],children:function(g){var N=g.inputValue,j=M(v==null?void 0:v.allowance,v==null?void 0:v.decimals,v==null?void 0:v.symbol),C=M(N,v==null?void 0:v.decimals,v==null?void 0:v.symbol);return(0,a.jsx)(k.Z,{name:"allowance",label:Ta,disabled:!0,initialValue:j,fieldProps:{value:N?C:j}})}}),(0,a.jsx)(k.Z,{name:"inputValue",label:va,placeholder:ue,rules:[{required:!0,message:"".concat(De),whitespace:!0,pattern:/^\d+$/g}],fieldProps:{maxLength:78,minLength:1,showCount:!0}}),(0,a.jsxs)(Oe.Z,{children:[(0,a.jsx)(xe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Ze,children:pa}),(0,a.jsx)(xe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:La,children:ka}),(0,a.jsx)(xe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Ra,children:da})]}),oa]})}),i=(0,p.memo)(n),l=r(25734),f=r(31120),D=r(78565),G=r(38345),B=r(34129),me=r(71577),Le=r(75081),oe=r(69677),Pa=r(27484),$a=r.n(Pa),Ye=r(32046),Qe=r(8198),Re=r(16441),qe=r(19485),z="115792089237316195423570985008687907853269984665640564039457584007913129639935",Ea=function(){var O=(0,P.useDispatch)(),Me=(0,P.useSelector)(function(u){return u.approval.dataSource}),I=(0,P.useSelector)(function(u){return u.approval.buttonLoading}),he=(0,P.useSelector)(function(u){return u.approval.searchValue}),Q=(0,P.useSelector)(function(u){return u.approval.inputValue}),we=(0,P.useSelector)(function(u){return u.approval.inputSearchStatus}),ie=(0,P.useSelector)(function(u){return u.approval.coinList}),ea=(0,P.useSelector)(function(u){return u.approval.contractList}),aa=(0,P.useSelector)(function(u){return u.approval.tokenList}),v=(0,p.useRef)(),Ma=(0,p.useState)(!1),ra=b()(Ma,2),na=ra[0],Ie=ra[1],wa=(0,p.useState)("erc20"),Ve=b()(wa,2),ta=Ve[0],la=Ve[1],sa=(0,p.useState)({type:"erc20"}),oa=b()(sa,2),Ue=oa[0],L=oa[1],Ia=(0,p.useRef)(null),ia=(0,p.useRef)(),ja=Ee.ZP.useMessage(),ua=b()(ja,2),Se=ua[0],Ta=ua[1],ca=(0,ee.uX)(),We=(0,e.mA)(),ue=We.address,De=We.isDisconnected,ka=(0,p.useState)(!0),da=b()(ka,2),pa=da[0],va=da[1],Na=(0,e.LN)(),$=Na.chain,Be=(0,e.yL)(),M=(0,P.useIntl)(),Fa=M.formatMessage({id:"approval.unlimited"}),Ze=M.formatMessage({id:"approval.revoke"}),La=M.formatMessage({id:"approval.fail"}),Ra=M.formatMessage({id:"approval.success"}),Va=M.formatMessage({id:"approval.txSuccess"}),y=M.formatMessage({id:"approval.token"}),g=M.formatMessage({id:"approval.asset"}),N=M.formatMessage({id:"approval.allowance"}),j=M.formatMessage({id:"approval.action"}),C=M.formatMessage({id:"approval.spender"}),He=M.formatMessage({id:"approval.txHash"}),ae=M.formatMessage({id:"approval.lastUpdated"}),fa=M.formatMessage({id:"approval.approve"}),ma=M.formatMessage({id:"approval.addressVerificationError"}),je=M.formatMessage({id:"approval.addressCanNotBeEmpty"}),ha=M.formatMessage({id:"approval.yourAddress"}),ze=M.formatMessage({id:"approval.pleaseInputAddress"}),Te=(0,e.Ov)({watch:!0}),Ua=Te.data,W=(0,p.useCallback)(function(u,h,E){var x=/^\d+$|^0x[a-fA-F0-9]+$/g;if(x.test(u)){var m=Y.O$.from(u);return m.eq(Y.O$.from(z))?m="".concat(Fa):(m=se.formatUnits(u,h),m==="0.0"&&(m="0")),m+" "+E}else return"undefined"},[]),Ke=(0,p.useCallback)(function(){var u=U()(d()().mark(function h(E){var x,m,c,o,A,T,S,q,re,ne,R,Ge,Ha,Wa,ce,za,ge;return d()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(x=[],m=[],c=[],o={},A=function(F,te){for(var K=0;K<F.length;K++)if(F[K].key===te)return F[K];return!1},T=function(F,te){var K=[];return F.forEach(function(Pe){te.some(function(de){return de.key===Pe.key})||K.push(Pe)}),K.push.apply(K,_()(te)),K.sort(function(Pe,de){return de.lastUpdated-Pe.lastUpdated}),K},!(Q&&$)){J.next=38;break}return Ie(!0),S=Ye.id(Q+$.id).substring(0,8),J.next=11,f.db.approval.where({key:S}).toArray();case 11:if(q=J.sent,m=q.length?q[0].data.sort(function(be,F){return F.lastUpdated-be.lastUpdated}):[],re=m.length?m[0].lastUpdated+1:"earliest",ne=function(){return Ie(!1)},R=Q,Ge=new Qe.vU(s.em),Ha={address:void 0,fromBlock:re,toBlock:E||Ua,topics:[Ge.getEventTopic("Approval"),Re.hexZeroPad(R,32)]},Wa=[],ce=[],!pa){J.next=24;break}return J.next=23,(0,w.Hj)(Be.getLogs(Ha),ne);case 23:ce=J.sent;case 24:ce.reverse(),za=d()().mark(function be(){var F,te,K,Pe,de,$e,ba,ya,Aa,Ca,xa,Je,Ka,ke,Xe,Ga,Ne,Ja,Fe;return d()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(F=Ge.decodeEventLog("Approval",ce[ge].data,ce[ge].topics),te=ce[ge].address,K=ce[ge].transactionHash,Pe=ce[ge].blockNumber,de=Ye.id(te+F.spender),Wa.includes(de)){Z.next=44;break}if(Wa.push(de),$e=new fe.CH(te,s.em,Be),Je=A(m,de),!Je){Z.next=21;break}return Z.next=12,(0,w.Hj)(Promise.all([Je.asset,Je.symbol,Je.decimals,$e.allowance(F.owner,F.spender),"0"]),ne);case 12:Ka=Z.sent,ke=b()(Ka,5),ba=ke[0],ya=ke[1],Aa=ke[2],Ca=ke[3],xa=ke[4],Z.next=43;break;case 21:if(Xe=ie.filter(function(_a){return _a.contract===te.toLowerCase()}),!Xe.length){Z.next=34;break}return Z.next=25,(0,w.Hj)(Promise.all([Xe[0].name,Xe[0].symbol,Xe[0].decimals,$e.allowance(F.owner,F.spender),"0"]),ne);case 25:Ga=Z.sent,Ne=b()(Ga,5),ba=Ne[0],ya=Ne[1],Aa=Ne[2],Ca=Ne[3],xa=Ne[4],Z.next=43;break;case 34:return Z.next=36,(0,w.Hj)(Promise.all([$e.name(),$e.symbol(),$e.decimals(),$e.allowance(F.owner,F.spender),"0"]),ne);case 36:Ja=Z.sent,Fe=b()(Ja,5),ba=Fe[0],ya=Fe[1],Aa=Fe[2],Ca=Fe[3],xa=Fe[4];case 43:c.push({key:de,txHash:K,lastUpdated:Pe,asset:ba,owner:F.owner,spender:F.spender,allowance:Ca.toString(),symbol:ya,contract:te,decimals:Aa,type:"erc20",balanceOf:xa.toString()});case 44:case"end":return Z.stop()}},be)}),ge=0;case 27:if(!(ge<ce.length)){J.next=32;break}return J.delegateYield(za(),"t0",29);case 29:ge++,J.next=27;break;case 32:x=T(m,c),x.forEach(function(be){return o[be.key]=!1}),f.db.approval.put({key:S,chainId:$.id,address:Q,data:x}),O(l.N.setDataSource(x)),O(l.N.setButtonLoading(o)),Ie(!1);case 38:case"end":return J.stop()}},h)}));return function(h){return u.apply(this,arguments)}}(),[$,Q,Be,O,Ua,f.db,ie,aa,pa]),Da=(0,p.useCallback)(function(){var u=U()(d()().mark(function h(E){var x,m,c,o,A,T,S,q,re;return d()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return x=null,m=null,c=E.spender,o=E.contract,A=E.symbol,R.next=4,(0,w.IU)((0,s.$q)({address:o,abi:s.em,functionName:"approve",args:[c,Y.O$.from(0)]}));case 4:return T=R.sent,R.next=7,(0,w.IU)((0,s.n9)(T));case 7:return S=R.sent,I[E.key]=!0,O(l.N.setButtonLoading(V()({},I))),R.next=12,(0,w.zI)((0,s.Mn)({hash:S.hash}));case 12:q=R.sent,re=b()(q,2),x=re[0],m=re[1],x?(Se.open({type:"error",content:x,duration:5}),ca({hash:S.hash,description:"".concat(Ze," ").concat(A," ").concat(La)})):(Se.open({type:"success",content:"".concat(Va)}),ca({hash:S.hash,description:"".concat(Ze," ").concat(A," ").concat(Ra)}),Ke(m.blockNumber)),I[E.key]=!1,O(l.N.setButtonLoading(V()({},I)));case 19:case"end":return R.stop()}},h)}));return function(h){return u.apply(this,arguments)}}(),[I,O,Ke]),Xa=(0,p.useMemo)(function(){var u,h,E=$==null||(u=$.blockExplorers)===null||u===void 0?void 0:u.default.url,x=(h=$==null?void 0:$.genesisTime)!==null&&h!==void 0?h:0;return{erc20:[{title:"".concat(y),dataIndex:"contract",key:"contract",hideInTable:!0,render:function(c,o){var A,T,S=c==null?void 0:c.toString();return S=((A=S)===null||A===void 0?void 0:A.substring(0,5))+"-"+((T=S)===null||T===void 0?void 0:T.substring(37)),(0,a.jsx)("a",{target:"blank",href:E+"/token/"+o.contract+"/token-holders",children:S})}},{title:"".concat(g),dataIndex:"asset",key:"asset",sorter:function(c,o){return c.asset.localeCompare(o.asset)},render:function(c,o){var A=o.contract.substring(0,6);return(0,a.jsxs)("a",{target:"blank",href:E+"/token/"+o.contract+"/token-holders",children:[(0,a.jsxs)("div",{children:[A,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}),o.asset]})}},{title:"".concat(N),dataIndex:"allowance",key:"allowance",sorter:function(c,o){var A=Y.O$.from(c.allowance),T=Y.O$.from(o.allowance);return A.gt(T)?1:A.lt(T)?-1:0},render:function(c,o){return o.allowance===z?(0,a.jsxs)("span",{style:{color:"red"},children:[W(o.allowance,o.decimals,o.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}):(0,a.jsxs)("span",{children:[W(o.allowance,o.decimals,o.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(j),key:"action",fixed:"right",render:function(c,o){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(me.ZP,{type:"primary",ghost:!0,size:"small",disabled:ue!==he,onClick:function(){return Da(o)},hidden:I[o.key],children:Ze}),(0,a.jsx)(Le.Z,{className:" ml-[7px]",size:"small",spinning:I[o.key]})]}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(me.ZP,{type:"primary",ghost:!0,size:"small",disabled:ue!==he,onClick:function(){return ia.current.handleOpenApproveModalForm(o)},children:fa})})]})}},{title:"".concat(C),dataIndex:"spender",key:"spender",render:function(c,o){var A=ea.filter(function(Ge){return Ge.address===o.spender.toLowerCase()});if(A.length){var T,S,q=c==null?void 0:c.toString();return q=((T=q)===null||T===void 0?void 0:T.substring(0,5))+"-"+((S=q)===null||S===void 0?void 0:S.substring(37)),(0,a.jsxs)("a",{target:"blank",href:E+"/address/"+o.spender,children:[q,(0,a.jsx)("br",{}),A[0].contractName,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}else{var re,ne,R=c==null?void 0:c.toString();return R=((re=R)===null||re===void 0?void 0:re.substring(0,5))+"-"+((ne=R)===null||ne===void 0?void 0:ne.substring(37)),(0,a.jsxs)("a",{target:"blank",href:E+"/address/"+o.spender,children:[R,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}},{title:"".concat(He),dataIndex:"txHash",key:"txHash",render:function(c,o){var A,T,S=c==null?void 0:c.toString();return S=((A=S)===null||A===void 0?void 0:A.substring(0,5))+"-"+((T=S)===null||T===void 0?void 0:T.substring(61)),(0,a.jsxs)("a",{target:"blank",href:E+"/tx/"+o.txHash,children:[S,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(ae),dataIndex:"lastUpdated",key:"lastUpdated",valueType:"date",sorter:function(c,o){return c.lastUpdated-o.lastUpdated},render:function(c,o){return(0,a.jsxs)("span",{children:[$a().unix(x+o.lastUpdated).format().substring(0,10),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}],erc721:[],erc1155:[]}},[Da,I,ue,he,$,ea]),ga=(0,p.useCallback)(function(){var u=U()(d()().mark(function h(E){var x,m,c,o,A;return d()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m=$==null||(x=$.blockExplorers)===null||x===void 0?void 0:x.default.url,S.next=3,(0,w.zI)((0,P.request)("".concat(m,"/api?module=account&action=eth_get_balance&address=").concat(E)));case 3:c=S.sent,o=b()(c,1),A=o[0],va(!A);case 7:case"end":return S.stop()}},h)}));return function(h){return u.apply(this,arguments)}}(),[$]),Ya=(0,p.useCallback)(function(){ue&&(O(l.N.setInputValue(ue)),O(l.N.setInputSearchStatus("")),ga(ue))},[ue,O,ga]),Qa=(0,p.useCallback)(function(u){if(u.target){var h=u.target.value;qe.isAddress(h)||h===""?(h!==""&&ga(h),O(l.N.setInputSearchStatus(""))):O(l.N.setInputSearchStatus("error")),O(l.N.setInputValue(h))}},[O,ga]),Ba=(0,p.useCallback)(U()(d()().mark(function u(){var h,E,x,m;return d()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return E=$==null||(h=$.blockExplorers)===null||h===void 0?void 0:h.default.url,x=[],o.next=4,(0,w.IU)((0,P.request)("".concat(E,"/api?module=contract&action=listcontracts&offset=1000&filter=verified")));case 4:m=o.sent,m&&m.status==="1"&&(m.result.forEach(function(A){x.push({address:A.Address,contractName:A.ContractName})}),O(l.N.setContractList(x)),localStorage.setItem("contractList",JSON.stringify(x)));case 6:case"end":return o.stop()}},u)})),[$]),qa=(0,p.useCallback)(function(u,h){u?qe.isAddress(u)?(O(l.N.setSearchValue(u)),Ke()):Se.open({type:"error",content:"".concat(ma)}):h.hasOwnProperty("type")&&Se.open({type:"error",content:"".concat(je)})},[Se,Ke,O,Ba]),Za=(0,p.useCallback)(U()(d()().mark(function u(){var h,E,x;return d()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,w.zI)((0,P.request)("https://api.noahark.pro/api/swap/getCoinList",{method:"POST"}));case 2:h=c.sent,E=b()(h,2),x=E[1],x&&x.code===0&&(O(l.N.setCoinList(x.data)),localStorage.setItem("coinList",JSON.stringify(x.data)));case 6:case"end":return c.stop()}},u)})),[]);return(0,p.useEffect)(function(){!De&&$&&!$.unsupported&&(Za(),Ba())},[Za,De,$]),(0,a.jsxs)(D._z,{className:"approval",ghost:!0,extra:[(0,a.jsx)(me.ZP,{disabled:De,onClick:Ya,children:ha},"1")],children:[(0,a.jsxs)(G.Z,{className:"w-full mb-4",bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},children:[(0,a.jsx)(oe.Z.Search,{ref:Ia,size:"large",maxLength:42,minLength:42,allowClear:!0,placeholder:ze,className:"w-full",status:we,onChange:Qa,onSearch:qa,value:Q}),Ta]}),(0,a.jsx)(B.Z,{scroll:{x:!0},size:"small",columns:Xa[ta],actionRef:v,dataSource:Me,defaultData:[],params:Ue,loading:na,toolbar:{multipleLine:!0,tabs:{activeKey:ta,onChange:function(h){la(h),L({type:h})},items:[{key:"erc20",tab:"ERC-20"},{key:"erc721",tab:"ERC-721",disabled:!0},{key:"erc1155",tab:"ERC-1155",disabled:!0}]}},search:!1,options:!1,pagination:!1}),(0,a.jsx)(i,{ref:ia,handleGetApproval:Ke})]})},Oa=Ea},64119:function(Sa,pe,r){r.d(pe,{CE:function(){return Ce},D0:function(){return ee},Hj:function(){return xe},IU:function(){return Ee},Mn:function(){return p},zI:function(){return k}});var ve=r(17061),V=r.n(ve),ye=r(18698),d=r.n(ye),le=r(17156),_=r.n(le),H=r(2453),U=r(9669),Ae=r.n(U),b=5;function w(e){return new Promise(function(s){return setTimeout(s,e)})}function Ce(e,s){var a=s||"",t=e,n=Number(t)<1;if(typeof t=="number"&&(t=t.toString()),n){var i=/\d+\.0*\d{3}/,l=/0\.(0{4,})/,f=i.exec(t);if(t=f?f[0]:t,f=l.exec(t),f){var D=f[1].length;return a+t.replace(l,"0.0{"+D+"}")}return a+t}else return a+Number(t).toLocaleString()}function k(e){return X.apply(this,arguments)}function X(){return X=_()(V()().mark(function e(s){var a;return V()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s;case 3:return a=n.sent,n.abrupt("return",[null,a]);case 7:if(n.prev=7,n.t0=n.catch(0),!(n.t0 instanceof Error)){n.next=14;break}return console.log(n.t0),n.abrupt("return",[n.t0.message,null]);case 14:if(console.log(n.t0),d()(n.t0)!=="object"){n.next=19;break}return n.abrupt("return",[JSON.stringify(n.t0),null]);case 19:return n.abrupt("return",[n.t0,null]);case 20:case"end":return n.stop()}},e,null,[[0,7]])})),X.apply(this,arguments)}function ee(e){return P.apply(this,arguments)}function P(){return P=_()(V()().mark(function e(s){var a;return V()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a="https://eospush.tokenpocket.pro",n.next=3,k(Ae().post("".concat(a,"/v1/chain/get_account"),JSON.stringify(s)));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},e)})),P.apply(this,arguments)}function Ee(e,s){return Oe.apply(this,arguments)}function Oe(){return Oe=_()(V()().mark(function e(s,a){var t;return V()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s;case 3:return t=i.sent,i.abrupt("return",t);case 7:if(i.prev=7,i.t0=i.catch(0),!(i.t0 instanceof Error)){i.next=15;break}throw console.log(i.t0),H.ZP.error({content:a||i.t0.message,duration:b}),i.t0;case 15:throw console.log(i.t0),d()(i.t0)==="object"?H.ZP.error({content:a||JSON.stringify(i.t0),duration:b}):H.ZP.error({content:a||i.t0,duration:b}),i.t0;case 18:case"end":return i.stop()}},e,null,[[0,7]])})),Oe.apply(this,arguments)}function xe(e,s,a){return fe.apply(this,arguments)}function fe(){return fe=_()(V()().mark(function e(s,a,t){var n,i;return V()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=a!=null?a:function(){},f.prev=1,f.next=4,s;case 4:return i=f.sent,f.abrupt("return",i);case 8:if(f.prev=8,f.t0=f.catch(1),!(f.t0 instanceof Error)){f.next=17;break}throw console.log(f.t0),n(),H.ZP.error({content:t||f.t0.message,duration:b}),f.t0;case 17:throw console.log(f.t0),d()(f.t0)==="object"?H.ZP.error({content:t||JSON.stringify(f.t0),duration:b}):H.ZP.error({content:t||f.t0,duration:b}),n(),f.t0;case 21:case"end":return f.stop()}},e,null,[[1,8]])})),fe.apply(this,arguments)}function Y(e,s,a){return se.apply(this,arguments)}function se(){return se=_asyncToGenerator(_regeneratorRuntime().mark(function e(s,a,t){var n;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s;case 3:return n=l.sent,message.success({content:a||"Success"}),l.abrupt("return",n);case 8:if(l.prev=8,l.t0=l.catch(0),!(l.t0 instanceof Error)){l.next=16;break}throw console.log(l.t0),message.error({content:t||l.t0.message,duration:b}),l.t0;case 16:throw console.log(l.t0),_typeof(l.t0)==="object"?message.error({content:t||JSON.stringify(l.t0),duration:b}):message.error({content:t||l.t0,duration:b}),l.t0;case 19:case"end":return l.stop()}},e,null,[[0,8]])})),se.apply(this,arguments)}function p(){var e=navigator.userAgent,s=/mobile/i.test(e);return s}},51904:function(Sa,pe,r){r.d(pe,{Z:function(){return p}});var ve=r(97937),V=r(94184),ye=r.n(V),d=r(62435),le=r(98787),_=r(45353),H=r(53124);function U(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var Ae=r(14747),b=r(98719),w=r(67968),Ce=r(45503);const k=(e,s,a)=>{const t=U(a);return{[`${e.componentCls}-${s}`]:{color:e[`color${a}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`]}}},X=e=>(0,b.Z)(e,(s,a)=>{let{textColor:t,lightBorderColor:n,lightColor:i,darkColor:l}=a;return{[`${e.componentCls}-${s}`]:{color:t,background:i,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:l,borderColor:l},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),ee=e=>{const{paddingXXS:s,lineWidth:a,tagPaddingHorizontal:t,componentCls:n}=e,i=t-a,l=s-a;return{[n]:Object.assign(Object.assign({},(0,Ae.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${n}-close-icon`]:{marginInlineStart:l,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var P=(0,w.Z)("Tag",e=>{const{fontSize:s,lineHeight:a,lineWidth:t,fontSizeIcon:n}=e,i=Math.round(s*a),l=e.fontSizeSM,f=i-t*2,D=e.colorFillQuaternary,G=e.colorText,B=(0,Ce.TS)(e,{tagFontSize:l,tagLineHeight:f,tagDefaultBg:D,tagDefaultColor:G,tagIconSize:n-2*t,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[ee(B),X(B),k(B,"success","Success"),k(B,"processing","Info"),k(B,"error","Error"),k(B,"warning","Warning")]}),Ee=function(e,s){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a},xe=e=>{const{prefixCls:s,className:a,checked:t,onChange:n,onClick:i}=e,l=Ee(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:f}=d.useContext(H.E_),D=oe=>{n==null||n(!t),i==null||i(oe)},G=f("tag",s),[B,me]=P(G),Le=ye()(G,{[`${G}-checkable`]:!0,[`${G}-checkable-checked`]:t},a,me);return B(d.createElement("span",Object.assign({},l,{className:Le,onClick:D})))},fe=function(e,s){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(a[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]]);return a};const Y=(e,s)=>{const{prefixCls:a,className:t,rootClassName:n,style:i,children:l,icon:f,color:D,onClose:G,closeIcon:B,closable:me=!1,bordered:Le=!0}=e,oe=fe(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:Pa,direction:$a}=d.useContext(H.E_),[Ye,Qe]=d.useState(!0);d.useEffect(()=>{"visible"in oe&&Qe(oe.visible)},[oe.visible]);const Re=(0,le.o2)(D)||(0,le.yT)(D),qe=Object.assign({backgroundColor:D&&!Re?D:void 0},i),z=Pa("tag",a),[Ea,Oa]=P(z),_e=ye()(z,{[`${z}-${D}`]:Re,[`${z}-has-color`]:D&&!Re,[`${z}-hidden`]:!Ye,[`${z}-rtl`]:$a==="rtl",[`${z}-borderless`]:!Le},t,n,Oa),O=ie=>{ie.stopPropagation(),G==null||G(ie),!ie.defaultPrevented&&Qe(!1)},Me=d.useMemo(()=>me?B?d.createElement("span",{className:`${z}-close-icon`,onClick:O},B):d.createElement(ve.Z,{className:`${z}-close-icon`,onClick:O}):null,[me,B,z,O]),I=typeof oe.onClick=="function"||l&&l.type==="a",he=f||null,Q=he?d.createElement(d.Fragment,null,he,d.createElement("span",null,l)):l,we=d.createElement("span",Object.assign({},oe,{ref:s,className:_e,style:qe}),Q,Me);return Ea(I?d.createElement(_.Z,null,we):we)},se=d.forwardRef(Y);se.CheckableTag=xe;var p=se}}]);
