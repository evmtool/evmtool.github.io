"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4339],{5966:function(qe,re,a){var ne=a(1413),_=a(45987),Pe=a(62435),s=a(17689),ue=a(86074),te=["fieldProps","proFieldProps"],ge=["fieldProps","proFieldProps"],U="text",Ee=function(I){var ce=I.fieldProps,de=I.proFieldProps,N=(0,_.Z)(I,te);return(0,ue.jsx)(s.Z,(0,ne.Z)({valueType:U,fieldProps:ce,filedConfig:{valueType:U},proFieldProps:de},N))},w=function(I){var ce=I.fieldProps,de=I.proFieldProps,N=(0,_.Z)(I,ge);return(0,ue.jsx)(s.Z,(0,ne.Z)({valueType:"password",fieldProps:ce,proFieldProps:de,filedConfig:{valueType:U}},N))},F=Ee;F.Password=w,F.displayName="ProFormComponent",re.Z=F},85971:function(qe,re,a){var ne=a(54442),_=(0,ne.getDvaApp)()._store;re.Z=_},96144:function(qe,re,a){a.r(re),a.d(re,{default:function(){return $a}});var ne=a(42122),_=a.n(ne),Pe=a(17061),s=a.n(Pe),ue=a(861),te=a.n(ue),ge=a(17156),U=a.n(ge),Ee=a(27424),w=a.n(Ee),F=a(64119),be=a(99351),I=a(5966),ce=a(97462),de=a(45962),N=a(54442),ye=a(2453),Ie=a(26713),Oe=a(51904),Ae=a(64146),Q=a(2593),pe=a(35553),v=a(62435),e=a(28493),A=a(65735),r=a(86074),i="115792089237316195423570985008687907853269984665640564039457584007913129639935",b=v.forwardRef(function(ra,k){var Te=ra.handleGetApproval,R=(0,v.useRef)(),Ce=(0,v.useState)(!1),ee=w()(Ce,2),je=ee[0],ve=ee[1],na=(0,v.useState)({key:"",txHash:"",lastUpdated:0,asset:"",owner:"",spender:"",allowance:"",symbol:"",contract:"",decimals:0,balanceOf:"",type:""}),ta=w()(na,2),m=ta[0],Ma=ta[1],la=(0,v.useState)("0"),sa=w()(la,2),Ne=sa[0],wa=sa[1],Ue=(0,e.yL)(),oa=ye.ZP.useMessage(),ia=w()(oa,2),ua=ia[0],ca=ia[1],Ve=(0,de.uX)(),z=(0,N.useIntl)(),Ia=z.formatMessage({id:"approval.unlimited"}),da=z.formatMessage({id:"approval.fail"}),Ta=z.formatMessage({id:"approval.success"}),pa=z.formatMessage({id:"approval.txSuccess"}),$e=z.formatMessage({id:"approval.asset"}),ja=z.formatMessage({id:"approval.allowance"}),va=z.formatMessage({id:"approval.spender"}),Be=z.formatMessage({id:"approval.approve"}),fe=z.formatMessage({id:"approval.pleaseInputAllowanceValue"}),Ze=z.formatMessage({id:"approval.inputException"}),Na=z.formatMessage({id:"approval.maxTag"}),fa=z.formatMessage({id:"approval.unlimitedTag"}),ma=z.formatMessage({id:"approval.revokeTag"}),ha=z.formatMessage({id:"approval.inputValue"}),ka=z.formatMessage({id:"approval.approveOperate"}),T=(0,v.useCallback)(function(){var x=U()(s()().mark(function C(V){var D,P;return s()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return D=new Ae.CH(V.contract,A.em,Ue),le.next=3,(0,F.IU)(D.balanceOf(V.owner));case 3:P=le.sent,P=P.toString(),wa(P);case 6:case"end":return le.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),[Ue]),He=(0,v.useCallback)(function(x){T(x),Ma(x),ve(!0)},[T]);(0,v.useImperativeHandle)(k,function(){return{handleOpenApproveModalForm:He}});var L=(0,v.useCallback)(function(x,C,V){var D=/^\d+$|^0x[a-fA-F0-9]+$/;if(D.test(x)){var P=Q.O$.from(x);return P.eq(Q.O$.from(i))?P="".concat(Ia):(P=pe.formatUnits(x,C),P==="0.0"&&(P="0")),P+" "+V}else return"undefined"},[]),Fa=(0,v.useCallback)(function(x,C){var V=C.substring(0,8),D=C.substring(36);return x+" ("+V+"-"+D+")"},[]),ze=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue","0"),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[]),La=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue",Ne),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[Ne]),Ra=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue",i),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[]),Da=(0,v.useCallback)(function(){var x=U()(s()().mark(function C(V){var D,P,Ke,le,ga,ba,ke,ya,Ge,Fe;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return D=null,P=null,Ke=V.spender,le=V.inputValue,G.next=4,(0,F.IU)((0,A.$q)({address:m.contract,abi:A.em,functionName:"approve",args:[Ke,Q.O$.from(le)]}));case 4:return ga=G.sent,G.next=7,(0,F.IU)((0,A.n9)(ga));case 7:return ba=G.sent,ke=ba.hash,G.next=11,(0,F.zI)((0,A.Mn)({hash:ke}));case 11:if(ya=G.sent,Ge=w()(ya,2),D=Ge[0],P=Ge[1],!D){G.next=20;break}ua.open({type:"error",content:D,duration:5}),Ve({hash:ke,description:"".concat(Be," ").concat(m==null?void 0:m.symbol," ").concat(da)}),G.next=26;break;case 20:return Fe=P.logs[0].data,Fe=L(Fe,m==null?void 0:m.decimals,m==null?void 0:m.symbol),ua.open({type:"success",content:"".concat(pa)}),Ve({hash:ke,description:"".concat(Be," ").concat(Fe," ").concat(Ta)}),Te(P.blockNumber),G.abrupt("return",!0);case 26:case"end":return G.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),[m,L,Te,Ve]);return(0,r.jsxs)(be.Y,{formRef:R,title:ka,open:je,onFinish:function(){var x=U()(s()().mark(function C(V){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Da(V));case 1:case"end":return P.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),onOpenChange:function(C){var V,D,P;ve(C),(V=R.current)===null||V===void 0||V.setFieldValue("inputValue","0"),(D=R.current)===null||D===void 0||D.validateFields(["inputValue"]),(P=R.current)===null||P===void 0||P.setFieldValue("inputValue","")},layout:"horizontal",width:"480px",children:[(0,r.jsx)(I.Z,{name:"spender",label:va,disabled:!0,initialValue:m==null?void 0:m.spender}),(0,r.jsx)(I.Z,{name:"asset",label:$e,disabled:!0,initialValue:Fa(m==null?void 0:m.asset,m==null?void 0:m.contract)}),(0,r.jsx)(ce.Z,{name:["inputValue"],children:function(C){var V=C.inputValue,D=L(m==null?void 0:m.allowance,m==null?void 0:m.decimals,m==null?void 0:m.symbol),P=L(V,m==null?void 0:m.decimals,m==null?void 0:m.symbol);return(0,r.jsx)(I.Z,{name:"allowance",label:ja,disabled:!0,initialValue:D,fieldProps:{value:V?P:D}})}}),(0,r.jsx)(I.Z,{name:"inputValue",label:ha,placeholder:fe,rules:[{required:!0,message:"".concat(Ze),whitespace:!0,pattern:/^\d+$/}],fieldProps:{maxLength:78,minLength:1,showCount:!0}}),(0,r.jsxs)(Ie.Z,{children:[(0,r.jsx)(Oe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:ze,children:ma}),(0,r.jsx)(Oe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:La,children:Na}),(0,r.jsx)(Oe.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Ra,children:fa})]}),ca]})}),B=(0,v.memo)(b),O=a(25734),p=a(31120),f=a(78565),o=a(38345),t=a(30566),n=a(71577),h=a(75081),d=a(69677),H=a(27484),$=a.n(H),_e=a(32046),ea=a(8198),We=a(16441),aa=a(19485),X="115792089237316195423570985008687907853269984665640564039457584007913129639935",Oa=function(){var k=(0,N.useDispatch)(),Te=(0,N.useSelector)(function(u){return u.approval.dataSource}),R=(0,N.useSelector)(function(u){return u.approval.buttonLoading}),Ce=(0,N.useSelector)(function(u){return u.approval.searchValue}),ee=(0,N.useSelector)(function(u){return u.approval.inputValue}),je=(0,N.useSelector)(function(u){return u.approval.inputSearchStatus}),ve=(0,N.useSelector)(function(u){return u.approval.coinList}),na=(0,N.useSelector)(function(u){return u.approval.contractList}),ta=(0,N.useSelector)(function(u){return u.approval.tokenList}),m=(0,v.useRef)(),Ma=(0,v.useState)(!1),la=w()(Ma,2),sa=la[0],Ne=la[1],wa=(0,v.useState)("erc20"),Ue=w()(wa,2),oa=Ue[0],ia=Ue[1],ua=(0,v.useState)({type:"erc20"}),ca=w()(ua,2),Ve=ca[0],z=ca[1],Ia=(0,v.useRef)(null),da=(0,v.useRef)(),Ta=ye.ZP.useMessage(),pa=w()(Ta,2),$e=pa[0],ja=pa[1],va=(0,de.uX)(),Be=(0,e.mA)(),fe=Be.address,Ze=Be.isDisconnected,Na=(0,v.useState)(!0),fa=w()(Na,2),ma=fa[0],ha=fa[1],ka=(0,e.LN)(),T=ka.chain,He=(0,e.yL)(),L=(0,N.useIntl)(),Fa=L.formatMessage({id:"approval.unlimited"}),ze=L.formatMessage({id:"approval.revoke"}),La=L.formatMessage({id:"approval.fail"}),Ra=L.formatMessage({id:"approval.success"}),Da=L.formatMessage({id:"approval.txSuccess"}),x=L.formatMessage({id:"approval.token"}),C=L.formatMessage({id:"approval.asset"}),V=L.formatMessage({id:"approval.allowance"}),D=L.formatMessage({id:"approval.action"}),P=L.formatMessage({id:"approval.spender"}),Ke=L.formatMessage({id:"approval.txHash"}),le=L.formatMessage({id:"approval.lastUpdated"}),ga=L.formatMessage({id:"approval.approve"}),ba=L.formatMessage({id:"approval.addressVerificationError"}),ke=L.formatMessage({id:"approval.addressCanNotBeEmpty"}),ya=L.formatMessage({id:"approval.yourAddress"}),Ge=L.formatMessage({id:"approval.pleaseInputAddress"}),Fe=(0,e.Ov)({watch:!0}),Wa=Fe.data,G=(0,v.useCallback)(function(u,y,j){var E=/^\d+$|^0x[a-fA-F0-9]+$/;if(E.test(u)){var g=Q.O$.from(u);return g.eq(Q.O$.from(X))?g="".concat(Fa):(g=pe.formatUnits(u,y),g==="0.0"&&(g="0")),g+" "+j}else return"undefined"},[]),Je=(0,v.useCallback)(function(){var u=U()(s()().mark(function y(j){var E,g,c,l,S,W,M,ae,se,oe,K,Xe,Ha,Ua,me,za,xe;return s()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(E=[],g=[],c=[],l={},S=function(Z,ie){for(var Y=0;Y<Z.length;Y++)if(Z[Y].key===ie)return Z[Y];return!1},W=function(Z,ie){var Y=[];return Z.forEach(function(Me){ie.some(function(he){return he.key===Me.key})||Y.push(Me)}),Y.push.apply(Y,te()(ie)),Y.sort(function(Me,he){return he.lastUpdated-Me.lastUpdated}),Y},!(ee&&T)){q.next=38;break}return Ne(!0),M=_e.id(ee+T.id).substring(0,8),q.next=11,p.db.approval.where({key:M}).toArray();case 11:if(ae=q.sent,g=ae.length?ae[0].data.sort(function(Se,Z){return Z.lastUpdated-Se.lastUpdated}):[],se=g.length?g[0].lastUpdated+1:"earliest",oe=function(){return Ne(!1)},K=ee,Xe=new ea.vU(A.em),Ha={address:void 0,fromBlock:se,toBlock:j||Wa,topics:[Xe.getEventTopic("Approval"),We.hexZeroPad(K,32)]},Ua=[],me=[],!ma){q.next=24;break}return q.next=23,(0,F.Hj)(He.getLogs(Ha),oe);case 23:me=q.sent;case 24:me.reverse(),za=s()().mark(function Se(){var Z,ie,Y,Me,he,we,Ca,xa,Sa,Pa,Ea,Ye,Ka,Le,Qe,Ga,Re,Ja,De;return s()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(Z=Xe.decodeEventLog("Approval",me[xe].data,me[xe].topics),ie=me[xe].address,Y=me[xe].transactionHash,Me=me[xe].blockNumber,he=_e.id(ie+Z.spender),Ua.includes(he)){J.next=44;break}if(Ua.push(he),we=new Ae.CH(ie,A.em,He),Ye=S(g,he),!Ye){J.next=21;break}return J.next=12,(0,F.Hj)(Promise.all([Ye.asset,Ye.symbol,Ye.decimals,we.allowance(Z.owner,Z.spender),"0"]),oe);case 12:Ka=J.sent,Le=w()(Ka,5),Ca=Le[0],xa=Le[1],Sa=Le[2],Pa=Le[3],Ea=Le[4],J.next=43;break;case 21:if(Qe=ve.filter(function(_a){return _a.contract===ie.toLowerCase()}),!Qe.length){J.next=34;break}return J.next=25,(0,F.Hj)(Promise.all([Qe[0].name,Qe[0].symbol,Qe[0].decimals,we.allowance(Z.owner,Z.spender),"0"]),oe);case 25:Ga=J.sent,Re=w()(Ga,5),Ca=Re[0],xa=Re[1],Sa=Re[2],Pa=Re[3],Ea=Re[4],J.next=43;break;case 34:return J.next=36,(0,F.Hj)(Promise.all([we.name(),we.symbol(),we.decimals(),we.allowance(Z.owner,Z.spender),"0"]),oe);case 36:Ja=J.sent,De=w()(Ja,5),Ca=De[0],xa=De[1],Sa=De[2],Pa=De[3],Ea=De[4];case 43:c.push({key:he,txHash:Y,lastUpdated:Me,asset:Ca,owner:Z.owner,spender:Z.spender,allowance:Pa.toString(),symbol:xa,contract:ie,decimals:Sa,type:"erc20",balanceOf:Ea.toString()});case 44:case"end":return J.stop()}},Se)}),xe=0;case 27:if(!(xe<me.length)){q.next=32;break}return q.delegateYield(za(),"t0",29);case 29:xe++,q.next=27;break;case 32:E=W(g,c),E.forEach(function(Se){return l[Se.key]=!1}),p.db.approval.put({key:M,chainId:T.id,address:ee,data:E}),k(O.N.setDataSource(E)),k(O.N.setButtonLoading(l)),Ne(!1);case 38:case"end":return q.stop()}},y)}));return function(y){return u.apply(this,arguments)}}(),[T,ee,He,k,Wa,p.db,ve,ta,ma]),Va=(0,v.useCallback)(function(){var u=U()(s()().mark(function y(j){var E,g,c,l,S,W,M,ae,se;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return E=null,g=null,c=j.spender,l=j.contract,S=j.symbol,K.next=4,(0,F.IU)((0,A.$q)({address:l,abi:A.em,functionName:"approve",args:[c,Q.O$.from(0)]}));case 4:return W=K.sent,K.next=7,(0,F.IU)((0,A.n9)(W));case 7:return M=K.sent,R[j.key]=!0,k(O.N.setButtonLoading(_()({},R))),K.next=12,(0,F.zI)((0,A.Mn)({hash:M.hash}));case 12:ae=K.sent,se=w()(ae,2),E=se[0],g=se[1],E?($e.open({type:"error",content:E,duration:5}),va({hash:M.hash,description:"".concat(ze," ").concat(S," ").concat(La)})):($e.open({type:"success",content:"".concat(Da)}),va({hash:M.hash,description:"".concat(ze," ").concat(S," ").concat(Ra)}),Je(g.blockNumber)),R[j.key]=!1,k(O.N.setButtonLoading(_()({},R)));case 19:case"end":return K.stop()}},y)}));return function(y){return u.apply(this,arguments)}}(),[R,k,Je]),Xa=(0,v.useMemo)(function(){var u,y,j=T==null||(u=T.blockExplorers)===null||u===void 0?void 0:u.default.url,E=(y=T==null?void 0:T.genesisTime)!==null&&y!==void 0?y:0;return{erc20:[{title:"".concat(x),dataIndex:"contract",key:"contract",hideInTable:!0,render:function(c,l){var S,W,M=c==null?void 0:c.toString();return M=((S=M)===null||S===void 0?void 0:S.substring(0,5))+"-"+((W=M)===null||W===void 0?void 0:W.substring(37)),(0,r.jsx)("a",{target:"blank",href:j+"/token/"+l.contract+"/token-holders",children:M})}},{title:"".concat(C),dataIndex:"asset",key:"asset",sorter:function(c,l){return c.asset.localeCompare(l.asset)},render:function(c,l){var S=l.contract.substring(0,6);return(0,r.jsxs)("a",{target:"blank",href:j+"/token/"+l.contract+"/token-holders",children:[(0,r.jsxs)("div",{children:[S,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}),l.asset]})}},{title:"".concat(V),dataIndex:"allowance",key:"allowance",sorter:function(c,l){var S=Q.O$.from(c.allowance),W=Q.O$.from(l.allowance);return S.gt(W)?1:S.lt(W)?-1:0},render:function(c,l){return l.allowance===X?(0,r.jsxs)("span",{style:{color:"red"},children:[G(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}):(0,r.jsxs)("span",{children:[G(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(D),key:"action",fixed:"right",render:function(c,l){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZP,{type:"primary",ghost:!0,size:"small",disabled:fe!==Ce,onClick:function(){return Va(l)},hidden:R[l.key],children:ze}),(0,r.jsx)(h.Z,{className:" ml-[7px]",size:"small",spinning:R[l.key]})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(n.ZP,{type:"primary",ghost:!0,size:"small",disabled:fe!==Ce,onClick:function(){return da.current.handleOpenApproveModalForm(l)},children:ga})})]})}},{title:"".concat(P),dataIndex:"spender",key:"spender",render:function(c,l){var S=na.filter(function(Xe){return Xe.address===l.spender.toLowerCase()});if(S.length){var W,M,ae=c==null?void 0:c.toString();return ae=((W=ae)===null||W===void 0?void 0:W.substring(0,5))+"-"+((M=ae)===null||M===void 0?void 0:M.substring(37)),(0,r.jsxs)("a",{target:"blank",href:j+"/address/"+l.spender,children:[ae,(0,r.jsx)("br",{}),S[0].contractName,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}else{var se,oe,K=c==null?void 0:c.toString();return K=((se=K)===null||se===void 0?void 0:se.substring(0,5))+"-"+((oe=K)===null||oe===void 0?void 0:oe.substring(37)),(0,r.jsxs)("a",{target:"blank",href:j+"/address/"+l.spender,children:[K,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}},{title:"".concat(Ke),dataIndex:"txHash",key:"txHash",render:function(c,l){var S,W,M=c==null?void 0:c.toString();return M=((S=M)===null||S===void 0?void 0:S.substring(0,5))+"-"+((W=M)===null||W===void 0?void 0:W.substring(61)),(0,r.jsxs)("a",{target:"blank",href:j+"/tx/"+l.txHash,children:[M,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(le),dataIndex:"lastUpdated",key:"lastUpdated",valueType:"date",sorter:function(c,l){return c.lastUpdated-l.lastUpdated},render:function(c,l){return(0,r.jsxs)("span",{children:[$().unix(E+l.lastUpdated).format().substring(0,10),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}],erc721:[],erc1155:[]}},[Va,R,fe,Ce,T,na]),Aa=(0,v.useCallback)(function(){var u=U()(s()().mark(function y(j){var E,g,c,l,S;return s()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return g=T==null||(E=T.blockExplorers)===null||E===void 0?void 0:E.default.url,M.next=3,(0,F.zI)((0,N.request)("".concat(g,"/api?module=account&action=eth_get_balance&address=").concat(j)));case 3:c=M.sent,l=w()(c,1),S=l[0],ha(!S);case 7:case"end":return M.stop()}},y)}));return function(y){return u.apply(this,arguments)}}(),[T]),Ya=(0,v.useCallback)(function(){fe&&(k(O.N.setInputValue(fe)),k(O.N.setInputSearchStatus("")),Aa(fe))},[fe,k,Aa]),Qa=(0,v.useCallback)(function(u){if(u.target){var y=u.target.value;aa.isAddress(y)||y===""?(y!==""&&Aa(y),k(O.N.setInputSearchStatus(""))):k(O.N.setInputSearchStatus("error")),k(O.N.setInputValue(y))}},[k,Aa]),Ba=(0,v.useCallback)(U()(s()().mark(function u(){var y,j,E,g;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return j=T==null||(y=T.blockExplorers)===null||y===void 0?void 0:y.default.url,E=[],l.next=4,(0,F.IU)((0,N.request)("".concat(j,"/api?module=contract&action=listcontracts&offset=1000&filter=verified")));case 4:g=l.sent,g&&g.status==="1"&&(g.result.forEach(function(S){E.push({address:S.Address,contractName:S.ContractName})}),k(O.N.setContractList(E)),localStorage.setItem("contractList",JSON.stringify(E)));case 6:case"end":return l.stop()}},u)})),[T]),qa=(0,v.useCallback)(function(u,y){u?aa.isAddress(u)?(k(O.N.setSearchValue(u)),Je()):$e.open({type:"error",content:"".concat(ba)}):y.hasOwnProperty("type")&&$e.open({type:"error",content:"".concat(ke)})},[$e,Je,k,Ba]),Za=(0,v.useCallback)(U()(s()().mark(function u(){var y,j,E;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,F.zI)((0,N.request)("https://api.noahark.pro/api/swap/getCoinList",{method:"POST"}));case 2:y=c.sent,j=w()(y,2),E=j[1],E&&E.code===0&&(k(O.N.setCoinList(E.data)),localStorage.setItem("coinList",JSON.stringify(E.data)));case 6:case"end":return c.stop()}},u)})),[]);return(0,v.useEffect)(function(){!Ze&&T&&!T.unsupported&&(Za(),Ba())},[Za,Ze,T]),(0,r.jsxs)(f._z,{className:"approval",ghost:!0,extra:[(0,r.jsx)(n.ZP,{disabled:Ze,onClick:Ya,children:ya},"1")],children:[(0,r.jsxs)(o.Z,{className:"w-full mb-4",bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},children:[(0,r.jsx)(d.Z.Search,{ref:Ia,size:"large",maxLength:42,minLength:42,allowClear:!0,placeholder:Ge,className:"w-full",status:je,onChange:Qa,onSearch:qa,value:ee}),ja]}),(0,r.jsx)(t.Z,{scroll:{x:!0},size:"small",columns:Xa[oa],actionRef:m,dataSource:Te,defaultData:[],params:Ve,loading:sa,toolbar:{multipleLine:!0,tabs:{activeKey:oa,onChange:function(y){ia(y),z({type:y})},items:[{key:"erc20",tab:"ERC-20"},{key:"erc721",tab:"ERC-721",disabled:!0},{key:"erc1155",tab:"ERC-1155",disabled:!0}]}},search:!1,options:!1,pagination:!1}),(0,r.jsx)(B,{ref:da,handleGetApproval:Je})]})},$a=Oa},64119:function(qe,re,a){a.d(re,{CE:function(){return N},D0:function(){return Oe},Hj:function(){return v},IU:function(){return Q},Mn:function(){return i},pM:function(){return O},su:function(){return b},zI:function(){return ye}});var ne=a(27424),_=a.n(ne),Pe=a(17061),s=a.n(Pe),ue=a(18698),te=a.n(ue),ge=a(17156),U=a.n(ge),Ee=a(85971),w=a(2453),F=a(9669),be=a.n(F),I=5;function ce(){var p=Ee.Z.getState().global.nodeConfig;return p.url}function de(p){return new Promise(function(f){return setTimeout(f,p)})}function N(p,f){var o=f||"",t=p,n=Number(t)<1;if(typeof t=="number"&&(t=t.toString()),n){var h=/\d+\.0*\d{3}/,d=/0\.(0{4,})/,H=h.exec(t);if(t=H?H[0]:t,H=d.exec(t),H){var $=H[1].length;return o+t.replace(d,"0.0{"+$+"}")}return o+t}else return o+Number(t).toLocaleString()}function ye(p){return Ie.apply(this,arguments)}function Ie(){return Ie=U()(s()().mark(function p(f){var o;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f;case 3:return o=n.sent,n.abrupt("return",[null,o]);case 7:if(n.prev=7,n.t0=n.catch(0),!(n.t0 instanceof Error)){n.next=14;break}return console.log(n.t0),n.abrupt("return",[n.t0.message,null]);case 14:if(console.log(n.t0),te()(n.t0)!=="object"){n.next=19;break}return n.abrupt("return",[JSON.stringify(n.t0),null]);case 19:return n.abrupt("return",[n.t0,null]);case 20:case"end":return n.stop()}},p,null,[[0,7]])})),Ie.apply(this,arguments)}function Oe(p){return Ae.apply(this,arguments)}function Ae(){return Ae=U()(s()().mark(function p(f){var o;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=ce(),n.next=3,ye(be().post("".concat(o,"/v1/chain/get_account"),JSON.stringify(f)));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},p)})),Ae.apply(this,arguments)}function Q(p,f){return pe.apply(this,arguments)}function pe(){return pe=U()(s()().mark(function p(f,o){var t;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,f;case 3:return t=h.sent,h.abrupt("return",t);case 7:if(h.prev=7,h.t0=h.catch(0),!(h.t0 instanceof Error)){h.next=15;break}throw console.log(h.t0),w.ZP.error({content:o||h.t0.message,duration:I}),h.t0;case 15:throw console.log(h.t0),te()(h.t0)==="object"?w.ZP.error({content:o||JSON.stringify(h.t0),duration:I}):w.ZP.error({content:o||h.t0,duration:I}),h.t0;case 18:case"end":return h.stop()}},p,null,[[0,7]])})),pe.apply(this,arguments)}function v(p,f,o){return e.apply(this,arguments)}function e(){return e=U()(s()().mark(function p(f,o,t){var n,h,d;return s()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return n=o!=null?o:function(){},$.prev=1,$.next=4,f;case 4:return h=$.sent,$.abrupt("return",h);case 8:if($.prev=8,$.t0=$.catch(1),!($.t0 instanceof Error)){$.next=17;break}throw console.log($.t0),n(),w.ZP.error({content:t||$.t0.message,duration:I}),$.t0;case 17:throw console.log($.t0),te()($.t0)==="object"?(d="",$.t0.hasOwnProperty("message")?d=$.t0.message:d=JSON.stringify($.t0),w.ZP.error({content:t||d,duration:I})):w.ZP.error({content:t||$.t0,duration:I}),n(),$.t0;case 21:case"end":return $.stop()}},p,null,[[1,8]])})),e.apply(this,arguments)}function A(p,f,o){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function p(f,o,t){var n;return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,f;case 3:return n=d.sent,message.success({content:o||"Success"}),d.abrupt("return",n);case 8:if(d.prev=8,d.t0=d.catch(0),!(d.t0 instanceof Error)){d.next=16;break}throw console.log(d.t0),message.error({content:t||d.t0.message,duration:I}),d.t0;case 16:throw console.log(d.t0),_typeof(d.t0)==="object"?message.error({content:t||JSON.stringify(d.t0),duration:I}):message.error({content:t||d.t0,duration:I}),d.t0;case 19:case"end":return d.stop()}},p,null,[[0,8]])})),r.apply(this,arguments)}function i(){var p=navigator.userAgent,f=/mobile/i.test(p);return f}function b(p){return B.apply(this,arguments)}function B(){return B=U()(s()().mark(function p(f){var o,t,n,h;return s()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return o=null,t=null,H.next=3,ye(be().get("".concat(f,"/v1/chain/get_info"),{timeout:1e4}));case 3:return n=H.sent,h=_()(n,2),o=h[0],t=h[1],H.abrupt("return",[o,t]);case 8:case"end":return H.stop()}},p)})),B.apply(this,arguments)}function O(p){if(typeof p=="string")try{var f=JSON.parse(p);return!!(te()(f)==="object"&&f)}catch(o){return!1}}},51904:function(qe,re,a){a.d(re,{Z:function(){return v}});var ne=a(97937),_=a(94184),Pe=a.n(_),s=a(62435),ue=a(98787),te=a(45353),ge=a(53124);function U(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var Ee=a(14747),w=a(98719),F=a(67968),be=a(45503);const I=(e,A,r)=>{const i=U(r);return{[`${e.componentCls}-${A}`]:{color:e[`color${r}`],background:e[`color${i}Bg`],borderColor:e[`color${i}Border`]}}},ce=e=>(0,w.Z)(e,(A,r)=>{let{textColor:i,lightBorderColor:b,lightColor:B,darkColor:O}=r;return{[`${e.componentCls}-${A}`]:{color:i,background:B,borderColor:b,"&-inverse":{color:e.colorTextLightSolid,background:O,borderColor:O},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),de=e=>{const{paddingXXS:A,lineWidth:r,tagPaddingHorizontal:i,componentCls:b}=e,B=i-r,O=A-r;return{[b]:Object.assign(Object.assign({},(0,Ee.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:B,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${b}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${b}-close-icon`]:{marginInlineStart:O,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${b}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${b}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:B}}),[`${b}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var N=(0,F.Z)("Tag",e=>{const{fontSize:A,lineHeight:r,lineWidth:i,fontSizeIcon:b}=e,B=Math.round(A*r),O=e.fontSizeSM,p=B-i*2,f=e.colorFillQuaternary,o=e.colorText,t=(0,be.TS)(e,{tagFontSize:O,tagLineHeight:p,tagDefaultBg:f,tagDefaultColor:o,tagIconSize:b-2*i,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[de(t),ce(t),I(t,"success","Success"),I(t,"processing","Info"),I(t,"error","Error"),I(t,"warning","Warning")]}),ye=function(e,A){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&A.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,i=Object.getOwnPropertySymbols(e);b<i.length;b++)A.indexOf(i[b])<0&&Object.prototype.propertyIsEnumerable.call(e,i[b])&&(r[i[b]]=e[i[b]]);return r},Oe=e=>{const{prefixCls:A,className:r,checked:i,onChange:b,onClick:B}=e,O=ye(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:p}=s.useContext(ge.E_),f=d=>{b==null||b(!i),B==null||B(d)},o=p("tag",A),[t,n]=N(o),h=Pe()(o,{[`${o}-checkable`]:!0,[`${o}-checkable-checked`]:i},r,n);return t(s.createElement("span",Object.assign({},O,{className:h,onClick:f})))},Ae=function(e,A){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&A.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var b=0,i=Object.getOwnPropertySymbols(e);b<i.length;b++)A.indexOf(i[b])<0&&Object.prototype.propertyIsEnumerable.call(e,i[b])&&(r[i[b]]=e[i[b]]);return r};const Q=(e,A)=>{const{prefixCls:r,className:i,rootClassName:b,style:B,children:O,icon:p,color:f,onClose:o,closeIcon:t,closable:n=!1,bordered:h=!0}=e,d=Ae(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:H,direction:$}=s.useContext(ge.E_),[_e,ea]=s.useState(!0);s.useEffect(()=>{"visible"in d&&ea(d.visible)},[d.visible]);const We=(0,ue.o2)(f)||(0,ue.yT)(f),aa=Object.assign({backgroundColor:f&&!We?f:void 0},B),X=H("tag",r),[Oa,$a]=N(X),ra=Pe()(X,{[`${X}-${f}`]:We,[`${X}-has-color`]:f&&!We,[`${X}-hidden`]:!_e,[`${X}-rtl`]:$==="rtl",[`${X}-borderless`]:!h},i,b,$a),k=ve=>{ve.stopPropagation(),o==null||o(ve),!ve.defaultPrevented&&ea(!1)},Te=s.useMemo(()=>n?t?s.createElement("span",{className:`${X}-close-icon`,onClick:k},t):s.createElement(ne.Z,{className:`${X}-close-icon`,onClick:k}):null,[n,t,X,k]),R=typeof d.onClick=="function"||O&&O.type==="a",Ce=p||null,ee=Ce?s.createElement(s.Fragment,null,Ce,s.createElement("span",null,O)):O,je=s.createElement("span",Object.assign({},d,{ref:A,className:ra,style:aa}),ee,Te);return Oa(R?s.createElement(te.Z,null,je):je)},pe=s.forwardRef(Q);pe.CheckableTag=Oe;var v=pe}}]);
