"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4339],{5966:function(wa,Ee,r){var we=r(1413),Q=r(91),ra=r(62435),x=r(32505),je=r(86074),Ce=["fieldProps","proFieldProps"],te=["fieldProps","proFieldProps"],E="text",We=function(X){var R=X.fieldProps,w=X.proFieldProps,Ie=(0,Q.Z)(X,Ce);return(0,je.jsx)(x.Z,(0,we.Z)({valueType:E,fieldProps:R,filedConfig:{valueType:E},proFieldProps:w},Ie))},k=function(X){var R=X.fieldProps,w=X.proFieldProps,Ie=(0,Q.Z)(X,te);return(0,je.jsx)(x.Z,(0,we.Z)({valueType:"password",fieldProps:R,proFieldProps:w,filedConfig:{valueType:E}},Ie))},ee=We;ee.Password=k,ee.displayName="ProFormComponent",Ee.Z=ee},77755:function(wa,Ee,r){r.r(Ee),r.d(Ee,{default:function(){return fr}});var we=r(42122),Q=r.n(we),ra=r(17061),x=r.n(ra),je=r(861),Ce=r.n(je),te=r(17156),E=r.n(te),We=r(27424),k=r.n(We),ee=r(31120),Ve=r(27484),X=r.n(Ve),R=r(25734),w=r(64119),Ie=r(78565),Be=r(38345),ga=r(49665),U=r(27790),N=r(71577),$=r(75081),f=r(69677),e=r(62435),d=r(2593),A=r(35553),g=r(32046),ba=r(8198),Ga=r(16441),ja=r(64146),Ia=r(19485),De=r(28493),ae=r(65735),Ma=r(45962),G=r(54442),Ja=r(99351),na=r(5966),Xa=r(97462),Ya=r(26713),Qa=r(97937),qa=r(94184),ka=r.n(qa),Ta=r(98787),_a=r(45353),Na=r(53124);function er(a){return typeof a!="string"?a:a.charAt(0).toUpperCase()+a.slice(1)}var ar=r(14747),rr=r(98719),nr=r(67968),tr=r(45503);const ta=(a,i,C)=>{const n=er(C);return{[`${a.componentCls}-${i}`]:{color:a[`color${C}`],background:a[`color${n}Bg`],borderColor:a[`color${n}Border`]}}},lr=a=>(0,rr.Z)(a,(i,C)=>{let{textColor:n,lightBorderColor:u,lightColor:j,darkColor:V}=C;return{[`${a.componentCls}-${i}`]:{color:n,background:j,borderColor:u,"&-inverse":{color:a.colorTextLightSolid,background:V,borderColor:V},[`&${a.componentCls}-borderless`]:{borderColor:"transparent"}}}}),sr=a=>{const{paddingXXS:i,lineWidth:C,tagPaddingHorizontal:n,componentCls:u}=a,j=n-C,V=i-C;return{[u]:Object.assign(Object.assign({},(0,ar.Wf)(a)),{display:"inline-block",height:"auto",marginInlineEnd:a.marginXS,paddingInline:j,fontSize:a.tagFontSize,lineHeight:`${a.tagLineHeight}px`,whiteSpace:"nowrap",background:a.tagDefaultBg,border:`${a.lineWidth}px ${a.lineType} ${a.colorBorder}`,borderRadius:a.borderRadiusSM,opacity:1,transition:`all ${a.motionDurationMid}`,textAlign:"start",[`&${u}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:a.tagDefaultColor},[`${u}-close-icon`]:{marginInlineStart:V,color:a.colorTextDescription,fontSize:a.tagIconSize,cursor:"pointer",transition:`all ${a.motionDurationMid}`,"&:hover":{color:a.colorTextHeading}},[`&${u}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${a.iconCls}-close, ${a.iconCls}-close:hover`]:{color:a.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${u}-checkable-checked):hover`]:{color:a.colorPrimary,backgroundColor:a.colorFillSecondary},"&:active, &-checked":{color:a.colorTextLightSolid},"&-checked":{backgroundColor:a.colorPrimary,"&:hover":{backgroundColor:a.colorPrimaryHover}},"&:active":{backgroundColor:a.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${a.iconCls} + span, > span + ${a.iconCls}`]:{marginInlineStart:j}}),[`${u}-borderless`]:{borderColor:"transparent",background:a.tagBorderlessBg}}};var La=(0,nr.Z)("Tag",a=>{const{fontSize:i,lineHeight:C,lineWidth:n,fontSizeIcon:u}=a,j=Math.round(i*C),V=a.fontSizeSM,re=j-n*2,Z=a.colorFillQuaternary,H=a.colorText,t=(0,tr.TS)(a,{tagFontSize:V,tagLineHeight:re,tagDefaultBg:Z,tagDefaultColor:H,tagIconSize:u-2*n,tagPaddingHorizontal:8,tagBorderlessBg:a.colorFillTertiary});return[sr(t),lr(t),ta(t,"success","Success"),ta(t,"processing","Info"),ta(t,"error","Error"),ta(t,"warning","Warning")]}),or=function(a,i){var C={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(C[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,n=Object.getOwnPropertySymbols(a);u<n.length;u++)i.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(a,n[u])&&(C[n[u]]=a[n[u]]);return C},ir=a=>{const{prefixCls:i,className:C,checked:n,onChange:u,onClick:j}=a,V=or(a,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:re}=e.useContext(Na.E_),Z=q=>{u==null||u(!n),j==null||j(q)},H=re("tag",i),[t,fe]=La(H),me=ka()(H,{[`${H}-checkable`]:!0,[`${H}-checkable-checked`]:n},C,fe);return t(e.createElement("span",Object.assign({},V,{className:me,onClick:Z})))},ur=function(a,i){var C={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&i.indexOf(n)<0&&(C[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,n=Object.getOwnPropertySymbols(a);u<n.length;u++)i.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(a,n[u])&&(C[n[u]]=a[n[u]]);return C};const cr=(a,i)=>{const{prefixCls:C,className:n,rootClassName:u,style:j,children:V,icon:re,color:Z,onClose:H,closeIcon:t,closable:fe=!1,bordered:me=!0}=a,q=ur(a,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:he,direction:Ze}=e.useContext(Na.E_),[Me,xe]=e.useState(!0);e.useEffect(()=>{"visible"in q&&xe(q.visible)},[q.visible]);const ge=(0,Ta.o2)(Z)||(0,Ta.yT)(Z),ke=Object.assign({backgroundColor:Z&&!ge?Z:void 0},j),z=he("tag",C),[Se,L]=La(z),He=ka()(z,{[`${z}-${Z}`]:ge,[`${z}-has-color`]:Z&&!ge,[`${z}-hidden`]:!Me,[`${z}-rtl`]:Ze==="rtl",[`${z}-borderless`]:!me},n,u,L),be=ce=>{ce.stopPropagation(),H==null||H(ce),!ce.defaultPrevented&&xe(!1)},ze=e.useMemo(()=>fe?t?e.createElement("span",{className:`${z}-close-icon`,onClick:be},t):e.createElement(Qa.Z,{className:`${z}-close-icon`,onClick:be}):null,[fe,t,z,be]),Te=typeof q.onClick=="function"||V&&V.type==="a",le=re||null,Ke=le?e.createElement(e.Fragment,null,le,e.createElement("span",null,V)):V,Pe=e.createElement("span",Object.assign({},q,{ref:i,className:He,style:ke}),Ke,ze);return Se(Te?e.createElement(_a.Z,null,Pe):Pe)},Fa=e.forwardRef(cr);Fa.CheckableTag=ir;var ya=Fa,p=r(86074),Ra="115792089237316195423570985008687907853269984665640564039457584007913129639935",dr=e.forwardRef(function(a,i){var C=a.handleGetApproval,n=(0,e.useRef)(),u=(0,e.useState)(!1),j=k()(u,2),V=j[0],re=j[1],Z=(0,e.useState)({key:"",txHash:"",lastUpdated:0,asset:"",owner:"",spender:"",allowance:"",symbol:"",contract:"",decimals:0,balanceOf:"",type:""}),H=k()(Z,2),t=H[0],fe=H[1],me=(0,e.useState)("0"),q=k()(me,2),he=q[0],Ze=q[1],Me=(0,De.yL)(),xe=U.ZP.useMessage(),ge=k()(xe,2),ke=ge[0],z=ge[1],Se=(0,Ma.uX)(),L=(0,G.useIntl)(),He=L.formatMessage({id:"approval.unlimited"}),be=L.formatMessage({id:"approval.fail"}),ze=L.formatMessage({id:"approval.success"}),Te=L.formatMessage({id:"approval.txSuccess"}),le=L.formatMessage({id:"approval.asset"}),Ke=L.formatMessage({id:"approval.allowance"}),Pe=L.formatMessage({id:"approval.spender"}),ce=L.formatMessage({id:"approval.approve"}),de=L.formatMessage({id:"approval.pleaseInputAllowanceValue"}),Ge=L.formatMessage({id:"approval.inputException"}),Aa=L.formatMessage({id:"approval.maxTag"}),la=L.formatMessage({id:"approval.unlimitedTag"}),sa=L.formatMessage({id:"approval.revokeTag"}),oa=L.formatMessage({id:"approval.inputValue"}),Ca=L.formatMessage({id:"approval.approveOperate"}),S=(0,e.useCallback)(function(){var m=E()(x()().mark(function F(T){var B,P;return x()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return B=new ja.CH(T.contract,ae.em,Me),se.next=3,(0,w.IU)(B.balanceOf(T.owner));case 3:P=se.sent,P=P.toString(),Ze(P);case 6:case"end":return se.stop()}},F)}));return function(F){return m.apply(this,arguments)}}(),[]),Je=(0,e.useCallback)(function(m){S(m),fe(m),re(!0)},[S]);(0,e.useImperativeHandle)(i,function(){return{handleOpenApproveModalForm:Je}});var I=(0,e.useCallback)(function(m,F,T){var B=/^\d+$|^0x[a-fA-F0-9]+$/g;if(B.test(m)){var P=d.O$.from(m);return P.eq(d.O$.from(Ra))?P="".concat(He):(P=A.formatUnits(m,F),P==="0.0"&&(P="0")),P+" "+T}else return"undefined"},[]),xa=(0,e.useCallback)(function(m,F){var T=F.substring(0,8),B=F.substring(36);return m+" ("+T+"-"+B+")"},[]),Xe=(0,e.useCallback)(function(){var m;(m=n.current)===null||m===void 0||m.setFieldValue("inputValue","0")},[]),Sa=(0,e.useCallback)(function(){var m;(m=n.current)===null||m===void 0||m.setFieldValue("inputValue",he)},[he]),Pa=(0,e.useCallback)(function(){var m;(m=n.current)===null||m===void 0||m.setFieldValue("inputValue",Ra)},[]),$a=(0,e.useCallback)(function(){var m=E()(x()().mark(function F(T){var B,P,Ye,se,ia,ua,Ne,ca,Qe,Le;return x()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return B=null,P=null,Ye=T.spender,se=T.inputValue,K.next=4,(0,w.IU)((0,ae.$q)({address:t.contract,abi:ae.em,functionName:"approve",args:[Ye,d.O$.from(se)]}));case 4:return ia=K.sent,K.next=7,(0,w.IU)((0,ae.n9)(ia));case 7:return ua=K.sent,Ne=ua.hash,K.next=11,(0,w.zI)((0,ae.Mn)({hash:Ne}));case 11:if(ca=K.sent,Qe=k()(ca,2),B=Qe[0],P=Qe[1],!B){K.next=20;break}ke.open({type:"error",content:B,duration:5}),Se({hash:Ne,description:"".concat(ce," ").concat(t==null?void 0:t.symbol," ").concat(be)}),K.next=26;break;case 20:return Le=P.logs[0].data,Le=I(Le,t==null?void 0:t.decimals,t==null?void 0:t.symbol),ke.open({type:"success",content:"".concat(Te)}),Se({hash:Ne,description:"".concat(ce," ").concat(Le," ").concat(ze)}),C(P.blockNumber),K.abrupt("return",!0);case 26:case"end":return K.stop()}},F)}));return function(F){return m.apply(this,arguments)}}(),[t,I,C,Se]);return(0,p.jsxs)(Ja.Y,{formRef:n,title:Ca,open:V,onFinish:function(){var m=E()(x()().mark(function F(T){return x()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",$a(T));case 1:case"end":return P.stop()}},F)}));return function(F){return m.apply(this,arguments)}}(),onOpenChange:function(F){var T;re(F),(T=n.current)===null||T===void 0||T.setFieldValue("inputValue","")},layout:"horizontal",width:"480px",children:[(0,p.jsx)(na.Z,{name:"spender",label:Pe,disabled:!0,initialValue:t==null?void 0:t.spender}),(0,p.jsx)(na.Z,{name:"asset",label:le,disabled:!0,initialValue:xa(t==null?void 0:t.asset,t==null?void 0:t.contract)}),(0,p.jsx)(Xa.Z,{name:["inputValue"],children:function(F){var T=F.inputValue,B=I(t==null?void 0:t.allowance,t==null?void 0:t.decimals,t==null?void 0:t.symbol),P=I(T,t==null?void 0:t.decimals,t==null?void 0:t.symbol);return(0,p.jsx)(na.Z,{name:"allowance",label:Ke,disabled:!0,initialValue:B,fieldProps:{value:T?P:B}})}}),(0,p.jsx)(na.Z,{name:"inputValue",label:oa,placeholder:de,rules:[{required:!0,message:"".concat(Ge),whitespace:!0,pattern:/^\d+$/g}],fieldProps:{maxLength:78,minLength:1,showCount:!0}}),(0,p.jsxs)(Ya.Z,{children:[(0,p.jsx)(ya,{color:"processing",className:"hover:cursor-pointer",onClick:Xe,children:sa}),(0,p.jsx)(ya,{color:"processing",className:"hover:cursor-pointer",onClick:Sa,children:Aa}),(0,p.jsx)(ya,{color:"processing",className:"hover:cursor-pointer",onClick:Pa,children:la})]}),z]})}),pr=(0,e.memo)(dr),Ua="115792089237316195423570985008687907853269984665640564039457584007913129639935",vr=function(){var i=(0,G.useDispatch)(),C=(0,G.useSelector)(function(s){return s.approval.dataSource}),n=(0,G.useSelector)(function(s){return s.approval.buttonLoading}),u=(0,G.useSelector)(function(s){return s.approval.searchValue}),j=(0,G.useSelector)(function(s){return s.approval.inputValue}),V=(0,G.useSelector)(function(s){return s.approval.inputSearchStatus}),re=(0,G.useSelector)(function(s){return s.approval.coinList}),Z=(0,G.useSelector)(function(s){return s.approval.contractList}),H=(0,G.useSelector)(function(s){return s.approval.tokenList}),t=(0,e.useRef)(),fe=(0,e.useState)(!1),me=k()(fe,2),q=me[0],he=me[1],Ze=(0,e.useState)("erc20"),Me=k()(Ze,2),xe=Me[0],ge=Me[1],ke=(0,e.useState)({type:"erc20"}),z=k()(ke,2),Se=z[0],L=z[1],He=(0,e.useRef)(null),be=(0,e.useRef)(),ze=U.ZP.useMessage(),Te=k()(ze,2),le=Te[0],Ke=Te[1],Pe=(0,Ma.uX)(),ce=(0,De.mA)(),de=ce.address,Ge=ce.isDisconnected,Aa=(0,e.useState)(!0),la=k()(Aa,2),sa=la[0],oa=la[1],Ca=(0,De.LN)(),S=Ca.chain,Je=(0,De.yL)(),I=(0,G.useIntl)(),xa=I.formatMessage({id:"approval.unlimited"}),Xe=I.formatMessage({id:"approval.revoke"}),Sa=I.formatMessage({id:"approval.fail"}),Pa=I.formatMessage({id:"approval.success"}),$a=I.formatMessage({id:"approval.txSuccess"}),m=I.formatMessage({id:"approval.token"}),F=I.formatMessage({id:"approval.asset"}),T=I.formatMessage({id:"approval.allowance"}),B=I.formatMessage({id:"approval.action"}),P=I.formatMessage({id:"approval.spender"}),Ye=I.formatMessage({id:"approval.txHash"}),se=I.formatMessage({id:"approval.lastUpdated"}),ia=I.formatMessage({id:"approval.approve"}),ua=I.formatMessage({id:"approval.addressVerificationError"}),Ne=I.formatMessage({id:"approval.addressCanNotBeEmpty"}),ca=I.formatMessage({id:"approval.yourAddress"}),Qe=I.formatMessage({id:"approval.pleaseInputAddress"}),Le=(0,De.Ov)({watch:!0}),Oa=Le.data,K=(0,e.useCallback)(function(s,v,O){var b=/^\d+$|^0x[a-fA-F0-9]+$/g;if(b.test(s)){var c=d.O$.from(s);return c.eq(d.O$.from(Ua))?c="".concat(xa):(c=A.formatUnits(s,v),c==="0.0"&&(c="0")),c+" "+O}else return"undefined"},[]),qe=(0,e.useCallback)(function(){var s=E()(x()().mark(function v(O){var b,c,o,l,h,M,y,ne,oe,ie,D,_e,Da,Ea,pe,Za,ye;return x()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(b=[],c=[],o=[],l={},h=function(W,ue){for(var Y=0;Y<W.length;Y++)if(W[Y].key===ue)return W[Y];return!1},M=function(W,ue){var Y=[];return W.forEach(function($e){ue.some(function(ve){return ve.key===$e.key})||Y.push($e)}),Y.push.apply(Y,Ce()(ue)),Y.sort(function($e,ve){return ve.lastUpdated-$e.lastUpdated}),Y},!(j&&S)){_.next=38;break}return he(!0),y=g.id(j+S.id).substring(0,8),_.next=11,ee.db.approval.where({key:y}).toArray();case 11:if(ne=_.sent,c=ne.length?ne[0].data.sort(function(Ae,W){return W.lastUpdated-Ae.lastUpdated}):[],oe=c.length?c[0].lastUpdated+1:"earliest",ie=function(){return he(!1)},D=j,_e=new ba.vU(ae.em),Da={address:void 0,fromBlock:oe,toBlock:O||Oa,topics:[_e.getEventTopic("Approval"),Ga.hexZeroPad(D,32)]},Ea=[],pe=[],!sa){_.next=24;break}return _.next=23,(0,w.Hj)(Je.getLogs(Da),ie);case 23:pe=_.sent;case 24:pe.reverse(),Za=x()().mark(function Ae(){var W,ue,Y,$e,ve,Oe,pa,va,fa,ma,ha,ea,Ha,Fe,aa,za,Re,Ka,Ue;return x()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(W=_e.decodeEventLog("Approval",pe[ye].data,pe[ye].topics),ue=pe[ye].address,Y=pe[ye].transactionHash,$e=pe[ye].blockNumber,ve=g.id(ue+W.spender),Ea.includes(ve)){J.next=44;break}if(Ea.push(ve),Oe=new ja.CH(ue,ae.em,Je),ea=h(c,ve),!ea){J.next=21;break}return J.next=12,(0,w.Hj)(Promise.all([ea.asset,ea.symbol,ea.decimals,Oe.allowance(W.owner,W.spender),"0"]),ie);case 12:Ha=J.sent,Fe=k()(Ha,5),pa=Fe[0],va=Fe[1],fa=Fe[2],ma=Fe[3],ha=Fe[4],J.next=43;break;case 21:if(aa=re.filter(function(yr){return yr.contract===ue.toLowerCase()}),!aa.length){J.next=34;break}return J.next=25,(0,w.Hj)(Promise.all([aa[0].name,aa[0].symbol,aa[0].decimals,Oe.allowance(W.owner,W.spender),"0"]),ie);case 25:za=J.sent,Re=k()(za,5),pa=Re[0],va=Re[1],fa=Re[2],ma=Re[3],ha=Re[4],J.next=43;break;case 34:return J.next=36,(0,w.Hj)(Promise.all([Oe.name(),Oe.symbol(),Oe.decimals(),Oe.allowance(W.owner,W.spender),"0"]),ie);case 36:Ka=J.sent,Ue=k()(Ka,5),pa=Ue[0],va=Ue[1],fa=Ue[2],ma=Ue[3],ha=Ue[4];case 43:o.push({key:ve,txHash:Y,lastUpdated:$e,asset:pa,owner:W.owner,spender:W.spender,allowance:ma.toString(),symbol:va,contract:ue,decimals:fa,type:"erc20",balanceOf:ha.toString()});case 44:case"end":return J.stop()}},Ae)}),ye=0;case 27:if(!(ye<pe.length)){_.next=32;break}return _.delegateYield(Za(),"t0",29);case 29:ye++,_.next=27;break;case 32:b=M(c,o),b.forEach(function(Ae){return l[Ae.key]=!1}),ee.db.approval.put({key:y,chainId:S.id,address:j,data:b}),i(R.N.setDataSource(b)),i(R.N.setButtonLoading(l)),he(!1);case 38:case"end":return _.stop()}},v)}));return function(v){return s.apply(this,arguments)}}(),[S,j,Je,i,Oa,ee.db,re,H,sa]),Wa=(0,e.useCallback)(function(){var s=E()(x()().mark(function v(O){var b,c,o,l,h,M,y,ne,oe;return x()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return b=null,c=null,o=O.spender,l=O.contract,h=O.symbol,D.next=4,(0,w.IU)((0,ae.$q)({address:l,abi:ae.em,functionName:"approve",args:[o,d.O$.from(0)]}));case 4:return M=D.sent,D.next=7,(0,w.IU)((0,ae.n9)(M));case 7:return y=D.sent,n[O.key]=!0,i(R.N.setButtonLoading(Q()({},n))),D.next=12,(0,w.zI)((0,ae.Mn)({hash:y.hash}));case 12:ne=D.sent,oe=k()(ne,2),b=oe[0],c=oe[1],b?(le.open({type:"error",content:b,duration:5}),Pe({hash:y.hash,description:"".concat(Xe," ").concat(h," ").concat(Sa)})):(le.open({type:"success",content:"".concat($a)}),Pe({hash:y.hash,description:"".concat(Xe," ").concat(h," ").concat(Pa)}),qe(c.blockNumber)),n[O.key]=!1,i(R.N.setButtonLoading(Q()({},n)));case 19:case"end":return D.stop()}},v)}));return function(v){return s.apply(this,arguments)}}(),[n,i,qe]),mr=(0,e.useMemo)(function(){var s,v,O=S==null||(s=S.blockExplorers)===null||s===void 0?void 0:s.default.url,b=(v=S==null?void 0:S.genesisTime)!==null&&v!==void 0?v:0;return{erc20:[{title:"".concat(m),dataIndex:"contract",key:"contract",hideInTable:!0,render:function(o,l){var h,M,y=o==null?void 0:o.toString();return y=((h=y)===null||h===void 0?void 0:h.substring(0,5))+"-"+((M=y)===null||M===void 0?void 0:M.substring(37)),(0,p.jsx)("a",{target:"blank",href:O+"/token/"+l.contract+"/token-holders",children:y})}},{title:"".concat(F),dataIndex:"asset",key:"asset",sorter:function(o,l){return o.asset.localeCompare(l.asset)},render:function(o,l){var h=l.contract.substring(0,6);return(0,p.jsxs)("a",{target:"blank",href:O+"/token/"+l.contract+"/token-holders",children:[(0,p.jsxs)("div",{children:[h,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}),l.asset]})}},{title:"".concat(T),dataIndex:"allowance",key:"allowance",sorter:function(o,l){var h=d.O$.from(o.allowance),M=d.O$.from(l.allowance);return h.gt(M)?1:h.lt(M)?-1:0},render:function(o,l){return l.allowance===Ua?(0,p.jsxs)("span",{style:{color:"red"},children:[K(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}):(0,p.jsxs)("span",{children:[K(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(B),key:"action",fixed:"right",render:function(o,l){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(N.ZP,{type:"primary",ghost:!0,size:"small",disabled:de!==u,onClick:function(){return Wa(l)},hidden:n[l.key],children:Xe}),(0,p.jsx)($.Z,{className:" ml-[7px]",size:"small",spinning:n[l.key]})]}),(0,p.jsx)("div",{className:"mt-1",children:(0,p.jsx)(N.ZP,{type:"primary",ghost:!0,size:"small",disabled:de!==u,onClick:function(){return be.current.handleOpenApproveModalForm(l)},children:ia})})]})}},{title:"".concat(P),dataIndex:"spender",key:"spender",render:function(o,l){var h=Z.filter(function(_e){return _e.address===l.spender.toLowerCase()});if(h.length){var M,y,ne=o==null?void 0:o.toString();return ne=((M=ne)===null||M===void 0?void 0:M.substring(0,5))+"-"+((y=ne)===null||y===void 0?void 0:y.substring(37)),(0,p.jsxs)("a",{target:"blank",href:O+"/address/"+l.spender,children:[ne,(0,p.jsx)("br",{}),h[0].contractName,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}else{var oe,ie,D=o==null?void 0:o.toString();return D=((oe=D)===null||oe===void 0?void 0:oe.substring(0,5))+"-"+((ie=D)===null||ie===void 0?void 0:ie.substring(37)),(0,p.jsxs)("a",{target:"blank",href:O+"/address/"+l.spender,children:[D,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}},{title:"".concat(Ye),dataIndex:"txHash",key:"txHash",render:function(o,l){var h,M,y=o==null?void 0:o.toString();return y=((h=y)===null||h===void 0?void 0:h.substring(0,5))+"-"+((M=y)===null||M===void 0?void 0:M.substring(61)),(0,p.jsxs)("a",{target:"blank",href:O+"/tx/"+l.txHash,children:[y,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(se),dataIndex:"lastUpdated",key:"lastUpdated",valueType:"date",sorter:function(o,l){return o.lastUpdated-l.lastUpdated},render:function(o,l){return(0,p.jsxs)("span",{children:[X().unix(b+l.lastUpdated).format().substring(0,10),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}],erc721:[],erc1155:[]}},[Wa,n,de,u,S,Z]),da=(0,e.useCallback)(function(){var s=E()(x()().mark(function v(O){var b,c,o,l,h;return x()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return c=S==null||(b=S.blockExplorers)===null||b===void 0?void 0:b.default.url,y.next=3,(0,w.zI)((0,G.request)("".concat(c,"/api?module=account&action=eth_get_balance&address=").concat(O)));case 3:o=y.sent,l=k()(o,1),h=l[0],oa(!h);case 7:case"end":return y.stop()}},v)}));return function(v){return s.apply(this,arguments)}}(),[S]),hr=(0,e.useCallback)(function(){de&&(i(R.N.setInputValue(de)),i(R.N.setInputSearchStatus("")),da(de))},[de,i,da]),gr=(0,e.useCallback)(function(s){if(s.target){var v=s.target.value;Ia.isAddress(v)||v===""?(v!==""&&da(v),i(R.N.setInputSearchStatus(""))):i(R.N.setInputSearchStatus("error")),i(R.N.setInputValue(v))}},[i,da]),Va=(0,e.useCallback)(E()(x()().mark(function s(){var v,O,b,c;return x()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return O=S==null||(v=S.blockExplorers)===null||v===void 0?void 0:v.default.url,b=[],l.next=4,(0,w.IU)((0,G.request)("".concat(O,"/api?module=contract&action=listcontracts&offset=1000&filter=verified")));case 4:c=l.sent,c&&c.status==="1"&&(c.result.forEach(function(h){b.push({address:h.Address,contractName:h.ContractName})}),i(R.N.setContractList(b)),localStorage.setItem("contractList",JSON.stringify(b)));case 6:case"end":return l.stop()}},s)})),[S]),br=(0,e.useCallback)(function(s,v){s?Ia.isAddress(s)?(i(R.N.setSearchValue(s)),qe()):le.open({type:"error",content:"".concat(ua)}):v.hasOwnProperty("type")&&le.open({type:"error",content:"".concat(Ne)})},[le,qe,i,Va]),Ba=(0,e.useCallback)(E()(x()().mark(function s(){var v,O,b;return x()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,w.zI)((0,G.request)("https://api.noahark.pro/api/swap/getCoinList",{method:"POST"}));case 2:v=o.sent,O=k()(v,2),b=O[1],b&&b.code===0&&(i(R.N.setCoinList(b.data)),localStorage.setItem("coinList",JSON.stringify(b.data)));case 6:case"end":return o.stop()}},s)})),[]);return(0,e.useEffect)(function(){!Ge&&S&&!S.unsupported&&(Ba(),Va())},[Ba,Ge,S]),(0,p.jsxs)(Ie._z,{className:"approval",ghost:!0,extra:[(0,p.jsx)(N.ZP,{disabled:Ge,onClick:hr,children:ca},"1")],children:[(0,p.jsxs)(Be.Z,{className:"w-full mb-4",bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},children:[(0,p.jsx)(f.Z.Search,{ref:He,size:"large",maxLength:42,minLength:42,allowClear:!0,placeholder:Qe,className:"w-full",status:V,onChange:gr,onSearch:br,value:j}),Ke]}),(0,p.jsx)(ga.Z,{scroll:{x:!0},size:"small",columns:mr[xe],actionRef:t,dataSource:C,defaultData:[],params:Se,loading:q,toolbar:{multipleLine:!0,tabs:{activeKey:xe,onChange:function(v){ge(v),L({type:v})},items:[{key:"erc20",tab:"ERC-20"},{key:"erc721",tab:"ERC-721",disabled:!0},{key:"erc1155",tab:"ERC-1155",disabled:!0}]}},search:!1,options:!1,pagination:!1}),(0,p.jsx)(pr,{ref:be,handleGetApproval:qe})]})},fr=vr},64119:function(wa,Ee,r){r.d(Ee,{CE:function(){return We},Hj:function(){return R},IU:function(){return Ve},Mn:function(){return ga},zI:function(){return k}});var we=r(17061),Q=r.n(we),ra=r(18698),x=r.n(ra),je=r(17156),Ce=r.n(je),te=r(27790),E=5;function We(U,N){var $=N||"",f=U,e=Number(f)<1;if(typeof f=="number"&&(f=f.toString()),e){var d=/\d+\.0*\d{3}/,A=/0\.(0{4,})/,g=d.exec(f);if(f=g?g[0]:f,g=A.exec(f),g){var ba=g[1].length;return $+f.replace(A,"0.0{"+ba+"}")}return $+f}else return $+Number(f).toLocaleString()}function k(U){return ee.apply(this,arguments)}function ee(){return ee=Ce()(Q()().mark(function U(N){var $;return Q()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N;case 3:return $=e.sent,e.abrupt("return",[null,$]);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}return console.log(e.t0),e.abrupt("return",[e.t0.message,null]);case 14:if(console.log(e.t0),x()(e.t0)!=="object"){e.next=19;break}return e.abrupt("return",[JSON.stringify(e.t0),null]);case 19:return e.abrupt("return",[e.t0,null]);case 20:case"end":return e.stop()}},U,null,[[0,7]])})),ee.apply(this,arguments)}function Ve(U,N){return X.apply(this,arguments)}function X(){return X=Ce()(Q()().mark(function U(N,$){var f;return Q()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,N;case 3:return f=d.sent,d.abrupt("return",f);case 7:if(d.prev=7,d.t0=d.catch(0),!(d.t0 instanceof Error)){d.next=15;break}throw console.log(d.t0),te.ZP.error({content:$||d.t0.message,duration:E}),d.t0;case 15:throw console.log(d.t0),x()(d.t0)==="object"?te.ZP.error({content:$||JSON.stringify(d.t0),duration:E}):te.ZP.error({content:$||d.t0,duration:E}),d.t0;case 18:case"end":return d.stop()}},U,null,[[0,7]])})),X.apply(this,arguments)}function R(U,N,$){return w.apply(this,arguments)}function w(){return w=Ce()(Q()().mark(function U(N,$,f){var e,d;return Q()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return e=$!=null?$:function(){},g.prev=1,g.next=4,N;case 4:return d=g.sent,g.abrupt("return",d);case 8:if(g.prev=8,g.t0=g.catch(1),!(g.t0 instanceof Error)){g.next=17;break}throw console.log(g.t0),e(),te.ZP.error({content:f||g.t0.message,duration:E}),g.t0;case 17:throw console.log(g.t0),x()(g.t0)==="object"?te.ZP.error({content:f||JSON.stringify(g.t0),duration:E}):te.ZP.error({content:f||g.t0,duration:E}),e(),g.t0;case 21:case"end":return g.stop()}},U,null,[[1,8]])})),w.apply(this,arguments)}function Ie(U,N,$){return Be.apply(this,arguments)}function Be(){return Be=_asyncToGenerator(_regeneratorRuntime().mark(function U(N,$,f){var e;return _regeneratorRuntime().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,N;case 3:return e=A.sent,message.success({content:$||"Success"}),A.abrupt("return",e);case 8:if(A.prev=8,A.t0=A.catch(0),!(A.t0 instanceof Error)){A.next=16;break}throw console.log(A.t0),message.error({content:f||A.t0.message,duration:E}),A.t0;case 16:throw console.log(A.t0),_typeof(A.t0)==="object"?message.error({content:f||JSON.stringify(A.t0),duration:E}):message.error({content:f||A.t0,duration:E}),A.t0;case 19:case"end":return A.stop()}},U,null,[[0,8]])})),Be.apply(this,arguments)}function ga(){var U=navigator.userAgent,N=/mobile/i.test(U);return N}}}]);
