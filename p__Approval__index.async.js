"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4339],{5966:function(_e,re,e){var ne=e(1413),S=e(45987),be=e(62435),c=e(17689),te=e(86074),se=["fieldProps","proFieldProps"],pe=["fieldProps","proFieldProps"],X="text",je=function(w){var ye=w.fieldProps,Ce=w.proFieldProps,N=(0,S.Z)(w,se);return(0,te.jsx)(c.Z,(0,ne.Z)({valueType:X,fieldProps:ye,filedConfig:{valueType:X},proFieldProps:Ce},N))},M=function(w){var ye=w.fieldProps,Ce=w.proFieldProps,N=(0,S.Z)(w,pe);return(0,te.jsx)(c.Z,(0,ne.Z)({valueType:"password",fieldProps:ye,proFieldProps:Ce,filedConfig:{valueType:X}},N))},H=je;H.Password=M,H.displayName="ProFormComponent",re.Z=H},53238:function(_e,re,e){e.d(re,{Z:function(){return X}});var ne=e(62435),S=e(22181),be=e(54442),c=e(87659),te=e(86074),se=function(){var M=(0,be.useSelector)(function(H){return H.chainList.chainSelect});return(0,te.jsx)(c._z,{ghost:!0,children:(0,te.jsx)(S.ZP,{title:"The blockchain of ".concat(M.chainName," is not supported")})})},pe=(0,ne.memo)(se),X=pe},85971:function(_e,re,e){var ne=e(54442),S=(0,ne.getDvaApp)()._store;re.Z=S},30630:function(_e,re,e){e.r(re),e.d(re,{default:function(){return Ta}});var ne=e(17061),S=e.n(ne),be=e(17156),c=e.n(be),te=e(42122),se=e.n(te),pe=e(861),X=e.n(pe),je=e(27424),M=e.n(je),H=e(64119),Me=e(99351),w=e(5966),ye=e(97462),Ce=e(45962),N=e(54442),Ie=e(2453),Ke=e(26713),Re=e(51904),we=e(64146),le=e(2593),Se=e(61744),o=e(62435),a=e(28493),E=e(94818),r=e(86074),d="115792089237316195423570985008687907853269984665640564039457584007913129639935",C=o.forwardRef(function(ra,Y){var b=ra.handleGetApproval,U=(0,o.useRef)(),z=(0,o.useState)(!1),Pe=M()(z,2),oe=Pe[0],Ne=Pe[1],He=(0,o.useState)({key:"",txHash:"",lastUpdated:0,asset:"",owner:"",spender:"",allowance:"",symbol:"",contract:"",decimals:0,balanceOf:"",type:""}),Ee=M()(He,2),p=Ee[0],De=Ee[1],Ge=(0,o.useState)("0"),$=M()(Ge,2),T=$[0],g=$[1],Q=(0,a.yL)(),ve=Ie.ZP.useMessage(),x=M()(ve,2),ie=x[0],va=x[1],na=(0,Ce.uX)(),K=(0,N.useIntl)(),Na=K.formatMessage({id:"approval.unlimited"}),fa=K.formatMessage({id:"approval.fail"}),Ha=K.formatMessage({id:"approval.success"}),ma=K.formatMessage({id:"approval.txSuccess"}),Fe=K.formatMessage({id:"approval.asset"}),La=K.formatMessage({id:"approval.allowance"}),ha=K.formatMessage({id:"approval.spender"}),ta=K.formatMessage({id:"approval.approve"}),Oe=K.formatMessage({id:"approval.pleaseInputAllowanceValue"}),xa=K.formatMessage({id:"approval.inputException"}),Ra=K.formatMessage({id:"approval.maxTag"}),ga=K.formatMessage({id:"approval.unlimitedTag"}),ba=K.formatMessage({id:"approval.revokeTag"}),ya=K.formatMessage({id:"approval.inputValue"}),Ve=K.formatMessage({id:"approval.approveOperate"}),de=(0,o.useCallback)(function(){var k=c()(S()().mark(function O(D){var R,j;return S()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return R=new we.CH(D.contract,E.em,Q),fe.next=3,(0,H.IU)(R.balanceOf(D.owner));case 3:j=fe.sent,j=j.toString(),g(j);case 6:case"end":return fe.stop()}},O)}));return function(O){return k.apply(this,arguments)}}(),[Q]),F=(0,o.useCallback)(function(k){de(k),De(k),Ne(!0)},[de]);(0,o.useImperativeHandle)(Y,function(){return{handleOpenApproveModalForm:F}});var Je=(0,o.useCallback)(function(k,O,D){var R=/^\d+$|^0x[a-fA-F0-9]+$/;if(R.test(k)){var j=le.O$.from(k);return j.eq(le.O$.from(d))?j="".concat(Na):(j=Se.formatUnits(k,O),j==="0.0"&&(j="0")),j+" "+D}else return"undefined"},[]),sa=(0,o.useCallback)(function(k,O){var D=O.substring(0,8),R=O.substring(36);return k+" ("+D+"-"+R+")"},[]),Da=(0,o.useCallback)(function(){var k,O;(k=U.current)===null||k===void 0||k.setFieldValue("inputValue","0"),(O=U.current)===null||O===void 0||O.validateFields(["inputValue"])},[]),Fa=(0,o.useCallback)(function(){var k,O;(k=U.current)===null||k===void 0||k.setFieldValue("inputValue",T),(O=U.current)===null||O===void 0||O.validateFields(["inputValue"])},[T]),Va=(0,o.useCallback)(function(){var k,O;(k=U.current)===null||k===void 0||k.setFieldValue("inputValue",d),(O=U.current)===null||O===void 0||O.validateFields(["inputValue"])},[]),Ua=(0,o.useCallback)(function(){var k=c()(S()().mark(function O(D){var R,j,la,fe,Ca,Sa,Xe,Pa,oa,Ue;return S()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return R=null,j=null,la=D.spender,fe=D.inputValue,W.next=4,(0,H.IU)((0,E.$q)({address:p.contract,abi:E.em,functionName:"approve",args:[la,le.O$.from(fe)]}));case 4:return Ca=W.sent,W.next=7,(0,H.IU)((0,E.n9)(Ca));case 7:return Sa=W.sent,Xe=Sa.hash,W.next=11,(0,H.zI)((0,E.Mn)({hash:Xe}));case 11:if(Pa=W.sent,oa=M()(Pa,2),R=oa[0],j=oa[1],!R){W.next=20;break}ie.open({type:"error",content:R,duration:5}),na({hash:Xe,description:"".concat(ta," ").concat(p==null?void 0:p.symbol," ").concat(fa)}),W.next=26;break;case 20:return Ue=j.logs[0].data,Ue=Je(Ue,p==null?void 0:p.decimals,p==null?void 0:p.symbol),ie.open({type:"success",content:"".concat(ma)}),na({hash:Xe,description:"".concat(ta," ").concat(Ue," ").concat(Ha)}),b(j.blockNumber),W.abrupt("return",!0);case 26:case"end":return W.stop()}},O)}));return function(O){return k.apply(this,arguments)}}(),[p,Je,b,na]);return(0,r.jsxs)(Me.Y,{formRef:U,title:Ve,open:oe,onFinish:function(){var k=c()(S()().mark(function O(D){return S()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Ua(D));case 1:case"end":return j.stop()}},O)}));return function(O){return k.apply(this,arguments)}}(),onOpenChange:function(O){var D,R,j;Ne(O),(D=U.current)===null||D===void 0||D.setFieldValue("inputValue","0"),(R=U.current)===null||R===void 0||R.validateFields(["inputValue"]),(j=U.current)===null||j===void 0||j.setFieldValue("inputValue","")},layout:"horizontal",width:"480px",children:[(0,r.jsx)(w.Z,{name:"spender",label:ha,disabled:!0,initialValue:p==null?void 0:p.spender}),(0,r.jsx)(w.Z,{name:"asset",label:Fe,disabled:!0,initialValue:sa(p==null?void 0:p.asset,p==null?void 0:p.contract)}),(0,r.jsx)(ye.Z,{name:["inputValue"],children:function(O){var D=O.inputValue,R=Je(p==null?void 0:p.allowance,p==null?void 0:p.decimals,p==null?void 0:p.symbol),j=Je(D,p==null?void 0:p.decimals,p==null?void 0:p.symbol);return(0,r.jsx)(w.Z,{name:"allowance",label:La,disabled:!0,initialValue:R,fieldProps:{value:D?j:R}})}}),(0,r.jsx)(w.Z,{name:"inputValue",label:ya,placeholder:Oe,rules:[{required:!0,message:"".concat(xa),whitespace:!0,pattern:/^\d+$/}],fieldProps:{maxLength:78,minLength:1,showCount:!0}}),(0,r.jsxs)(Ke.Z,{children:[(0,r.jsx)(Re.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Da,children:ba}),(0,r.jsx)(Re.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Fa,children:Ra}),(0,r.jsx)(Re.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Va,children:ga})]}),va]})}),V=(0,o.memo)(C),A=e(25734),f=e(31120),m=e(87659),i=e(38345),t=e(95750),n=e(71577),h=e(75081),v=e(69677),Z=e(27484),I=e.n(Z),ca=e(32046),da=e(8198),ea=e(16441),pa=e(19485),_="115792089237316195423570985008687907853269984665640564039457584007913129639935",Ia=function(Y){var b=(0,N.useDispatch)(),U=(0,N.useSelector)(function(u){return u.approval.dataSource}),z=(0,N.useSelector)(function(u){return u.approval.buttonLoading}),Pe=(0,N.useSelector)(function(u){return u.approval.searchValue}),oe=(0,N.useSelector)(function(u){return u.approval.inputValue}),Ne=(0,N.useSelector)(function(u){return u.approval.inputSearchStatus}),He=(0,N.useSelector)(function(u){return u.approval.coinList}),Ee=(0,N.useSelector)(function(u){return u.approval.contractList}),p=(0,o.useRef)(),De=(0,o.useState)(!1),Ge=M()(De,2),$=Ge[0],T=Ge[1],g=(0,o.useState)("erc20"),Q=M()(g,2),ve=Q[0],x=Q[1],ie=(0,o.useState)({type:"erc20"}),va=M()(ie,2),na=va[0],K=va[1],Na=(0,o.useRef)(null),fa=(0,o.useRef)(),Ha=Ie.ZP.useMessage(),ma=M()(Ha,2),Fe=ma[0],La=ma[1],ha=(0,Ce.uX)(),ta=(0,a.mA)(),Oe=ta.address,xa=ta.isConnected,Ra=(0,o.useState)(!0),ga=M()(Ra,2),ba=ga[0],ya=ga[1],Ve=(0,N.useSelector)(function(u){return u.chainList.chainSelect}),de=(0,a.yL)(),F=(0,N.useIntl)(),Je=F.formatMessage({id:"approval.unlimited"}),sa=F.formatMessage({id:"approval.revoke"}),Da=F.formatMessage({id:"approval.fail"}),Fa=F.formatMessage({id:"approval.success"}),Va=F.formatMessage({id:"approval.txSuccess"}),Ua=F.formatMessage({id:"approval.token"}),k=F.formatMessage({id:"approval.asset"}),O=F.formatMessage({id:"approval.allowance"}),D=F.formatMessage({id:"approval.action"}),R=F.formatMessage({id:"approval.spender"}),j=F.formatMessage({id:"approval.txHash"}),la=F.formatMessage({id:"approval.lastUpdated"}),fe=F.formatMessage({id:"approval.approve"}),Ca=F.formatMessage({id:"approval.addressVerificationError"}),Sa=F.formatMessage({id:"approval.addressCanNotBeEmpty"}),Xe=F.formatMessage({id:"approval.yourAddress"}),Pa=F.formatMessage({id:"approval.pleaseInputAddress"}),oa=(0,a.Ov)({watch:!0}),Ue=oa.data,Wa=(0,o.useCallback)(function(u,s,l){var P=/^\d+$|^0x[a-fA-F0-9]+$/;if(P.test(u)){var y=le.O$.from(u);return y.eq(le.O$.from(_))?y="".concat(Je):(y=Se.formatUnits(u,s),y==="0.0"&&(y="0")),y+" "+l}else return"undefined"},[]),W=(0,o.useCallback)(function(){var u=c()(S()().mark(function s(l){var P,y,L,ue,G,$e,ee,Le,Ye,Qe,ce,Ba,Ka,Za,me,Ga,ke,Ja;return S()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(P=[],y=[],L=[],ue={},G=function(B,he){for(var ae=0;ae<B.length;ae++)if(B[ae].key===he)return B[ae];return!1},$e=function(B,he){var ae=[];return B.forEach(function(ge){he.some(function(Ae){return Ae.key===ge.key})||ae.push(ge)}),ae.push.apply(ae,X()(he)),ae.sort(function(ge,Ae){return Ae.lastUpdated-ge.lastUpdated}),ae},!(oe&&Ve)){q.next=41;break}return T(!0),ee=ca.id(oe+Ve.chainIdDec).substring(0,8),q.next=11,f.db.approval.where({key:ee}).toArray();case 11:if(Le=q.sent,y=Le.length?Le[0].data.sort(function(xe,B){return B.lastUpdated-xe.lastUpdated}):[],Ye=y.length?y[0].lastBlock+1:"earliest",Qe=function(){return T(!1)},ce=oe,Ba=new da.vU(E.em),Ka={address:void 0,fromBlock:Ye,toBlock:l||Ue,topics:[Ba.getEventTopic("Approval"),ea.hexZeroPad(ce,32)]},Za=[],me=[],!ba){q.next=24;break}return q.next=23,(0,H.Hj)(de.getLogs(Ka),Qe);case 23:me=q.sent;case 24:me.reverse(),Ga=S()().mark(function xe(){var B,he,ae,ge,Ae,We,Oa,$a,ka,Aa,ja,Ma,qe,ia,Xa,Be,ua,Ya,Ze,Qa,ze;return S()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(me[ke].topics.length!==4){J.next=2;break}return J.abrupt("return","continue");case 2:if(B=Ba.decodeEventLog("Approval",me[ke].data,me[ke].topics),he=me[ke].address,ae=me[ke].transactionHash,ge=me[ke].blockNumber,Ae=ca.id(he+B.spender),Za.includes(Ae)){J.next=52;break}if(Za.push(Ae),We=new we.CH(he,E.em,de),ia=G(y,Ae),!ia){J.next=25;break}return J.next=14,(0,H.Hj)(Promise.all([ia.asset,ia.symbol,ia.decimals,We.allowance(B.owner,B.spender),"0",de.getBlock(ge)]),Qe);case 14:Xa=J.sent,Be=M()(Xa,6),Oa=Be[0],$a=Be[1],ka=Be[2],Aa=Be[3],ja=Be[4],qe=Be[5],Ma=qe.timestamp,J.next=51;break;case 25:if(ua=He.filter(function(rr){return rr.contract===he.toLowerCase()}),!ua.length){J.next=40;break}return J.next=29,(0,H.Hj)(Promise.all([ua[0].name,ua[0].symbol,ua[0].decimals,We.allowance(B.owner,B.spender),"0",de.getBlock(ge)]),Qe);case 29:Ya=J.sent,Ze=M()(Ya,6),Oa=Ze[0],$a=Ze[1],ka=Ze[2],Aa=Ze[3],ja=Ze[4],qe=Ze[5],Ma=qe.timestamp,J.next=51;break;case 40:return J.next=42,(0,H.Hj)(Promise.all([We.name(),We.symbol(),We.decimals(),We.allowance(B.owner,B.spender),"0",de.getBlock(ge)]),Qe);case 42:Qa=J.sent,ze=M()(Qa,6),Oa=ze[0],$a=ze[1],ka=ze[2],Aa=ze[3],ja=ze[4],qe=ze[5],Ma=qe.timestamp;case 51:L.push({key:Ae,txHash:ae,lastUpdated:Ma,lastBlock:ge,asset:Oa,owner:B.owner,spender:B.spender,allowance:Aa.toString(),symbol:$a,contract:he,decimals:ka,type:"erc20",balanceOf:ja.toString()});case 52:case"end":return J.stop()}},xe)}),ke=0;case 27:if(!(ke<me.length)){q.next=35;break}return q.delegateYield(Ga(),"t0",29);case 29:if(Ja=q.t0,Ja!=="continue"){q.next=32;break}return q.abrupt("continue",32);case 32:ke++,q.next=27;break;case 35:P=$e(y,L),P.forEach(function(xe){return ue[xe.key]=!1}),f.db.approval.put({key:ee,chainId:Number(Ve.chainId),address:oe,data:P}),b(A.N.setDataSource(P)),b(A.N.setButtonLoading(ue)),T(!1);case 41:case"end":return q.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),[Ve,oe,de,b,Ue,f.db,He,ba]),za=(0,o.useCallback)(function(){var u=c()(S()().mark(function s(l){var P,y,L,ue,G,$e,ee,Le,Ye;return S()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return P=null,y=null,L=l.spender,ue=l.contract,G=l.symbol,ce.next=4,(0,H.IU)((0,E.$q)({address:ue,abi:E.em,functionName:"approve",args:[L,le.O$.from(0)]}));case 4:return $e=ce.sent,ce.next=7,(0,H.IU)((0,E.n9)($e));case 7:return ee=ce.sent,z[l.key]=!0,b(A.N.setButtonLoading(se()({},z))),ce.next=12,(0,H.zI)((0,E.Mn)({hash:ee.hash}));case 12:Le=ce.sent,Ye=M()(Le,2),P=Ye[0],y=Ye[1],P?(Fe.open({type:"error",content:P,duration:5}),ha({hash:ee.hash,description:"".concat(sa," ").concat(G," ").concat(Da)})):(Fe.open({type:"success",content:"".concat(Va)}),ha({hash:ee.hash,description:"".concat(sa," ").concat(G," ").concat(Fa)}),W(y.blockNumber)),z[l.key]=!1,b(A.N.setButtonLoading(se()({},z)));case 19:case"end":return ce.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),[z,b,W]),qa=(0,o.useMemo)(function(){return{erc20:[{title:"".concat(Ua),dataIndex:"contract",key:"contract",hideInTable:!0,render:function(s,l){var P,y,L=s==null?void 0:s.toString();return L=((P=L)===null||P===void 0?void 0:P.substring(0,5))+"-"+((y=L)===null||y===void 0?void 0:y.substring(37)),(0,r.jsx)("a",{target:"blank",href:Y.href.tokenHoldersHref(l.contract),children:L})}},{title:"".concat(k),dataIndex:"asset",key:"asset",sorter:function(s,l){return s.asset.localeCompare(l.asset)},render:function(s,l){var P=l.contract.substring(0,6);return(0,r.jsxs)("a",{target:"blank",href:Y.href.tokenHoldersHref(l.contract),children:[(0,r.jsx)("div",{children:P}),l.asset]})}},{title:"".concat(O),dataIndex:"allowance",key:"allowance",sorter:function(s,l){var P=le.O$.from(s.allowance),y=le.O$.from(l.allowance);return P.gt(y)?1:P.lt(y)?-1:0},render:function(s,l){return l.allowance===_?(0,r.jsx)("span",{style:{color:"red"},children:Wa(l.allowance,l.decimals,l.symbol)}):(0,r.jsx)("span",{children:Wa(l.allowance,l.decimals,l.symbol)})}},{title:"".concat(D),key:"action",fixed:"right",render:function(s,l){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZP,{type:"primary",ghost:!0,size:"small",disabled:Oe!==Pe,onClick:function(){return za(l)},hidden:z[l.key],children:sa}),(0,r.jsx)(h.Z,{className:" ml-[7px]",size:"small",spinning:z[l.key]})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(n.ZP,{type:"primary",ghost:!0,size:"small",disabled:Oe!==Pe,onClick:function(){return fa.current.handleOpenApproveModalForm(l)},children:fe})})]})}},{title:"".concat(R),dataIndex:"spender",key:"spender",render:function(s,l){var P=Ee.filter(function(Le){return Le.address===l.spender.toLowerCase()});if(P.length){var y,L,ue=s==null?void 0:s.toString();return ue=((y=ue)===null||y===void 0?void 0:y.substring(0,5))+"-"+((L=ue)===null||L===void 0?void 0:L.substring(37)),(0,r.jsxs)("a",{target:"blank",href:Y.href.addressHref(l.spender),children:[ue,(0,r.jsx)("br",{}),P[0].contractName]})}else{var G,$e,ee=s==null?void 0:s.toString();return ee=((G=ee)===null||G===void 0?void 0:G.substring(0,5))+"-"+(($e=ee)===null||$e===void 0?void 0:$e.substring(37)),(0,r.jsx)("a",{target:"blank",href:Y.href.addressHref(l.spender),children:ee})}}},{title:"".concat(j),dataIndex:"txHash",key:"txHash",render:function(s,l){var P,y,L=s==null?void 0:s.toString();return L=((P=L)===null||P===void 0?void 0:P.substring(0,5))+"-"+((y=L)===null||y===void 0?void 0:y.substring(61)),(0,r.jsx)("a",{target:"blank",href:Y.href.txHref(l.txHash),children:L})}},{title:"".concat(la),dataIndex:"lastUpdated",key:"lastUpdated",valueType:"date",sorter:function(s,l){return s.lastUpdated-l.lastUpdated},render:function(s,l){return(0,r.jsx)("span",{children:I().unix(l.lastUpdated).format().substring(0,10)})}}],erc721:[],erc1155:[]}},[za,z,Oe,Pe,Ve,Ee]),Ea=(0,o.useCallback)(function(){var u=c()(S()().mark(function s(l){var P,y,L;return S()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,H.zI)(de.getTransactionCount(l,"latest"));case 2:P=G.sent,y=M()(P,2),L=y[1],ya(!!L);case 6:case"end":return G.stop()}},s)}));return function(s){return u.apply(this,arguments)}}(),[de]),_a=(0,o.useCallback)(function(){Oe&&(b(A.N.setInputValue(Oe)),b(A.N.setInputSearchStatus("")),Ea(Oe))},[Oe,b,Ea]),er=(0,o.useCallback)(function(u){if(u.target){var s=u.target.value;pa.isAddress(s)||s===""?(s!==""&&Ea(s),b(A.N.setInputSearchStatus(""))):b(A.N.setInputSearchStatus("error")),b(A.N.setInputValue(s))}},[b,Ea]),ar=(0,o.useCallback)(function(u,s){u?pa.isAddress(u)?(b(A.N.setSearchValue(u)),W()):Fe.open({type:"error",content:"".concat(Ca)}):s.hasOwnProperty("type")&&Fe.open({type:"error",content:"".concat(Sa)})},[Fe,W,b]);return(0,r.jsxs)(m._z,{className:"approval",ghost:!0,extra:[(0,r.jsx)(n.ZP,{disabled:!xa,onClick:_a,children:Xe},"1")],children:[(0,r.jsxs)(i.Z,{className:"w-full mb-4",bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},children:[(0,r.jsx)(v.Z.Search,{ref:Na,size:"large",maxLength:42,minLength:42,allowClear:!0,placeholder:Pa,className:"w-full",status:Ne,onChange:er,onSearch:ar,value:oe}),La]}),(0,r.jsx)(t.Z,{scroll:{x:!0},size:"small",columns:qa[ve],actionRef:p,dataSource:U,defaultData:[],params:na,loading:$,toolbar:{multipleLine:!0,tabs:{activeKey:ve,onChange:function(s){x(s),K({type:s})},items:[{key:"erc20",tab:"ERC-20"},{key:"erc721",tab:"ERC-721",disabled:!0},{key:"erc1155",tab:"ERC-1155",disabled:!0}]}},search:!1,options:!1,pagination:!1}),(0,r.jsx)(V,{ref:fa,handleGetApproval:W})]})},Te=Ia,wa=e(53238),aa=function(){var Y=(0,N.useDispatch)(),b=(0,N.useSelector)(function($){return $.chainList.chainSelect}),U=(0,N.useSelector)(function($){return $.ecosystem.tokenDataSourceTelos}),z=(0,N.useSelector)(function($){return $.ecosystem.tokenDataSourcezkSyncEra}),Pe=(0,o.useCallback)(c()(S()().mark(function $(){var T,g,Q;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,H.zI)((0,N.request)("https://api.noahark.pro/api/swap/getCoinList",{method:"POST"}));case 2:T=x.sent,T[1]&&T[1].code===0&&(g=T[1].data,Q=g.map(function(ie){return{name:ie.name,contract:ie.contract,symbol:ie.symbol,decimals:ie.decimal}}),Y(A.N.setCoinList(Q)),localStorage.setItem("coinList",JSON.stringify(Q)));case 4:case"end":return x.stop()}},$)})),[]),oe=(0,o.useCallback)(c()(S()().mark(function $(){return S()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:Y(A.N.setCoinList(U));case 1:case"end":return g.stop()}},$)})),[U]),Ne=(0,o.useCallback)(c()(S()().mark(function $(){var T,g;return S()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:T=z.fields[b.chainIdDec].arrayValue.values,g=T.map(function(x){return{name:x.mapValue.fields.symbol.stringValue,contract:x.mapValue.fields.l2Address.stringValue,symbol:x.mapValue.fields.symbol.stringValue,decimals:Number(x.mapValue.fields.decimals.integerValue)}}),Y(A.N.setCoinList(g));case 3:case"end":return ve.stop()}},$)})),[z,b]),He=(0,o.useCallback)(c()(S()().mark(function $(){var T,g,Q;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return T=b.blockExplorerUrls[0],g=[],x.next=4,(0,H.IU)((0,N.request)("".concat(T,"/api?module=contract&action=listcontracts&offset=1000&filter=verified")));case 4:Q=x.sent,Q&&Q.status==="1"&&(Q.result.forEach(function(ie){g.push({address:ie.Address,contractName:ie.ContractName})}),Y(A.N.setContractList(g)),localStorage.setItem("contractList",JSON.stringify(g)));case 6:case"end":return x.stop()}},$)})),[b]),Ee=(0,o.useCallback)(function(){var $=b.blockExplorerUrls[0];return{tokenHoldersHref:function(g){return $+"/token/"+g+"/token-holders"},addressHref:function(g){return $+"/address/"+g},txHref:function(g){return $+"/tx/"+g}}},[b]),p=(0,o.useCallback)(function(){var $=b.blockExplorerUrls[0];return{tokenHoldersHref:function(g){return $+"/address/"+g},addressHref:function(g){return $+"/address/"+g},txHref:function(g){return $+"/tx/"+g}}},[b]),De=(0,o.useCallback)(function(){var $=b.blockExplorerUrls[0];return{tokenHoldersHref:function(g){return $+"/address/"+g},addressHref:function(g){return $+"/address/"+g},txHref:function(g){return $+"/tx/"+g}}},[b]),Ge=(0,o.useCallback)(function(){switch(b.chainIdDec){case"17777":return(0,r.jsx)(Te,{href:Ee()});case"15557":return(0,r.jsx)(Te,{href:Ee()});case"40":return(0,r.jsx)(Te,{href:p()});case"41":return(0,r.jsx)(Te,{href:p()});case"324":return(0,r.jsx)(Te,{href:De()});case"280":return(0,r.jsx)(Te,{href:De()});default:return(0,r.jsx)(wa.Z,{})}},[b,Ee,p,De]);return(0,o.useEffect)(function(){switch(b.chainIdDec){case"17777":He(),Pe();break;case"15557":He();break;case"40":oe();break;case"41":oe();break;case"324":Ne();break;case"280":Ne();break}},[b,He,Pe,oe,Ne]),Ge()},Ta=(0,o.memo)(aa)},64119:function(_e,re,e){e.d(re,{CE:function(){return N},D0:function(){return Re},Hj:function(){return o},IU:function(){return le},Mn:function(){return d},su:function(){return C},zI:function(){return Ie}});var ne=e(27424),S=e.n(ne),be=e(17061),c=e.n(be),te=e(18698),se=e.n(te),pe=e(17156),X=e.n(pe),je=e(85971),M=e(2453),H=e(9669),Me=e.n(H),w=5;function ye(){var f=je.Z.getState().global.nodeConfig;return f.url}function Ce(f){return new Promise(function(m){return setTimeout(m,f)})}function N(f,m){var i=m||"",t=f,n=Number(t)<1;if(typeof t=="number"&&(t=t.toString()),n){var h=/\d+\.0*\d{3}/,v=/0\.(0{4,})/,Z=h.exec(t);if(t=Z?Z[0]:t,Z=v.exec(t),Z){var I=Z[1].length;return i+t.replace(v,"0.0{"+I+"}")}return i+t}else return i+Number(t).toLocaleString()}function Ie(f){return Ke.apply(this,arguments)}function Ke(){return Ke=X()(c()().mark(function f(m){var i;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m;case 3:return i=n.sent,n.abrupt("return",[null,i]);case 7:if(n.prev=7,n.t0=n.catch(0),!(n.t0 instanceof Error)){n.next=14;break}return console.log(n.t0),n.abrupt("return",[n.t0.message,null]);case 14:if(console.log(n.t0),se()(n.t0)!=="object"){n.next=19;break}return n.abrupt("return",[JSON.stringify(n.t0),null]);case 19:return n.abrupt("return",[n.t0,null]);case 20:case"end":return n.stop()}},f,null,[[0,7]])})),Ke.apply(this,arguments)}function Re(f){return we.apply(this,arguments)}function we(){return we=X()(c()().mark(function f(m){var i;return c()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=ye(),n.next=3,Ie(Me().post("".concat(i,"/v1/chain/get_account"),JSON.stringify(m)));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},f)})),we.apply(this,arguments)}function le(f,m){return Se.apply(this,arguments)}function Se(){return Se=X()(c()().mark(function f(m,i){var t;return c()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,m;case 3:return t=h.sent,h.abrupt("return",t);case 7:if(h.prev=7,h.t0=h.catch(0),!(h.t0 instanceof Error)){h.next=15;break}throw console.log(h.t0),M.ZP.error({content:i||h.t0.message,duration:w}),h.t0;case 15:throw console.log(h.t0),se()(h.t0)==="object"?M.ZP.error({content:i||JSON.stringify(h.t0),duration:w}):M.ZP.error({content:i||h.t0,duration:w}),h.t0;case 18:case"end":return h.stop()}},f,null,[[0,7]])})),Se.apply(this,arguments)}function o(f,m,i){return a.apply(this,arguments)}function a(){return a=X()(c()().mark(function f(m,i,t){var n,h,v;return c()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return n=i!=null?i:function(){},I.prev=1,I.next=4,m;case 4:return h=I.sent,I.abrupt("return",h);case 8:if(I.prev=8,I.t0=I.catch(1),!(I.t0 instanceof Error)){I.next=17;break}throw console.log(I.t0),n(),M.ZP.error({content:t||I.t0.message,duration:w}),I.t0;case 17:throw console.log(I.t0),se()(I.t0)==="object"?(v="",I.t0.hasOwnProperty("message")?v=I.t0.message:v=JSON.stringify(I.t0),M.ZP.error({content:t||v,duration:w})):M.ZP.error({content:t||I.t0,duration:w}),n(),I.t0;case 21:case"end":return I.stop()}},f,null,[[1,8]])})),a.apply(this,arguments)}function E(f,m,i){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function f(m,i,t){var n;return _regeneratorRuntime().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.prev=0,v.next=3,m;case 3:return n=v.sent,message.success({content:i||"Success"}),v.abrupt("return",n);case 8:if(v.prev=8,v.t0=v.catch(0),!(v.t0 instanceof Error)){v.next=16;break}throw console.log(v.t0),message.error({content:t||v.t0.message,duration:w}),v.t0;case 16:throw console.log(v.t0),_typeof(v.t0)==="object"?message.error({content:t||JSON.stringify(v.t0),duration:w}):message.error({content:t||v.t0,duration:w}),v.t0;case 19:case"end":return v.stop()}},f,null,[[0,8]])})),r.apply(this,arguments)}function d(){var f=navigator.userAgent,m=/mobile/i.test(f);return m}function C(f){return V.apply(this,arguments)}function V(){return V=X()(c()().mark(function f(m){var i,t,n,h;return c()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return i=null,t=null,Z.next=3,Ie(Me().get("".concat(m,"/v1/chain/get_info"),{timeout:1e4}));case 3:return n=Z.sent,h=S()(n,2),i=h[0],t=h[1],Z.abrupt("return",[i,t]);case 8:case"end":return Z.stop()}},f)})),V.apply(this,arguments)}function A(f){if(typeof f=="string")try{var m=JSON.parse(f);return!!(_typeof(m)==="object"&&m)}catch(i){return!1}}},51904:function(_e,re,e){e.d(re,{Z:function(){return o}});var ne=e(97937),S=e(94184),be=e.n(S),c=e(62435),te=e(98787),se=e(45353),pe=e(53124);function X(a){return typeof a!="string"?a:a.charAt(0).toUpperCase()+a.slice(1)}var je=e(14747),M=e(98719),H=e(67968),Me=e(45503);const w=(a,E,r)=>{const d=X(r);return{[`${a.componentCls}-${E}`]:{color:a[`color${r}`],background:a[`color${d}Bg`],borderColor:a[`color${d}Border`]}}},ye=a=>(0,M.Z)(a,(E,r)=>{let{textColor:d,lightBorderColor:C,lightColor:V,darkColor:A}=r;return{[`${a.componentCls}-${E}`]:{color:d,background:V,borderColor:C,"&-inverse":{color:a.colorTextLightSolid,background:A,borderColor:A},[`&${a.componentCls}-borderless`]:{borderColor:"transparent"}}}}),Ce=a=>{const{paddingXXS:E,lineWidth:r,tagPaddingHorizontal:d,componentCls:C}=a,V=d-r,A=E-r;return{[C]:Object.assign(Object.assign({},(0,je.Wf)(a)),{display:"inline-block",height:"auto",marginInlineEnd:a.marginXS,paddingInline:V,fontSize:a.tagFontSize,lineHeight:`${a.tagLineHeight}px`,whiteSpace:"nowrap",background:a.tagDefaultBg,border:`${a.lineWidth}px ${a.lineType} ${a.colorBorder}`,borderRadius:a.borderRadiusSM,opacity:1,transition:`all ${a.motionDurationMid}`,textAlign:"start",[`&${C}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:a.tagDefaultColor},[`${C}-close-icon`]:{marginInlineStart:A,color:a.colorTextDescription,fontSize:a.tagIconSize,cursor:"pointer",transition:`all ${a.motionDurationMid}`,"&:hover":{color:a.colorTextHeading}},[`&${C}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${a.iconCls}-close, ${a.iconCls}-close:hover`]:{color:a.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${C}-checkable-checked):hover`]:{color:a.colorPrimary,backgroundColor:a.colorFillSecondary},"&:active, &-checked":{color:a.colorTextLightSolid},"&-checked":{backgroundColor:a.colorPrimary,"&:hover":{backgroundColor:a.colorPrimaryHover}},"&:active":{backgroundColor:a.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${a.iconCls} + span, > span + ${a.iconCls}`]:{marginInlineStart:V}}),[`${C}-borderless`]:{borderColor:"transparent",background:a.tagBorderlessBg}}};var N=(0,H.Z)("Tag",a=>{const{fontSize:E,lineHeight:r,lineWidth:d,fontSizeIcon:C}=a,V=Math.round(E*r),A=a.fontSizeSM,f=V-d*2,m=a.colorFillQuaternary,i=a.colorText,t=(0,Me.TS)(a,{tagFontSize:A,tagLineHeight:f,tagDefaultBg:m,tagDefaultColor:i,tagIconSize:C-2*d,tagPaddingHorizontal:8,tagBorderlessBg:a.colorFillTertiary});return[Ce(t),ye(t),w(t,"success","Success"),w(t,"processing","Info"),w(t,"error","Error"),w(t,"warning","Warning")]}),Ie=function(a,E){var r={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&E.indexOf(d)<0&&(r[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,d=Object.getOwnPropertySymbols(a);C<d.length;C++)E.indexOf(d[C])<0&&Object.prototype.propertyIsEnumerable.call(a,d[C])&&(r[d[C]]=a[d[C]]);return r},Re=a=>{const{prefixCls:E,className:r,checked:d,onChange:C,onClick:V}=a,A=Ie(a,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:f}=c.useContext(pe.E_),m=v=>{C==null||C(!d),V==null||V(v)},i=f("tag",E),[t,n]=N(i),h=be()(i,{[`${i}-checkable`]:!0,[`${i}-checkable-checked`]:d},r,n);return t(c.createElement("span",Object.assign({},A,{className:h,onClick:m})))},we=function(a,E){var r={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&E.indexOf(d)<0&&(r[d]=a[d]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,d=Object.getOwnPropertySymbols(a);C<d.length;C++)E.indexOf(d[C])<0&&Object.prototype.propertyIsEnumerable.call(a,d[C])&&(r[d[C]]=a[d[C]]);return r};const le=(a,E)=>{const{prefixCls:r,className:d,rootClassName:C,style:V,children:A,icon:f,color:m,onClose:i,closeIcon:t,closable:n=!1,bordered:h=!0}=a,v=we(a,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:Z,direction:I}=c.useContext(pe.E_),[ca,da]=c.useState(!0);c.useEffect(()=>{"visible"in v&&da(v.visible)},[v.visible]);const ea=(0,te.o2)(m)||(0,te.yT)(m),pa=Object.assign({backgroundColor:m&&!ea?m:void 0},V),_=Z("tag",r),[Ia,Te]=N(_),wa=be()(_,{[`${_}-${m}`]:ea,[`${_}-has-color`]:m&&!ea,[`${_}-hidden`]:!ca,[`${_}-rtl`]:I==="rtl",[`${_}-borderless`]:!h},d,C,Te),aa=z=>{z.stopPropagation(),i==null||i(z),!z.defaultPrevented&&da(!1)},Ta=c.useMemo(()=>n?t?c.createElement("span",{className:`${_}-close-icon`,onClick:aa},t):c.createElement(ne.Z,{className:`${_}-close-icon`,onClick:aa}):null,[n,t,_,aa]),ra=typeof v.onClick=="function"||A&&A.type==="a",Y=f||null,b=Y?c.createElement(c.Fragment,null,Y,c.createElement("span",null,A)):A,U=c.createElement("span",Object.assign({},v,{ref:E,className:wa,style:pa}),b,Ta);return Ia(ra?c.createElement(se.Z,null,U):U)},Se=c.forwardRef(le);Se.CheckableTag=Re;var o=Se}}]);
