"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4339],{5966:function(Qe,ae,a){var re=a(1413),q=a(91),Se=a(62435),s=a(17689),oe=a(86074),ie=["fieldProps","proFieldProps"],he=["fieldProps","proFieldProps"],U="text",Pe=function(w){var ue=w.fieldProps,ce=w.proFieldProps,j=(0,q.Z)(w,ie);return(0,oe.jsx)(s.Z,(0,re.Z)({valueType:U,fieldProps:ue,filedConfig:{valueType:U},proFieldProps:ce},j))},M=function(w){var ue=w.fieldProps,ce=w.proFieldProps,j=(0,q.Z)(w,he);return(0,oe.jsx)(s.Z,(0,re.Z)({valueType:"password",fieldProps:ue,proFieldProps:ce,filedConfig:{valueType:U}},j))},F=Pe;F.Password=M,F.displayName="ProFormComponent",ae.Z=F},85971:function(Qe,ae,a){var re=a(54442),q=(0,re.getDvaApp)()._store;ae.Z=q},96144:function(Qe,ae,a){a.r(ae),a.d(ae,{default:function(){return Oa}});var re=a(42122),q=a.n(re),Se=a(17061),s=a.n(Se),oe=a(861),ie=a.n(oe),he=a(17156),U=a.n(he),Pe=a(27424),M=a.n(Pe),F=a(64119),ge=a(99351),w=a(5966),ue=a(97462),ce=a(45962),j=a(54442),be=a(2453),we=a(26713),Ee=a(51904),ye=a(64146),Y=a(2593),de=a(35553),v=a(62435),e=a(28493),y=a(65735),r=a(86074),u="115792089237316195423570985008687907853269984665640564039457584007913129639935",g=v.forwardRef(function(aa,N){var Ie=aa.handleGetApproval,R=(0,v.useRef)(),Ae=(0,v.useState)(!1),_=M()(Ae,2),Te=_[0],pe=_[1],ra=(0,v.useState)({key:"",txHash:"",lastUpdated:0,asset:"",owner:"",spender:"",allowance:"",symbol:"",contract:"",decimals:0,balanceOf:"",type:""}),na=M()(ra,2),f=na[0],Ma=na[1],ta=(0,v.useState)("0"),la=M()(ta,2),je=la[0],wa=la[1],We=(0,e.yL)(),sa=be.ZP.useMessage(),oa=M()(sa,2),ia=oa[0],ua=oa[1],Ue=(0,ce.uX)(),H=(0,j.useIntl)(),Ia=H.formatMessage({id:"approval.unlimited"}),ca=H.formatMessage({id:"approval.fail"}),Ta=H.formatMessage({id:"approval.success"}),da=H.formatMessage({id:"approval.txSuccess"}),$e=H.formatMessage({id:"approval.asset"}),ja=H.formatMessage({id:"approval.allowance"}),pa=H.formatMessage({id:"approval.spender"}),Ve=H.formatMessage({id:"approval.approve"}),ve=H.formatMessage({id:"approval.pleaseInputAllowanceValue"}),Be=H.formatMessage({id:"approval.inputException"}),ka=H.formatMessage({id:"approval.maxTag"}),va=H.formatMessage({id:"approval.unlimitedTag"}),fa=H.formatMessage({id:"approval.revokeTag"}),ma=H.formatMessage({id:"approval.inputValue"}),Na=H.formatMessage({id:"approval.approveOperate"}),I=(0,v.useCallback)(function(){var x=U()(s()().mark(function C(V){var D,P;return s()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return D=new ye.CH(V.contract,y.em,We),ne.next=3,(0,F.IU)(D.balanceOf(V.owner));case 3:P=ne.sent,P=P.toString(),wa(P);case 6:case"end":return ne.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),[We]),Ze=(0,v.useCallback)(function(x){I(x),Ma(x),pe(!0)},[I]);(0,v.useImperativeHandle)(N,function(){return{handleOpenApproveModalForm:Ze}});var L=(0,v.useCallback)(function(x,C,V){var D=/^\d+$|^0x[a-fA-F0-9]+$/g;if(D.test(x)){var P=Y.O$.from(x);return P.eq(Y.O$.from(u))?P="".concat(Ia):(P=de.formatUnits(x,C),P==="0.0"&&(P="0")),P+" "+V}else return"undefined"},[]),Fa=(0,v.useCallback)(function(x,C){var V=C.substring(0,8),D=C.substring(36);return x+" ("+V+"-"+D+")"},[]),He=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue","0"),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[]),La=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue",je),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[je]),Ra=(0,v.useCallback)(function(){var x,C;(x=R.current)===null||x===void 0||x.setFieldValue("inputValue",u),(C=R.current)===null||C===void 0||C.validateFields(["inputValue"])},[]),Da=(0,v.useCallback)(function(){var x=U()(s()().mark(function C(V){var D,P,ze,ne,ha,ga,ke,ba,Ke,Ne;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return D=null,P=null,ze=V.spender,ne=V.inputValue,K.next=4,(0,F.IU)((0,y.$q)({address:f.contract,abi:y.em,functionName:"approve",args:[ze,Y.O$.from(ne)]}));case 4:return ha=K.sent,K.next=7,(0,F.IU)((0,y.n9)(ha));case 7:return ga=K.sent,ke=ga.hash,K.next=11,(0,F.zI)((0,y.Mn)({hash:ke}));case 11:if(ba=K.sent,Ke=M()(ba,2),D=Ke[0],P=Ke[1],!D){K.next=20;break}ia.open({type:"error",content:D,duration:5}),Ue({hash:ke,description:"".concat(Ve," ").concat(f==null?void 0:f.symbol," ").concat(ca)}),K.next=26;break;case 20:return Ne=P.logs[0].data,Ne=L(Ne,f==null?void 0:f.decimals,f==null?void 0:f.symbol),ia.open({type:"success",content:"".concat(da)}),Ue({hash:ke,description:"".concat(Ve," ").concat(Ne," ").concat(Ta)}),Ie(P.blockNumber),K.abrupt("return",!0);case 26:case"end":return K.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),[f,L,Ie,Ue]);return(0,r.jsxs)(ge.Y,{formRef:R,title:Na,open:Te,onFinish:function(){var x=U()(s()().mark(function C(V){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Da(V));case 1:case"end":return P.stop()}},C)}));return function(C){return x.apply(this,arguments)}}(),onOpenChange:function(C){var V,D,P;pe(C),(V=R.current)===null||V===void 0||V.setFieldValue("inputValue","0"),(D=R.current)===null||D===void 0||D.validateFields(["inputValue"]),(P=R.current)===null||P===void 0||P.setFieldValue("inputValue","")},layout:"horizontal",width:"480px",children:[(0,r.jsx)(w.Z,{name:"spender",label:pa,disabled:!0,initialValue:f==null?void 0:f.spender}),(0,r.jsx)(w.Z,{name:"asset",label:$e,disabled:!0,initialValue:Fa(f==null?void 0:f.asset,f==null?void 0:f.contract)}),(0,r.jsx)(ue.Z,{name:["inputValue"],children:function(C){var V=C.inputValue,D=L(f==null?void 0:f.allowance,f==null?void 0:f.decimals,f==null?void 0:f.symbol),P=L(V,f==null?void 0:f.decimals,f==null?void 0:f.symbol);return(0,r.jsx)(w.Z,{name:"allowance",label:ja,disabled:!0,initialValue:D,fieldProps:{value:V?P:D}})}}),(0,r.jsx)(w.Z,{name:"inputValue",label:ma,placeholder:ve,rules:[{required:!0,message:"".concat(Be),whitespace:!0,pattern:/^\d+$/g}],fieldProps:{maxLength:78,minLength:1,showCount:!0}}),(0,r.jsxs)(we.Z,{children:[(0,r.jsx)(Ee.Z,{color:"processing",className:"hover:cursor-pointer",onClick:He,children:fa}),(0,r.jsx)(Ee.Z,{color:"processing",className:"hover:cursor-pointer",onClick:La,children:ka}),(0,r.jsx)(Ee.Z,{color:"processing",className:"hover:cursor-pointer",onClick:Ra,children:va})]}),ua]})}),B=(0,v.memo)(g),t=a(25734),A=a(31120),i=a(78565),o=a(38345),n=a(30566),p=a(71577),h=a(75081),k=a(69677),$=a(27484),Ea=a.n($),qe=a(32046),_e=a(8198),De=a(16441),ea=a(19485),J="115792089237316195423570985008687907853269984665640564039457584007913129639935",$a=function(){var N=(0,j.useDispatch)(),Ie=(0,j.useSelector)(function(c){return c.approval.dataSource}),R=(0,j.useSelector)(function(c){return c.approval.buttonLoading}),Ae=(0,j.useSelector)(function(c){return c.approval.searchValue}),_=(0,j.useSelector)(function(c){return c.approval.inputValue}),Te=(0,j.useSelector)(function(c){return c.approval.inputSearchStatus}),pe=(0,j.useSelector)(function(c){return c.approval.coinList}),ra=(0,j.useSelector)(function(c){return c.approval.contractList}),na=(0,j.useSelector)(function(c){return c.approval.tokenList}),f=(0,v.useRef)(),Ma=(0,v.useState)(!1),ta=M()(Ma,2),la=ta[0],je=ta[1],wa=(0,v.useState)("erc20"),We=M()(wa,2),sa=We[0],oa=We[1],ia=(0,v.useState)({type:"erc20"}),ua=M()(ia,2),Ue=ua[0],H=ua[1],Ia=(0,v.useRef)(null),ca=(0,v.useRef)(),Ta=be.ZP.useMessage(),da=M()(Ta,2),$e=da[0],ja=da[1],pa=(0,ce.uX)(),Ve=(0,e.mA)(),ve=Ve.address,Be=Ve.isDisconnected,ka=(0,v.useState)(!0),va=M()(ka,2),fa=va[0],ma=va[1],Na=(0,e.LN)(),I=Na.chain,Ze=(0,e.yL)(),L=(0,j.useIntl)(),Fa=L.formatMessage({id:"approval.unlimited"}),He=L.formatMessage({id:"approval.revoke"}),La=L.formatMessage({id:"approval.fail"}),Ra=L.formatMessage({id:"approval.success"}),Da=L.formatMessage({id:"approval.txSuccess"}),x=L.formatMessage({id:"approval.token"}),C=L.formatMessage({id:"approval.asset"}),V=L.formatMessage({id:"approval.allowance"}),D=L.formatMessage({id:"approval.action"}),P=L.formatMessage({id:"approval.spender"}),ze=L.formatMessage({id:"approval.txHash"}),ne=L.formatMessage({id:"approval.lastUpdated"}),ha=L.formatMessage({id:"approval.approve"}),ga=L.formatMessage({id:"approval.addressVerificationError"}),ke=L.formatMessage({id:"approval.addressCanNotBeEmpty"}),ba=L.formatMessage({id:"approval.yourAddress"}),Ke=L.formatMessage({id:"approval.pleaseInputAddress"}),Ne=(0,e.Ov)({watch:!0}),Wa=Ne.data,K=(0,v.useCallback)(function(c,b,T){var E=/^\d+$|^0x[a-fA-F0-9]+$/g;if(E.test(c)){var m=Y.O$.from(c);return m.eq(Y.O$.from(J))?m="".concat(Fa):(m=de.formatUnits(c,b),m==="0.0"&&(m="0")),m+" "+T}else return"undefined"},[]),Ge=(0,v.useCallback)(function(){var c=U()(s()().mark(function b(T){var E,m,d,l,S,W,O,ee,te,le,z,Je,Ha,Ua,fe,za,Ce;return s()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(E=[],m=[],d=[],l={},S=function(Z,se){for(var X=0;X<Z.length;X++)if(Z[X].key===se)return Z[X];return!1},W=function(Z,se){var X=[];return Z.forEach(function(Oe){se.some(function(me){return me.key===Oe.key})||X.push(Oe)}),X.push.apply(X,ie()(se)),X.sort(function(Oe,me){return me.lastUpdated-Oe.lastUpdated}),X},!(_&&I)){Q.next=38;break}return je(!0),O=qe.id(_+I.id).substring(0,8),Q.next=11,A.db.approval.where({key:O}).toArray();case 11:if(ee=Q.sent,m=ee.length?ee[0].data.sort(function(xe,Z){return Z.lastUpdated-xe.lastUpdated}):[],te=m.length?m[0].lastUpdated+1:"earliest",le=function(){return je(!1)},z=_,Je=new _e.vU(y.em),Ha={address:void 0,fromBlock:te,toBlock:T||Wa,topics:[Je.getEventTopic("Approval"),De.hexZeroPad(z,32)]},Ua=[],fe=[],!fa){Q.next=24;break}return Q.next=23,(0,F.Hj)(Ze.getLogs(Ha),le);case 23:fe=Q.sent;case 24:fe.reverse(),za=s()().mark(function xe(){var Z,se,X,Oe,me,Me,Aa,Ca,xa,Sa,Pa,Xe,Ka,Fe,Ye,Ga,Le,Ja,Re;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(Z=Je.decodeEventLog("Approval",fe[Ce].data,fe[Ce].topics),se=fe[Ce].address,X=fe[Ce].transactionHash,Oe=fe[Ce].blockNumber,me=qe.id(se+Z.spender),Ua.includes(me)){G.next=44;break}if(Ua.push(me),Me=new ye.CH(se,y.em,Ze),Xe=S(m,me),!Xe){G.next=21;break}return G.next=12,(0,F.Hj)(Promise.all([Xe.asset,Xe.symbol,Xe.decimals,Me.allowance(Z.owner,Z.spender),"0"]),le);case 12:Ka=G.sent,Fe=M()(Ka,5),Aa=Fe[0],Ca=Fe[1],xa=Fe[2],Sa=Fe[3],Pa=Fe[4],G.next=43;break;case 21:if(Ye=pe.filter(function(_a){return _a.contract===se.toLowerCase()}),!Ye.length){G.next=34;break}return G.next=25,(0,F.Hj)(Promise.all([Ye[0].name,Ye[0].symbol,Ye[0].decimals,Me.allowance(Z.owner,Z.spender),"0"]),le);case 25:Ga=G.sent,Le=M()(Ga,5),Aa=Le[0],Ca=Le[1],xa=Le[2],Sa=Le[3],Pa=Le[4],G.next=43;break;case 34:return G.next=36,(0,F.Hj)(Promise.all([Me.name(),Me.symbol(),Me.decimals(),Me.allowance(Z.owner,Z.spender),"0"]),le);case 36:Ja=G.sent,Re=M()(Ja,5),Aa=Re[0],Ca=Re[1],xa=Re[2],Sa=Re[3],Pa=Re[4];case 43:d.push({key:me,txHash:X,lastUpdated:Oe,asset:Aa,owner:Z.owner,spender:Z.spender,allowance:Sa.toString(),symbol:Ca,contract:se,decimals:xa,type:"erc20",balanceOf:Pa.toString()});case 44:case"end":return G.stop()}},xe)}),Ce=0;case 27:if(!(Ce<fe.length)){Q.next=32;break}return Q.delegateYield(za(),"t0",29);case 29:Ce++,Q.next=27;break;case 32:E=W(m,d),E.forEach(function(xe){return l[xe.key]=!1}),A.db.approval.put({key:O,chainId:I.id,address:_,data:E}),N(t.N.setDataSource(E)),N(t.N.setButtonLoading(l)),je(!1);case 38:case"end":return Q.stop()}},b)}));return function(b){return c.apply(this,arguments)}}(),[I,_,Ze,N,Wa,A.db,pe,na,fa]),Va=(0,v.useCallback)(function(){var c=U()(s()().mark(function b(T){var E,m,d,l,S,W,O,ee,te;return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return E=null,m=null,d=T.spender,l=T.contract,S=T.symbol,z.next=4,(0,F.IU)((0,y.$q)({address:l,abi:y.em,functionName:"approve",args:[d,Y.O$.from(0)]}));case 4:return W=z.sent,z.next=7,(0,F.IU)((0,y.n9)(W));case 7:return O=z.sent,R[T.key]=!0,N(t.N.setButtonLoading(q()({},R))),z.next=12,(0,F.zI)((0,y.Mn)({hash:O.hash}));case 12:ee=z.sent,te=M()(ee,2),E=te[0],m=te[1],E?($e.open({type:"error",content:E,duration:5}),pa({hash:O.hash,description:"".concat(He," ").concat(S," ").concat(La)})):($e.open({type:"success",content:"".concat(Da)}),pa({hash:O.hash,description:"".concat(He," ").concat(S," ").concat(Ra)}),Ge(m.blockNumber)),R[T.key]=!1,N(t.N.setButtonLoading(q()({},R)));case 19:case"end":return z.stop()}},b)}));return function(b){return c.apply(this,arguments)}}(),[R,N,Ge]),Xa=(0,v.useMemo)(function(){var c,b,T=I==null||(c=I.blockExplorers)===null||c===void 0?void 0:c.default.url,E=(b=I==null?void 0:I.genesisTime)!==null&&b!==void 0?b:0;return{erc20:[{title:"".concat(x),dataIndex:"contract",key:"contract",hideInTable:!0,render:function(d,l){var S,W,O=d==null?void 0:d.toString();return O=((S=O)===null||S===void 0?void 0:S.substring(0,5))+"-"+((W=O)===null||W===void 0?void 0:W.substring(37)),(0,r.jsx)("a",{target:"blank",href:T+"/token/"+l.contract+"/token-holders",children:O})}},{title:"".concat(C),dataIndex:"asset",key:"asset",sorter:function(d,l){return d.asset.localeCompare(l.asset)},render:function(d,l){var S=l.contract.substring(0,6);return(0,r.jsxs)("a",{target:"blank",href:T+"/token/"+l.contract+"/token-holders",children:[(0,r.jsxs)("div",{children:[S,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}),l.asset]})}},{title:"".concat(V),dataIndex:"allowance",key:"allowance",sorter:function(d,l){var S=Y.O$.from(d.allowance),W=Y.O$.from(l.allowance);return S.gt(W)?1:S.lt(W)?-1:0},render:function(d,l){return l.allowance===J?(0,r.jsxs)("span",{style:{color:"red"},children:[K(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]}):(0,r.jsxs)("span",{children:[K(l.allowance,l.decimals,l.symbol),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(D),key:"action",fixed:"right",render:function(d,l){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(p.ZP,{type:"primary",ghost:!0,size:"small",disabled:ve!==Ae,onClick:function(){return Va(l)},hidden:R[l.key],children:He}),(0,r.jsx)(h.Z,{className:" ml-[7px]",size:"small",spinning:R[l.key]})]}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)(p.ZP,{type:"primary",ghost:!0,size:"small",disabled:ve!==Ae,onClick:function(){return ca.current.handleOpenApproveModalForm(l)},children:ha})})]})}},{title:"".concat(P),dataIndex:"spender",key:"spender",render:function(d,l){var S=ra.filter(function(Je){return Je.address===l.spender.toLowerCase()});if(S.length){var W,O,ee=d==null?void 0:d.toString();return ee=((W=ee)===null||W===void 0?void 0:W.substring(0,5))+"-"+((O=ee)===null||O===void 0?void 0:O.substring(37)),(0,r.jsxs)("a",{target:"blank",href:T+"/address/"+l.spender,children:[ee,(0,r.jsx)("br",{}),S[0].contractName,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}else{var te,le,z=d==null?void 0:d.toString();return z=((te=z)===null||te===void 0?void 0:te.substring(0,5))+"-"+((le=z)===null||le===void 0?void 0:le.substring(37)),(0,r.jsxs)("a",{target:"blank",href:T+"/address/"+l.spender,children:[z,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}},{title:"".concat(ze),dataIndex:"txHash",key:"txHash",render:function(d,l){var S,W,O=d==null?void 0:d.toString();return O=((S=O)===null||S===void 0?void 0:S.substring(0,5))+"-"+((W=O)===null||W===void 0?void 0:W.substring(61)),(0,r.jsxs)("a",{target:"blank",href:T+"/tx/"+l.txHash,children:[O,"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}},{title:"".concat(ne),dataIndex:"lastUpdated",key:"lastUpdated",valueType:"date",sorter:function(d,l){return d.lastUpdated-l.lastUpdated},render:function(d,l){return(0,r.jsxs)("span",{children:[Ea().unix(E+l.lastUpdated).format().substring(0,10),"\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0\xA0"]})}}],erc721:[],erc1155:[]}},[Va,R,ve,Ae,I,ra]),ya=(0,v.useCallback)(function(){var c=U()(s()().mark(function b(T){var E,m,d,l,S;return s()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return m=I==null||(E=I.blockExplorers)===null||E===void 0?void 0:E.default.url,O.next=3,(0,F.zI)((0,j.request)("".concat(m,"/api?module=account&action=eth_get_balance&address=").concat(T)));case 3:d=O.sent,l=M()(d,1),S=l[0],ma(!S);case 7:case"end":return O.stop()}},b)}));return function(b){return c.apply(this,arguments)}}(),[I]),Ya=(0,v.useCallback)(function(){ve&&(N(t.N.setInputValue(ve)),N(t.N.setInputSearchStatus("")),ya(ve))},[ve,N,ya]),Qa=(0,v.useCallback)(function(c){if(c.target){var b=c.target.value;ea.isAddress(b)||b===""?(b!==""&&ya(b),N(t.N.setInputSearchStatus(""))):N(t.N.setInputSearchStatus("error")),N(t.N.setInputValue(b))}},[N,ya]),Ba=(0,v.useCallback)(U()(s()().mark(function c(){var b,T,E,m;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return T=I==null||(b=I.blockExplorers)===null||b===void 0?void 0:b.default.url,E=[],l.next=4,(0,F.IU)((0,j.request)("".concat(T,"/api?module=contract&action=listcontracts&offset=1000&filter=verified")));case 4:m=l.sent,m&&m.status==="1"&&(m.result.forEach(function(S){E.push({address:S.Address,contractName:S.ContractName})}),N(t.N.setContractList(E)),localStorage.setItem("contractList",JSON.stringify(E)));case 6:case"end":return l.stop()}},c)})),[I]),qa=(0,v.useCallback)(function(c,b){c?ea.isAddress(c)?(N(t.N.setSearchValue(c)),Ge()):$e.open({type:"error",content:"".concat(ga)}):b.hasOwnProperty("type")&&$e.open({type:"error",content:"".concat(ke)})},[$e,Ge,N,Ba]),Za=(0,v.useCallback)(U()(s()().mark(function c(){var b,T,E;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,F.zI)((0,j.request)("https://api.noahark.pro/api/swap/getCoinList",{method:"POST"}));case 2:b=d.sent,T=M()(b,2),E=T[1],E&&E.code===0&&(N(t.N.setCoinList(E.data)),localStorage.setItem("coinList",JSON.stringify(E.data)));case 6:case"end":return d.stop()}},c)})),[]);return(0,v.useEffect)(function(){!Be&&I&&!I.unsupported&&(Za(),Ba())},[Za,Be,I]),(0,r.jsxs)(i._z,{className:"approval",ghost:!0,extra:[(0,r.jsx)(p.ZP,{disabled:Be,onClick:Ya,children:ba},"1")],children:[(0,r.jsxs)(o.Z,{className:"w-full mb-4",bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},children:[(0,r.jsx)(k.Z.Search,{ref:Ia,size:"large",maxLength:42,minLength:42,allowClear:!0,placeholder:Ke,className:"w-full",status:Te,onChange:Qa,onSearch:qa,value:_}),ja]}),(0,r.jsx)(n.Z,{scroll:{x:!0},size:"small",columns:Xa[sa],actionRef:f,dataSource:Ie,defaultData:[],params:Ue,loading:la,toolbar:{multipleLine:!0,tabs:{activeKey:sa,onChange:function(b){oa(b),H({type:b})},items:[{key:"erc20",tab:"ERC-20"},{key:"erc721",tab:"ERC-721",disabled:!0},{key:"erc1155",tab:"ERC-1155",disabled:!0}]}},search:!1,options:!1,pagination:!1}),(0,r.jsx)(B,{ref:ca,handleGetApproval:Ge})]})},Oa=$a},64119:function(Qe,ae,a){a.d(ae,{CE:function(){return j},D0:function(){return Ee},Hj:function(){return v},IU:function(){return Y},Mn:function(){return u},su:function(){return g},zI:function(){return be}});var re=a(27424),q=a.n(re),Se=a(17061),s=a.n(Se),oe=a(18698),ie=a.n(oe),he=a(17156),U=a.n(he),Pe=a(85971),M=a(2453),F=a(9669),ge=a.n(F),w=5;function ue(){var t=Pe.Z.getState().global.nodeConfig;return t.url}function ce(t){return new Promise(function(A){return setTimeout(A,t)})}function j(t,A){var i=A||"",o=t,n=Number(o)<1;if(typeof o=="number"&&(o=o.toString()),n){var p=/\d+\.0*\d{3}/,h=/0\.(0{4,})/,k=p.exec(o);if(o=k?k[0]:o,k=h.exec(o),k){var $=k[1].length;return i+o.replace(h,"0.0{"+$+"}")}return i+o}else return i+Number(o).toLocaleString()}function be(t){return we.apply(this,arguments)}function we(){return we=U()(s()().mark(function t(A){var i;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,A;case 3:return i=n.sent,n.abrupt("return",[null,i]);case 7:if(n.prev=7,n.t0=n.catch(0),!(n.t0 instanceof Error)){n.next=14;break}return console.log(n.t0),n.abrupt("return",[n.t0.message,null]);case 14:if(console.log(n.t0),ie()(n.t0)!=="object"){n.next=19;break}return n.abrupt("return",[JSON.stringify(n.t0),null]);case 19:return n.abrupt("return",[n.t0,null]);case 20:case"end":return n.stop()}},t,null,[[0,7]])})),we.apply(this,arguments)}function Ee(t){return ye.apply(this,arguments)}function ye(){return ye=U()(s()().mark(function t(A){var i;return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=ue(),n.next=3,be(ge().post("".concat(i,"/v1/chain/get_account"),JSON.stringify(A)));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},t)})),ye.apply(this,arguments)}function Y(t,A){return de.apply(this,arguments)}function de(){return de=U()(s()().mark(function t(A,i){var o;return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,A;case 3:return o=p.sent,p.abrupt("return",o);case 7:if(p.prev=7,p.t0=p.catch(0),!(p.t0 instanceof Error)){p.next=15;break}throw console.log(p.t0),M.ZP.error({content:i||p.t0.message,duration:w}),p.t0;case 15:throw console.log(p.t0),ie()(p.t0)==="object"?M.ZP.error({content:i||JSON.stringify(p.t0),duration:w}):M.ZP.error({content:i||p.t0,duration:w}),p.t0;case 18:case"end":return p.stop()}},t,null,[[0,7]])})),de.apply(this,arguments)}function v(t,A,i){return e.apply(this,arguments)}function e(){return e=U()(s()().mark(function t(A,i,o){var n,p,h;return s()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return n=i!=null?i:function(){},$.prev=1,$.next=4,A;case 4:return p=$.sent,$.abrupt("return",p);case 8:if($.prev=8,$.t0=$.catch(1),!($.t0 instanceof Error)){$.next=17;break}throw console.log($.t0),n(),M.ZP.error({content:o||$.t0.message,duration:w}),$.t0;case 17:throw console.log($.t0),ie()($.t0)==="object"?(h="",$.t0.hasOwnProperty("message")?h=$.t0.message:h=JSON.stringify($.t0),M.ZP.error({content:o||h,duration:w})):M.ZP.error({content:o||$.t0,duration:w}),n(),$.t0;case 21:case"end":return $.stop()}},t,null,[[1,8]])})),e.apply(this,arguments)}function y(t,A,i){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function t(A,i,o){var n;return _regeneratorRuntime().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,A;case 3:return n=h.sent,message.success({content:i||"Success"}),h.abrupt("return",n);case 8:if(h.prev=8,h.t0=h.catch(0),!(h.t0 instanceof Error)){h.next=16;break}throw console.log(h.t0),message.error({content:o||h.t0.message,duration:w}),h.t0;case 16:throw console.log(h.t0),_typeof(h.t0)==="object"?message.error({content:o||JSON.stringify(h.t0),duration:w}):message.error({content:o||h.t0,duration:w}),h.t0;case 19:case"end":return h.stop()}},t,null,[[0,8]])})),r.apply(this,arguments)}function u(){var t=navigator.userAgent,A=/mobile/i.test(t);return A}function g(t){return B.apply(this,arguments)}function B(){return B=U()(s()().mark(function t(A){var i,o,n,p;return s()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return i=null,o=null,k.next=3,be(ge().get("".concat(A,"/v1/chain/get_info"),{timeout:1e4}));case 3:return n=k.sent,p=q()(n,2),i=p[0],o=p[1],k.abrupt("return",[i,o]);case 8:case"end":return k.stop()}},t)})),B.apply(this,arguments)}},51904:function(Qe,ae,a){a.d(ae,{Z:function(){return v}});var re=a(97937),q=a(94184),Se=a.n(q),s=a(62435),oe=a(98787),ie=a(45353),he=a(53124);function U(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var Pe=a(14747),M=a(98719),F=a(67968),ge=a(45503);const w=(e,y,r)=>{const u=U(r);return{[`${e.componentCls}-${y}`]:{color:e[`color${r}`],background:e[`color${u}Bg`],borderColor:e[`color${u}Border`]}}},ue=e=>(0,M.Z)(e,(y,r)=>{let{textColor:u,lightBorderColor:g,lightColor:B,darkColor:t}=r;return{[`${e.componentCls}-${y}`]:{color:u,background:B,borderColor:g,"&-inverse":{color:e.colorTextLightSolid,background:t,borderColor:t},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}}),ce=e=>{const{paddingXXS:y,lineWidth:r,tagPaddingHorizontal:u,componentCls:g}=e,B=u-r,t=y-r;return{[g]:Object.assign(Object.assign({},(0,Pe.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:B,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${g}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${g}-close-icon`]:{marginInlineStart:t,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${g}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${g}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:B}}),[`${g}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}};var j=(0,F.Z)("Tag",e=>{const{fontSize:y,lineHeight:r,lineWidth:u,fontSizeIcon:g}=e,B=Math.round(y*r),t=e.fontSizeSM,A=B-u*2,i=e.colorFillQuaternary,o=e.colorText,n=(0,ge.TS)(e,{tagFontSize:t,tagLineHeight:A,tagDefaultBg:i,tagDefaultColor:o,tagIconSize:g-2*u,tagPaddingHorizontal:8,tagBorderlessBg:e.colorFillTertiary});return[ce(n),ue(n),w(n,"success","Success"),w(n,"processing","Info"),w(n,"error","Error"),w(n,"warning","Warning")]}),be=function(e,y){var r={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&y.indexOf(u)<0&&(r[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,u=Object.getOwnPropertySymbols(e);g<u.length;g++)y.indexOf(u[g])<0&&Object.prototype.propertyIsEnumerable.call(e,u[g])&&(r[u[g]]=e[u[g]]);return r},Ee=e=>{const{prefixCls:y,className:r,checked:u,onChange:g,onClick:B}=e,t=be(e,["prefixCls","className","checked","onChange","onClick"]),{getPrefixCls:A}=s.useContext(he.E_),i=k=>{g==null||g(!u),B==null||B(k)},o=A("tag",y),[n,p]=j(o),h=Se()(o,{[`${o}-checkable`]:!0,[`${o}-checkable-checked`]:u},r,p);return n(s.createElement("span",Object.assign({},t,{className:h,onClick:i})))},ye=function(e,y){var r={};for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&y.indexOf(u)<0&&(r[u]=e[u]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,u=Object.getOwnPropertySymbols(e);g<u.length;g++)y.indexOf(u[g])<0&&Object.prototype.propertyIsEnumerable.call(e,u[g])&&(r[u[g]]=e[u[g]]);return r};const Y=(e,y)=>{const{prefixCls:r,className:u,rootClassName:g,style:B,children:t,icon:A,color:i,onClose:o,closeIcon:n,closable:p=!1,bordered:h=!0}=e,k=ye(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:$,direction:Ea}=s.useContext(he.E_),[qe,_e]=s.useState(!0);s.useEffect(()=>{"visible"in k&&_e(k.visible)},[k.visible]);const De=(0,oe.o2)(i)||(0,oe.yT)(i),ea=Object.assign({backgroundColor:i&&!De?i:void 0},B),J=$("tag",r),[$a,Oa]=j(J),aa=Se()(J,{[`${J}-${i}`]:De,[`${J}-has-color`]:i&&!De,[`${J}-hidden`]:!qe,[`${J}-rtl`]:Ea==="rtl",[`${J}-borderless`]:!h},u,g,Oa),N=pe=>{pe.stopPropagation(),o==null||o(pe),!pe.defaultPrevented&&_e(!1)},Ie=s.useMemo(()=>p?n?s.createElement("span",{className:`${J}-close-icon`,onClick:N},n):s.createElement(re.Z,{className:`${J}-close-icon`,onClick:N}):null,[p,n,J,N]),R=typeof k.onClick=="function"||t&&t.type==="a",Ae=A||null,_=Ae?s.createElement(s.Fragment,null,Ae,s.createElement("span",null,t)):t,Te=s.createElement("span",Object.assign({},k,{ref:y,className:aa,style:ea}),_,Ie);return $a(R?s.createElement(ie.Z,null,Te):Te)},de=s.forwardRef(Y);de.CheckableTag=Ee;var v=de}}]);
