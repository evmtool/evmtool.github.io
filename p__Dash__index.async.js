"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7592],{85971:function(Ma,aa,e){var ua=e(54442),k=(0,ua.getDvaApp)()._store;aa.Z=k},15858:function(Ma,aa,e){e.r(aa),e.d(aa,{default:function(){return wa}});var ua=e(17061),k=e.n(ua),pa=e(17156),x=e.n(pa),ya=e(27424),G=e.n(ya),fa=e(87659),T=e(6466),J=e(95689),u=e(62435),ha=e(71230),R=e(15746),C=e(64119),K=e(9004),v=e(54442),Ta=e(42122),F=e.n(Ta),ea=e(64183),Q=e(32983),a=e(86074),Sa=function(){var M=(0,v.useSelector)(function(S){return S.dash.txHistoryDataSource}),P={data:M,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(Z){return"".concat(Z).replace(/\d{1,3}(?=(\d{3})+$)/g,function(E){return"".concat(E,",")})}}},slider:{start:0,end:1},smooth:!0,label:{}};return(0,a.jsx)(a.Fragment,{children:M.length?(0,a.jsx)(ea.Z,F()({},P)):(0,a.jsx)(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE})})},oa=(0,u.memo)(Sa),Da=e(27484),ta=e.n(Da),Pa=function(){var M=(0,u.useState)(!1),P=G()(M,2),S=P[0],Z=P[1],E=(0,v.useDispatch)(),D=(0,v.useSelector)(function(f){return f.dash.tvlHistoryDataSource}),c=(0,v.useSelector)(function(f){return f.chainList.chainSelect}),Y={data:D,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(W){var h=Number(W);return h>1e3?"".concat(h/1e3," M"):h>1e6?"".concat(h/1e6," B"):"".concat(h," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},j=(0,u.useCallback)(x()(k()().mark(function f(){var W,h,N,w;return k()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:W=function(){return Z(!1)},Z(!0),h=[],N="",m.t0=c.chainIdDec,m.next=m.t0==="17777"?7:m.t0==="40"?9:10;break;case 7:return N="https://api.llama.fi/v2/historicalChainTvl/eos%20evm",m.abrupt("break",10);case 9:N="https://api.llama.fi/v2/historicalChainTvl/telos";case 10:return m.next=12,(0,C.Hj)((0,v.request)(N),W);case 12:w=m.sent,w.forEach(function(L){h.push({date:ta().unix(L.date).format().substring(0,10),tvl:Number((L.tvl/1e3).toFixed(0)),category:"Daily TVL"})}),E(K.N.setTvlHistoryDataSource(h)),localStorage.setItem("tvlHistoryData",JSON.stringify(h)),Z(!1);case 17:case"end":return m.stop()}},f)})),[E,c]);return(0,u.useEffect)(function(){j()},[j]),(0,a.jsx)(a.Fragment,{children:D.length?(0,a.jsx)(ea.Z,F()(F()({},Y),{},{loading:S})):(0,a.jsx)(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE})})},ra=(0,u.memo)(Pa),ma=e(82792),ga=e(63430),ca=e(76509),Aa=function(){var M=(0,v.useDispatch)(),P=(0,v.useSelector)(function(h){return h.dash.tvlDistributionDataSource}),S=(0,u.useState)(!1),Z=G()(S,2),E=Z[0],D=Z[1],c=(0,v.useSelector)(function(h){return h.chainList.chainSelect}),Y={data:P,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},j={data:P,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},f=(0,u.useCallback)(function(h){switch(h){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";case"YieldHub Finance":return"YieldHub";default:return h}},[]),W=(0,u.useCallback)(x()(k()().mark(function h(){var N,w,$,m,L,X;return k()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return N=function(){return D(!1)},D(!0),w=0,$=[],O.next=6,(0,C.Hj)((0,v.request)("https://api.llama.fi/protocols"),N);case 6:m=O.sent,L="",O.t0=c.chainIdDec,O.next=O.t0==="17777"?11:O.t0==="40"?13:14;break;case 11:return L="EOS EVM",O.abrupt("break",14);case 13:L="Telos";case 14:m=m.filter(function(g){return g.chain===L}),m=m.map(function(g){return w+=g.tvl,F()(F()({},g),{},{key:g.id})}),m.forEach(function(g){var U=f(g.name);$.push({type:U,value:g.tvl/w})}),X=ta()().valueOf(),M(ma.N.setDexDataSource(m)),M(ma.N.setDexDataTime(X)),M(K.N.setTvlDistributionDataSource($)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:m,dexDataTime:X})),localStorage.setItem("tvlDistributionData",JSON.stringify($)),D(!1);case 24:case"end":return O.stop()}},h)})),[M,f,c]);return(0,u.useEffect)(function(){W()},[W]),(0,a.jsx)(ca.X.Consumer,{children:function(N){var w=N.isMobile;return P.length?w?(0,a.jsx)(ga.Z,F()({loading:E},Y)):(0,a.jsx)(ga.Z,F()({loading:E},j)):(0,a.jsx)(Q.Z,{image:Q.Z.PRESENTED_IMAGE_SIMPLE})}})},i=(0,u.memo)(Aa),o=e(65735),s=function(){var M=(0,u.useState)(!1),P=G()(M,2),S=P[0],Z=P[1],E=(0,v.useDispatch)(),D=(0,v.useSelector)(function(y){return y.dash.chainData}),c=(0,v.useSelector)(function(y){return y.dash.tvlHistoryDataSource}),Y=(0,v.useSelector)(function(y){return y.dash.txDayTotal}),j=(0,v.useSelector)(function(y){return y.chainList.chainSelect}),f=(0,v.useIntl)(),W=f.formatMessage({id:"dash.dailyTransactions"}),h=f.formatMessage({id:"dash.totalTransactions"}),N=f.formatMessage({id:"dash.averageTransactions"}),w=f.formatMessage({id:"dash.yesterdayTransactions"}),$=f.formatMessage({id:"dash.gasTracker"}),m=f.formatMessage({id:"dash.averageBlockTime"}),L=f.formatMessage({id:"dash.totalBlocks"}),X=f.formatMessage({id:"dash.walletAddresses"}),sa=f.formatMessage({id:"dash.second"}),O=f.formatMessage({id:"dash.totalValueLocked"}),g=f.formatMessage({id:"dash.change"}),U=f.formatMessage({id:"dash.TvlDistribution"}),q=(0,u.useCallback)(function(){var y=x()(k()().mark(function A(b){var B,p,H,z,la,ja,Ia,ba,Za,xa,Oa,Ea,Ca,ka,Ba,Na;return k()().wrap(function(ia){for(;;)switch(ia.prev=ia.next){case 0:return B=/\d+\.\d+ Gwei/,p=/data-selector="tx_per_day">\s+(.+)\s+<span/,H=/data-selector="average-block-time">\s+(.+)\s+<\/span>/,z=/data-selector="transaction-count">\s+(.+)\s+<\/span>/,la=/data-selector="address-count">\s+(.+)\s+<\/span>/,ja=B.exec(b),Ia=ja?ja[0]:"150.0 Gwei",ba=p.exec(b),Za=ba?ba[1]:"0",xa=H.exec(b),Oa=xa?xa[1].replace("second",sa):"1 ".concat(sa),Ea=z.exec(b),Ca=Ea?Ea[1]:"0",ka=la.exec(b),Ba=ka?ka[1]:"0",ia.next=17,(0,o.RQ)();case 17:return Na=ia.sent,ia.abrupt("return",{gasTracker:Ia,dailyTransactions:Za,averageBlockTime:Oa,totalTransactions:Ca,totalBlocks:String(Na),walletAddresses:Ba});case 19:case"end":return ia.stop()}},A)}));return function(A){return y.apply(this,arguments)}}(),[sa]),V=(0,u.useCallback)(x()(k()().mark(function y(){var A,b,B;return k()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return A=function(){return Z(!1)},Z(!0),H.next=4,(0,C.Hj)((0,v.request)(j.blockExplorerUrls[0],A));case 4:return b=H.sent,H.next=7,q(b);case 7:B=H.sent,E(K.N.setChainData(B)),localStorage.setItem("chainData",JSON.stringify(B)),Z(!1);case 11:case"end":return H.stop()}},y)})),[E,q,j]),_=(0,u.useMemo)(function(){if(!c.length)return 0;var y=c.length-1;return c[y].tvl*1e3},[c]),va=(0,u.useMemo)(function(){if(!c.length)return 0;var y=c.length-1,A=c.length-2,b=c[y].tvl,B=c[A].tvl,p=(b-B)/B*100;return p},[c]),na=(0,u.useCallback)(x()(k()().mark(function y(){var A,b,B,p;return k()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return A=[],b=0,B=[],z.next=5,(0,C.IU)((0,v.request)("".concat(j.blockExplorerUrls[0],"/transaction-history-chart?type=JSON"),{headers:{"x-requested-with":"XMLHttpRequest"}}));case 5:p=z.sent,B=JSON.parse(p.history_data),B.forEach(function(la){A.push({date:la.date,number:la.number_of_transactions,category:"Daily Transactions"}),b+=la.number_of_transactions}),E(K.N.setTxHistoryDataSource(A)),E(K.N.setTxHistoryTotal(b)),E(K.N.setTxDayTotal(A.length)),localStorage.setItem("txHistoryData",JSON.stringify(A));case 12:case"end":return z.stop()}},y)})),[E,j]);return(0,u.useEffect)(function(){na(),V()},[V]),(0,a.jsxs)(fa._z,{className:"dash",ghost:!0,children:[(0,a.jsx)(T.Z,{loading:S,bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:W,chart:(0,a.jsx)(oa,{}),footer:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(J.Z,{value:D.totalTransactions,title:h,layout:"vertical"}),(0,a.jsx)(J.Z,{value:(Number(D.totalTransactions.replace(/,/g,""))/Y).toFixed(0),title:N,layout:"vertical"}),(0,a.jsx)(J.Z,{value:D.dailyTransactions,title:w,layout:"vertical"})]})}),(0,a.jsxs)(ha.Z,{gutter:8,children:[(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:$,statistic:{value:D.gasTracker}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:m,statistic:{value:D.averageBlockTime}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:L,statistic:{value:D.totalBlocks}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:X,statistic:{value:D.walletAddresses}})})]}),j.testNet===!0?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(O," (USD)"),chart:(0,a.jsx)(ra,{}),footer:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(J.Z,{prefix:"$",value:_,title:O,layout:"vertical"}),(0,a.jsx)(J.Z,{value:va,title:"".concat(g,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,a.jsx)(T.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:U,chart:(0,a.jsx)(i,{})})]})]})},r=s,t=e(69716),n=function(){var M=(0,u.useState)(!1),P=G()(M,2),S=P[0],Z=P[1],E=(0,v.useDispatch)(),D=(0,v.useSelector)(function(g){return g.dash.chainData}),c=(0,v.useSelector)(function(g){return g.dash.tvlHistoryDataSource}),Y=(0,v.useSelector)(function(g){return g.chainList.chainSelect}),j=(0,v.useIntl)(),f=j.formatMessage({id:"dash.gasTracker"}),W=j.formatMessage({id:"dash.averageBlockTime"}),h=j.formatMessage({id:"dash.totalBlocks"}),N=j.formatMessage({id:"dash.walletAddresses"}),w=j.formatMessage({id:"dash.second"}),$=j.formatMessage({id:"dash.totalValueLocked"}),m=j.formatMessage({id:"dash.change"}),L=j.formatMessage({id:"dash.TvlDistribution"}),X=(0,u.useCallback)(x()(k()().mark(function g(){var U,q,V,_,va,na,y,A,b;return k()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return Z(!0),p.next=3,(0,o.jS)({formatUnits:9});case 3:return U=p.sent,U=Number(U.formatted.gasPrice).toFixed(1)+" Gwei",p.next=7,t.C.init("evmtool",!1);case 7:return p.next=9,t.C.getTableRows({code:"eosio.evm",scope:"eosio.evm",table:"account",limit:1,key_type:"i64",index_position:"1",json:!0,reverse:!0});case 9:if(q=p.sent,V=G()(q,2),_=V[0],va=V[1],!_){p.next=16;break}return console.log(_),p.abrupt("return");case 16:return na="",va.rows.length?na=String(va.rows[0].index):na="0",y="0.5 ".concat(w),p.next=21,(0,o.RQ)();case 21:A=p.sent,b={gasTracker:U,dailyTransactions:"0",averageBlockTime:y,totalTransactions:"0",totalBlocks:String(A),walletAddresses:na},E(K.N.setChainData(b)),localStorage.setItem("chainData",JSON.stringify(b)),Z(!1);case 26:case"end":return p.stop()}},g)})),[E,Y,w]),sa=(0,u.useMemo)(function(){if(!c.length)return 0;var g=c.length-1;return c[g].tvl*1e3},[c]),O=(0,u.useMemo)(function(){if(!c.length)return 0;var g=c.length-1,U=c.length-2,q=c[g].tvl,V=c[U].tvl,_=(q-V)/V*100;return _},[c]);return(0,u.useEffect)(function(){X()},[X]),(0,a.jsxs)(fa._z,{className:"dash",ghost:!0,children:[(0,a.jsxs)(ha.Z,{gutter:8,children:[(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:f,statistic:{value:D.gasTracker}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:W,statistic:{value:D.averageBlockTime}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:h,statistic:{value:D.totalBlocks}})}),(0,a.jsx)(R.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(T.Z,{loading:S,title:N,statistic:{value:D.walletAddresses}})})]}),Y.testNet===!0?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat($," (USD)"),chart:(0,a.jsx)(ra,{}),footer:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(J.Z,{prefix:"$",value:sa,title:$,layout:"vertical"}),(0,a.jsx)(J.Z,{value:O,title:"".concat(m,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,a.jsx)(T.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:L,chart:(0,a.jsx)(i,{})})]})]})},l=n,I=e(53238),d=function(){var M=(0,v.useSelector)(function(S){return S.chainList.chainSelect}),P=(0,u.useCallback)(function(){switch(M.chainIdDec){case"17777":return(0,a.jsx)(r,{});case"15557":return(0,a.jsx)(r,{});case"40":return(0,a.jsx)(l,{});case"41":return(0,a.jsx)(l,{});default:return(0,a.jsx)(I.Z,{})}},[M]);return P()},wa=d},64119:function(Ma,aa,e){e.d(aa,{CE:function(){return Ta},D0:function(){return Q},Hj:function(){return Da},IU:function(){return Sa},Mn:function(){return ma},su:function(){return ga},zI:function(){return F}});var ua=e(27424),k=e.n(ua),pa=e(17061),x=e.n(pa),ya=e(18698),G=e.n(ya),fa=e(17156),T=e.n(fa),J=e(85971),u=e(2453),ha=e(9669),R=e.n(ha),C=5;function K(){var i=J.Z.getState().global.nodeConfig;return i.url}function v(i){return new Promise(function(o){return setTimeout(o,i)})}function Ta(i,o){var s=o||"",r=i,t=Number(r)<1;if(typeof r=="number"&&(r=r.toString()),t){var n=/\d+\.0*\d{3}/,l=/0\.(0{4,})/,I=n.exec(r);if(r=I?I[0]:r,I=l.exec(r),I){var d=I[1].length;return s+r.replace(l,"0.0{"+d+"}")}return s+r}else return s+Number(r).toLocaleString()}function F(i){return ea.apply(this,arguments)}function ea(){return ea=T()(x()().mark(function i(o){var s;return x()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o;case 3:return s=t.sent,t.abrupt("return",[null,s]);case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0 instanceof Error)){t.next=14;break}return console.log(t.t0),t.abrupt("return",[t.t0.message,null]);case 14:if(console.log(t.t0),G()(t.t0)!=="object"){t.next=19;break}return t.abrupt("return",[JSON.stringify(t.t0),null]);case 19:return t.abrupt("return",[t.t0,null]);case 20:case"end":return t.stop()}},i,null,[[0,7]])})),ea.apply(this,arguments)}function Q(i){return a.apply(this,arguments)}function a(){return a=T()(x()().mark(function i(o){var s;return x()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=K(),t.next=3,F(R().post("".concat(s,"/v1/chain/get_account"),JSON.stringify(o)));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},i)})),a.apply(this,arguments)}function Sa(i,o){return oa.apply(this,arguments)}function oa(){return oa=T()(x()().mark(function i(o,s){var r;return x()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o;case 3:return r=n.sent,n.abrupt("return",r);case 7:if(n.prev=7,n.t0=n.catch(0),!(n.t0 instanceof Error)){n.next=15;break}throw console.log(n.t0),u.ZP.error({content:s||n.t0.message,duration:C}),n.t0;case 15:throw console.log(n.t0),G()(n.t0)==="object"?u.ZP.error({content:s||JSON.stringify(n.t0),duration:C}):u.ZP.error({content:s||n.t0,duration:C}),n.t0;case 18:case"end":return n.stop()}},i,null,[[0,7]])})),oa.apply(this,arguments)}function Da(i,o,s){return ta.apply(this,arguments)}function ta(){return ta=T()(x()().mark(function i(o,s,r){var t,n,l;return x()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return t=s!=null?s:function(){},d.prev=1,d.next=4,o;case 4:return n=d.sent,d.abrupt("return",n);case 8:if(d.prev=8,d.t0=d.catch(1),!(d.t0 instanceof Error)){d.next=17;break}throw console.log(d.t0),t(),u.ZP.error({content:r||d.t0.message,duration:C}),d.t0;case 17:throw console.log(d.t0),G()(d.t0)==="object"?(l="",d.t0.hasOwnProperty("message")?l=d.t0.message:l=JSON.stringify(d.t0),u.ZP.error({content:r||l,duration:C})):u.ZP.error({content:r||d.t0,duration:C}),t(),d.t0;case 21:case"end":return d.stop()}},i,null,[[1,8]])})),ta.apply(this,arguments)}function Pa(i,o,s){return ra.apply(this,arguments)}function ra(){return ra=_asyncToGenerator(_regeneratorRuntime().mark(function i(o,s,r){var t;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,o;case 3:return t=l.sent,message.success({content:s||"Success"}),l.abrupt("return",t);case 8:if(l.prev=8,l.t0=l.catch(0),!(l.t0 instanceof Error)){l.next=16;break}throw console.log(l.t0),message.error({content:r||l.t0.message,duration:C}),l.t0;case 16:throw console.log(l.t0),_typeof(l.t0)==="object"?message.error({content:r||JSON.stringify(l.t0),duration:C}):message.error({content:r||l.t0,duration:C}),l.t0;case 19:case"end":return l.stop()}},i,null,[[0,8]])})),ra.apply(this,arguments)}function ma(){var i=navigator.userAgent,o=/mobile/i.test(i);return o}function ga(i){return ca.apply(this,arguments)}function ca(){return ca=T()(x()().mark(function i(o){var s,r,t,n;return x()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return s=null,r=null,I.next=3,F(R().get("".concat(o,"/v1/chain/get_info"),{timeout:1e4}));case 3:return t=I.sent,n=k()(t,2),s=n[0],r=n[1],I.abrupt("return",[s,r]);case 8:case"end":return I.stop()}},i)})),ca.apply(this,arguments)}function Aa(i){if(typeof i=="string")try{var o=JSON.parse(i);return!!(_typeof(o)==="object"&&o)}catch(s){return!1}}}}]);
