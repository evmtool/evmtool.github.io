"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7592],{51777:function(va,U,e){e.r(U),e.d(U,{default:function(){return ga}});var V=e(17061),T=e.n(V),z=e(17156),C=e.n(z),X=e(27424),M=e.n(X),B=e(78565),m=e(6466),F=e(95689),u=e(62435),$=e(71230),W=e(15746),w=e(64119),R=e(9004),v=e(54442),_=e(42122),x=e.n(_),g=e(64183),c=e(32983),a=e(86074),r=function(){var Z=(0,u.useState)(!1),k=M()(Z,2),D=k[1],S=(0,v.useDispatch)(),N=(0,v.useSelector)(function(P){return P.dash.txHistoryDataSource}),y={data:N,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(i){return"".concat(i).replace(/\d{1,3}(?=(\d{3})+$)/g,function(p){return"".concat(p,",")})}}},slider:{start:0,end:1},smooth:!0,label:{}},h=(0,u.useCallback)(C()(T()().mark(function P(){var i,p,o,j,A;return T()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i=function(){return D(!1)},D(!0),p=[],o=0,j=[],d.next=7,(0,w.Hj)((0,v.request)("https://explorer.evm.eosnetwork.com/transaction-history-chart?type=JSON",{headers:{"x-requested-with":"XMLHttpRequest"}}),i);case 7:A=d.sent,j=JSON.parse(A.history_data),j.forEach(function(I){p.push({date:I.date,number:I.number_of_transactions,category:"Daily Transactions"}),o+=I.number_of_transactions}),S(R.N.setTxHistoryDataSource(p)),S(R.N.setTxHistoryTotal(o)),S(R.N.setTxDayTotal(p.length)),localStorage.setItem("txHistoryData",JSON.stringify(p)),D(!1);case 15:case"end":return d.stop()}},P)})),[S]);return(0,u.useEffect)(function(){h()},[h]),(0,a.jsx)(a.Fragment,{children:N.length?(0,a.jsx)(g.Z,x()({},y)):(0,a.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE})})},t=(0,u.memo)(r),s=e(27484),l=e.n(s),n=function(){var Z=(0,u.useState)(!1),k=M()(Z,2),D=k[0],S=k[1],N=(0,v.useDispatch)(),y=(0,v.useSelector)(function(i){return i.dash.tvlHistoryDataSource}),h={data:y,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(p){var o=Number(p);return o>1e3?"".concat(o/1e3," M"):o>1e6?"".concat(o/1e6," B"):"".concat(o," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},P=(0,u.useCallback)(C()(T()().mark(function i(){var p,o,j;return T()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return p=function(){return S(!1)},S(!0),o=[],b.next=5,(0,w.Hj)((0,v.request)("https://api.llama.fi/v2/historicalChainTvl/eos%20evm"),p);case 5:j=b.sent,j.forEach(function(d){o.push({date:l().unix(d.date).format().substring(0,10),tvl:Number((d.tvl/1e3).toFixed(0)),category:"Daily TVL"})}),N(R.N.setTvlHistoryDataSource(o)),localStorage.setItem("tvlHistoryData",JSON.stringify(o)),S(!1);case 10:case"end":return b.stop()}},i)})),[N]);return(0,u.useEffect)(function(){P()},[P]),(0,a.jsx)(a.Fragment,{children:y.length?(0,a.jsx)(g.Z,x()(x()({},h),{},{loading:D})):(0,a.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE})})},Y=(0,u.memo)(n),aa=e(58460),ea=e(63430),fa=e(76509),ma=function(){var Z=(0,v.useDispatch)(),k=(0,v.useSelector)(function(o){return o.dash.tvlDistributionDataSource}),D=(0,u.useState)(!1),S=M()(D,2),N=S[0],y=S[1],h={data:k,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},P={data:k,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},i=(0,u.useCallback)(function(o){switch(o){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";default:return o}},[]),p=(0,u.useCallback)(C()(T()().mark(function o(){var j,A,b,d,I;return T()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return j=function(){return y(!1)},y(!0),A=0,b=[],O.next=6,(0,w.Hj)((0,v.request)("https://api.llama.fi/protocols"),j);case 6:d=O.sent,d=d.filter(function(E){return E.chain==="EOS EVM"}),d=d.map(function(E){return A+=E.tvl,x()(x()({},E),{},{key:E.id})}),d.forEach(function(E){var q=i(E.name);b.push({type:q,value:E.tvl/A})}),I=l()().valueOf(),Z(aa.N.setDexDataSource(d)),Z(aa.N.setDexDataTime(I)),Z(R.N.setTvlDistributionDataSource(b)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:d,dexDataTime:I})),localStorage.setItem("tvlDistributionData",JSON.stringify(b)),y(!1);case 17:case"end":return O.stop()}},o)})),[Z,i]);return(0,u.useEffect)(function(){p()},[p]),(0,a.jsx)(fa.X.Consumer,{children:function(j){var A=j.isMobile;return k.length?A?(0,a.jsx)(ea.Z,x()({loading:N},h)):(0,a.jsx)(ea.Z,x()({loading:N},P)):(0,a.jsx)(c.Z,{image:c.Z.PRESENTED_IMAGE_SIMPLE})}})},ha=(0,u.memo)(ma),pa=function(){var Z=(0,u.useState)(!1),k=M()(Z,2),D=k[0],S=k[1],N=(0,v.useDispatch)(),y=(0,v.useSelector)(function(f){return f.dash.chainData}),h=(0,v.useSelector)(function(f){return f.dash.tvlHistoryDataSource}),P=(0,v.useSelector)(function(f){return f.dash.txDayTotal}),i=(0,v.useIntl)(),p=i.formatMessage({id:"dash.dailyTransactions"}),o=i.formatMessage({id:"dash.totalTransactions"}),j=i.formatMessage({id:"dash.averageTransactions"}),A=i.formatMessage({id:"dash.yesterdayTransactions"}),b=i.formatMessage({id:"dash.gasTracker"}),d=i.formatMessage({id:"dash.averageBlockTime"}),I=i.formatMessage({id:"dash.totalBlocks"}),ta=i.formatMessage({id:"dash.walletAddresses"}),O=i.formatMessage({id:"dash.second"}),E=i.formatMessage({id:"dash.totalValueLocked"}),q=i.formatMessage({id:"dash.change"}),ya=i.formatMessage({id:"dash.TvlDistribution"}),ra=(0,u.useCallback)(function(f){var G=/\d+\.\d+ Gwei/,J=/data-selector="tx_per_day">\s+(.+)\s+<span/,H=/data-selector="average-block-time">\s+(.+)\s+<\/span>/,K=/data-selector="transaction-count">\s+(.+)\s+<\/span>/,L=/data-selector="block-count">\s+(.+)\s+<\/span>/,na=/data-selector="address-count">\s+(.+)\s+<\/span>/,la=G.exec(f),Da=la?la[0]:"150.0 Gwei",ia=J.exec(f),ja=ia?ia[1]:"0",oa=H.exec(f),ba=oa?oa[1].replace("second",O):"1 ".concat(O),ua=K.exec(f),Ea=ua?ua[1]:"0",ca=L.exec(f),xa=ca?ca[1]:"0",da=na.exec(f),ka=da?da[1]:"0";return{gasTracker:Da,dailyTransactions:ja,averageBlockTime:ba,totalTransactions:Ea,totalBlocks:xa,walletAddresses:ka}},[O]),sa=(0,u.useCallback)(C()(T()().mark(function f(){var G,J,H;return T()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return G=function(){return S(!1)},S(!0),L.next=4,(0,w.Hj)((0,v.request)("https://explorer.evm.eosnetwork.com",G));case 4:J=L.sent,H=ra(J),N(R.N.setChainData(H)),localStorage.setItem("chainData",JSON.stringify(H)),S(!1);case 9:case"end":return L.stop()}},f)})),[N,ra]),Ta=(0,u.useMemo)(function(){if(!h.length)return 0;var f=h.length-1;return h[f].tvl*1e3},[h]),Sa=(0,u.useMemo)(function(){if(!h.length)return 0;var f=h.length-1,G=h.length-2,J=h[f].tvl,H=h[G].tvl,K=(J-H)/H*100;return K},[h]);return(0,u.useEffect)(function(){sa()},[sa]),(0,a.jsxs)(B._z,{className:"dash",ghost:!0,children:[(0,a.jsx)(m.Z,{loading:D,bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:p,chart:(0,a.jsx)(t,{}),footer:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(F.Z,{value:y.totalTransactions,title:o,layout:"vertical"}),(0,a.jsx)(F.Z,{value:(Number(y.totalTransactions.replace(",",""))/P).toFixed(0),title:j,layout:"vertical"}),(0,a.jsx)(F.Z,{value:y.dailyTransactions,title:A,layout:"vertical"})]})}),(0,a.jsxs)($.Z,{gutter:8,children:[(0,a.jsx)(W.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(m.Z,{loading:D,title:b,statistic:{value:y.gasTracker}})}),(0,a.jsx)(W.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(m.Z,{loading:D,title:d,statistic:{value:y.averageBlockTime}})}),(0,a.jsx)(W.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(m.Z,{loading:D,title:I,statistic:{value:y.totalBlocks}})}),(0,a.jsx)(W.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,a.jsx)(m.Z,{loading:D,title:ta,statistic:{value:y.walletAddresses}})})]}),(0,a.jsx)(m.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(E," (USD)"),chart:(0,a.jsx)(Y,{}),footer:(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsx)(F.Z,{prefix:"$",value:Ta,title:E,layout:"vertical"}),(0,a.jsx)(F.Z,{value:Sa,title:"".concat(q,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,a.jsx)(m.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:ya,chart:(0,a.jsx)(ha,{})})]})},ga=pa},64119:function(va,U,e){e.d(U,{CE:function(){return F},Hj:function(){return R},IU:function(){return W},zI:function(){return u}});var V=e(17061),T=e.n(V),z=e(18698),C=e.n(z),X=e(17156),M=e.n(X),B=e(27790),m=5;function F(g,c){var a=c||"",r=g,t=Number(r)<1;if(typeof r=="number"&&(r=r.toString()),t){var s=/\d+\.0*\d{3}/,l=/0\.(0{4,})/,n=s.exec(r);if(r=n?n[0]:r,n=l.exec(r),n){var Y=n[1].length;return a+r.replace(l,"0.0{"+Y+"}")}return a+r}else return a+Number(r).toLocaleString()}function u(g){return $.apply(this,arguments)}function $(){return $=M()(T()().mark(function g(c){var a;return T()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c;case 3:return a=t.sent,t.abrupt("return",[null,a]);case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0 instanceof Error)){t.next=14;break}return console.log(t.t0),t.abrupt("return",[t.t0.message,null]);case 14:if(console.log(t.t0),C()(t.t0)!=="object"){t.next=19;break}return t.abrupt("return",[JSON.stringify(t.t0),null]);case 19:return t.abrupt("return",[t.t0,null]);case 20:case"end":return t.stop()}},g,null,[[0,7]])})),$.apply(this,arguments)}function W(g,c){return w.apply(this,arguments)}function w(){return w=M()(T()().mark(function g(c,a){var r;return T()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,c;case 3:return r=s.sent,s.abrupt("return",r);case 7:if(s.prev=7,s.t0=s.catch(0),!(s.t0 instanceof Error)){s.next=15;break}throw console.log(s.t0),B.ZP.error({content:a||s.t0.message,duration:m}),s.t0;case 15:throw console.log(s.t0),C()(s.t0)==="object"?B.ZP.error({content:a||JSON.stringify(s.t0),duration:m}):B.ZP.error({content:a||s.t0,duration:m}),s.t0;case 18:case"end":return s.stop()}},g,null,[[0,7]])})),w.apply(this,arguments)}function R(g,c,a){return v.apply(this,arguments)}function v(){return v=M()(T()().mark(function g(c,a,r){var t,s;return T()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=a!=null?a:function(){},n.prev=1,n.next=4,c;case 4:return s=n.sent,n.abrupt("return",s);case 8:if(n.prev=8,n.t0=n.catch(1),!(n.t0 instanceof Error)){n.next=17;break}throw console.log(n.t0),t(),B.ZP.error({content:r||n.t0.message,duration:m}),n.t0;case 17:throw console.log(n.t0),C()(n.t0)==="object"?B.ZP.error({content:r||JSON.stringify(n.t0),duration:m}):B.ZP.error({content:r||n.t0,duration:m}),t(),n.t0;case 21:case"end":return n.stop()}},g,null,[[1,8]])})),v.apply(this,arguments)}function _(g,c,a){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function g(c,a,r){var t;return _regeneratorRuntime().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,c;case 3:return t=l.sent,message.success({content:a||"Success"}),l.abrupt("return",t);case 8:if(l.prev=8,l.t0=l.catch(0),!(l.t0 instanceof Error)){l.next=16;break}throw console.log(l.t0),message.error({content:r||l.t0.message,duration:m}),l.t0;case 16:throw console.log(l.t0),_typeof(l.t0)==="object"?message.error({content:r||JSON.stringify(l.t0),duration:m}):message.error({content:r||l.t0,duration:m}),l.t0;case 19:case"end":return l.stop()}},g,null,[[0,8]])})),x.apply(this,arguments)}}}]);
