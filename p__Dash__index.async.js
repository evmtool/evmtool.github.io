"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7592],{85971:function(la,W,e){var $=e(54442),P=(0,$.getDvaApp)()._store;W.Z=P},51777:function(la,W,e){e.r(W),e.d(W,{default:function(){return l}});var $=e(17061),P=e.n($),_=e(17156),D=e.n(_),q=e(27424),k=e.n(q),aa=e(78565),E=e(6466),R=e(95689),c=e(62435),ea=e(71230),L=e(15746),S=e(64119),Z=e(9004),y=e(54442),ta=e(42122),O=e.n(ta),F=e(64183),B=e(32983),n=e(86074),ra=function(){var t=(0,c.useState)(!1),r=k()(t,2),u=r[1],s=(0,y.useDispatch)(),M=(0,y.useSelector)(function(x){return x.dash.txHistoryDataSource}),T={data:M,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(d){return"".concat(d).replace(/\d{1,3}(?=(\d{3})+$)/g,function(g){return"".concat(g,",")})}}},slider:{start:0,end:1},smooth:!0,label:{}},p=(0,c.useCallback)(D()(P()().mark(function x(){var d,g,v,j,C;return P()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d=function(){return u(!1)},u(!0),g=[],v=0,j=[],m.next=7,(0,S.Hj)((0,y.request)("https://explorer.evm.eosnetwork.com/transaction-history-chart?type=JSON",{headers:{"x-requested-with":"XMLHttpRequest"}}),d);case 7:C=m.sent,j=JSON.parse(C.history_data),j.forEach(function(N){g.push({date:N.date,number:N.number_of_transactions,category:"Daily Transactions"}),v+=N.number_of_transactions}),s(Z.N.setTxHistoryDataSource(g)),s(Z.N.setTxHistoryTotal(v)),s(Z.N.setTxDayTotal(g.length)),localStorage.setItem("txHistoryData",JSON.stringify(g)),u(!1);case 15:case"end":return m.stop()}},x)})),[s]);return(0,c.useEffect)(function(){p()},[p]),(0,n.jsx)(n.Fragment,{children:M.length?(0,n.jsx)(F.Z,O()({},T)):(0,n.jsx)(B.Z,{image:B.Z.PRESENTED_IMAGE_SIMPLE})})},J=(0,c.memo)(ra),sa=e(27484),G=e.n(sa),ia=function(){var t=(0,c.useState)(!1),r=k()(t,2),u=r[0],s=r[1],M=(0,y.useDispatch)(),T=(0,y.useSelector)(function(d){return d.dash.tvlHistoryDataSource}),p={data:T,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(g){var v=Number(g);return v>1e3?"".concat(v/1e3," M"):v>1e6?"".concat(v/1e6," B"):"".concat(v," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},x=(0,c.useCallback)(D()(P()().mark(function d(){var g,v,j;return P()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=function(){return s(!1)},s(!0),v=[],b.next=5,(0,S.Hj)((0,y.request)("https://api.llama.fi/v2/historicalChainTvl/eos%20evm"),g);case 5:j=b.sent,j.forEach(function(m){v.push({date:G().unix(m.date).format().substring(0,10),tvl:Number((m.tvl/1e3).toFixed(0)),category:"Daily TVL"})}),M(Z.N.setTvlHistoryDataSource(v)),localStorage.setItem("tvlHistoryData",JSON.stringify(v)),s(!1);case 10:case"end":return b.stop()}},d)})),[M]);return(0,c.useEffect)(function(){x()},[x]),(0,n.jsx)(n.Fragment,{children:T.length?(0,n.jsx)(F.Z,O()(O()({},p),{},{loading:u})):(0,n.jsx)(B.Z,{image:B.Z.PRESENTED_IMAGE_SIMPLE})})},V=(0,c.memo)(ia),X=e(58460),Y=e(63430),z=e(76509),o=function(){var t=(0,y.useDispatch)(),r=(0,y.useSelector)(function(v){return v.dash.tvlDistributionDataSource}),u=(0,c.useState)(!1),s=k()(u,2),M=s[0],T=s[1],p={data:r,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},x={data:r,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},d=(0,c.useCallback)(function(v){switch(v){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";default:return v}},[]),g=(0,c.useCallback)(D()(P()().mark(function v(){var j,C,b,m,N;return P()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return j=function(){return T(!1)},T(!0),C=0,b=[],I.next=6,(0,S.Hj)((0,y.request)("https://api.llama.fi/protocols"),j);case 6:m=I.sent,m=m.filter(function(A){return A.chain==="EOS EVM"}),m=m.map(function(A){return C+=A.tvl,O()(O()({},A),{},{key:A.id})}),m.forEach(function(A){var na=d(A.name);b.push({type:na,value:A.tvl/C})}),N=G()().valueOf(),t(X.N.setDexDataSource(m)),t(X.N.setDexDataTime(N)),t(Z.N.setTvlDistributionDataSource(b)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:m,dexDataTime:N})),localStorage.setItem("tvlDistributionData",JSON.stringify(b)),T(!1);case 17:case"end":return I.stop()}},v)})),[t,d]);return(0,c.useEffect)(function(){g()},[g]),(0,n.jsx)(z.X.Consumer,{children:function(j){var C=j.isMobile;return r.length?C?(0,n.jsx)(Y.Z,O()({loading:M},p)):(0,n.jsx)(Y.Z,O()({loading:M},x)):(0,n.jsx)(B.Z,{image:B.Z.PRESENTED_IMAGE_SIMPLE})}})},f=(0,c.memo)(o),i=function(){var t=(0,c.useState)(!1),r=k()(t,2),u=r[0],s=r[1],M=(0,y.useDispatch)(),T=(0,y.useSelector)(function(h){return h.dash.chainData}),p=(0,y.useSelector)(function(h){return h.dash.tvlHistoryDataSource}),x=(0,y.useSelector)(function(h){return h.dash.txDayTotal}),d=(0,y.useIntl)(),g=d.formatMessage({id:"dash.dailyTransactions"}),v=d.formatMessage({id:"dash.totalTransactions"}),j=d.formatMessage({id:"dash.averageTransactions"}),C=d.formatMessage({id:"dash.yesterdayTransactions"}),b=d.formatMessage({id:"dash.gasTracker"}),m=d.formatMessage({id:"dash.averageBlockTime"}),N=d.formatMessage({id:"dash.totalBlocks"}),oa=d.formatMessage({id:"dash.walletAddresses"}),I=d.formatMessage({id:"dash.second"}),A=d.formatMessage({id:"dash.totalValueLocked"}),na=d.formatMessage({id:"dash.change"}),ya=d.formatMessage({id:"dash.TvlDistribution"}),ua=(0,c.useCallback)(function(h){var U=/\d+\.\d+ Gwei/,K=/data-selector="tx_per_day">\s+(.+)\s+<span/,w=/data-selector="average-block-time">\s+(.+)\s+<\/span>/,Q=/data-selector="transaction-count">\s+(.+)\s+<\/span>/,H=/data-selector="block-count">\s+(.+)\s+<\/span>/,da=/data-selector="address-count">\s+(.+)\s+<\/span>/,va=U.exec(h),Sa=va?va[0]:"150.0 Gwei",fa=K.exec(h),Ea=fa?fa[1]:"0",ma=w.exec(h),ja=ma?ma[1].replace("second",I):"1 ".concat(I),ha=Q.exec(h),ba=ha?ha[1]:"0",pa=H.exec(h),Pa=pa?pa[1]:"0",ga=da.exec(h),Aa=ga?ga[1]:"0";return{gasTracker:Sa,dailyTransactions:Ea,averageBlockTime:ja,totalTransactions:ba,totalBlocks:Pa,walletAddresses:Aa}},[I]),ca=(0,c.useCallback)(D()(P()().mark(function h(){var U,K,w;return P()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return U=function(){return s(!1)},s(!0),H.next=4,(0,S.Hj)((0,y.request)("https://explorer.evm.eosnetwork.com",U));case 4:K=H.sent,w=ua(K),M(Z.N.setChainData(w)),localStorage.setItem("chainData",JSON.stringify(w)),s(!1);case 9:case"end":return H.stop()}},h)})),[M,ua]),Ta=(0,c.useMemo)(function(){if(!p.length)return 0;var h=p.length-1;return p[h].tvl*1e3},[p]),Da=(0,c.useMemo)(function(){if(!p.length)return 0;var h=p.length-1,U=p.length-2,K=p[h].tvl,w=p[U].tvl,Q=(K-w)/w*100;return Q},[p]);return(0,c.useEffect)(function(){ca()},[ca]),(0,n.jsxs)(aa._z,{className:"dash",ghost:!0,children:[(0,n.jsx)(E.Z,{loading:u,bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:g,chart:(0,n.jsx)(J,{}),footer:(0,n.jsxs)("div",{className:"flex justify-around",children:[(0,n.jsx)(R.Z,{value:T.totalTransactions,title:v,layout:"vertical"}),(0,n.jsx)(R.Z,{value:(Number(T.totalTransactions.replace(",",""))/x).toFixed(0),title:j,layout:"vertical"}),(0,n.jsx)(R.Z,{value:T.dailyTransactions,title:C,layout:"vertical"})]})}),(0,n.jsxs)(ea.Z,{gutter:8,children:[(0,n.jsx)(L.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,n.jsx)(E.Z,{loading:u,title:b,statistic:{value:T.gasTracker}})}),(0,n.jsx)(L.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,n.jsx)(E.Z,{loading:u,title:m,statistic:{value:T.averageBlockTime}})}),(0,n.jsx)(L.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,n.jsx)(E.Z,{loading:u,title:N,statistic:{value:T.totalBlocks}})}),(0,n.jsx)(L.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,n.jsx)(E.Z,{loading:u,title:oa,statistic:{value:T.walletAddresses}})})]}),(0,n.jsx)(E.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(A," (USD)"),chart:(0,n.jsx)(V,{}),footer:(0,n.jsxs)("div",{className:"flex justify-around",children:[(0,n.jsx)(R.Z,{prefix:"$",value:Ta,title:A,layout:"vertical"}),(0,n.jsx)(R.Z,{value:Da,title:"".concat(na,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,n.jsx)(E.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:ya,chart:(0,n.jsx)(f,{})})]})},l=i},64119:function(la,W,e){e.d(W,{CE:function(){return ta},D0:function(){return B},Hj:function(){return sa},IU:function(){return ra},Mn:function(){return X},su:function(){return Y},zI:function(){return O}});var $=e(27424),P=e.n($),_=e(17061),D=e.n(_),q=e(18698),k=e.n(q),aa=e(17156),E=e.n(aa),R=e(85971),c=e(2453),ea=e(9669),L=e.n(ea),S=5;function Z(){var o=R.Z.getState().global.nodeConfig;return o.url}function y(o){return new Promise(function(f){return setTimeout(f,o)})}function ta(o,f){var i=f||"",l=o,a=Number(l)<1;if(typeof l=="number"&&(l=l.toString()),a){var t=/\d+\.0*\d{3}/,r=/0\.(0{4,})/,u=t.exec(l);if(l=u?u[0]:l,u=r.exec(l),u){var s=u[1].length;return i+l.replace(r,"0.0{"+s+"}")}return i+l}else return i+Number(l).toLocaleString()}function O(o){return F.apply(this,arguments)}function F(){return F=E()(D()().mark(function o(f){var i;return D()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f;case 3:return i=a.sent,a.abrupt("return",[null,i]);case 7:if(a.prev=7,a.t0=a.catch(0),!(a.t0 instanceof Error)){a.next=14;break}return console.log(a.t0),a.abrupt("return",[a.t0.message,null]);case 14:if(console.log(a.t0),k()(a.t0)!=="object"){a.next=19;break}return a.abrupt("return",[JSON.stringify(a.t0),null]);case 19:return a.abrupt("return",[a.t0,null]);case 20:case"end":return a.stop()}},o,null,[[0,7]])})),F.apply(this,arguments)}function B(o){return n.apply(this,arguments)}function n(){return n=E()(D()().mark(function o(f){var i;return D()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i=Z(),a.next=3,O(L().post("".concat(i,"/v1/chain/get_account"),JSON.stringify(f)));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},o)})),n.apply(this,arguments)}function ra(o,f){return J.apply(this,arguments)}function J(){return J=E()(D()().mark(function o(f,i){var l;return D()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f;case 3:return l=t.sent,t.abrupt("return",l);case 7:if(t.prev=7,t.t0=t.catch(0),!(t.t0 instanceof Error)){t.next=15;break}throw console.log(t.t0),c.ZP.error({content:i||t.t0.message,duration:S}),t.t0;case 15:throw console.log(t.t0),k()(t.t0)==="object"?c.ZP.error({content:i||JSON.stringify(t.t0),duration:S}):c.ZP.error({content:i||t.t0,duration:S}),t.t0;case 18:case"end":return t.stop()}},o,null,[[0,7]])})),J.apply(this,arguments)}function sa(o,f,i){return G.apply(this,arguments)}function G(){return G=E()(D()().mark(function o(f,i,l){var a,t,r;return D()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a=i!=null?i:function(){},s.prev=1,s.next=4,f;case 4:return t=s.sent,s.abrupt("return",t);case 8:if(s.prev=8,s.t0=s.catch(1),!(s.t0 instanceof Error)){s.next=17;break}throw console.log(s.t0),a(),c.ZP.error({content:l||s.t0.message,duration:S}),s.t0;case 17:throw console.log(s.t0),k()(s.t0)==="object"?(r="",s.t0.hasOwnProperty("message")?r=s.t0.message:r=JSON.stringify(s.t0),c.ZP.error({content:l||r,duration:S})):c.ZP.error({content:l||s.t0,duration:S}),a(),s.t0;case 21:case"end":return s.stop()}},o,null,[[1,8]])})),G.apply(this,arguments)}function ia(o,f,i){return V.apply(this,arguments)}function V(){return V=_asyncToGenerator(_regeneratorRuntime().mark(function o(f,i,l){var a;return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f;case 3:return a=r.sent,message.success({content:i||"Success"}),r.abrupt("return",a);case 8:if(r.prev=8,r.t0=r.catch(0),!(r.t0 instanceof Error)){r.next=16;break}throw console.log(r.t0),message.error({content:l||r.t0.message,duration:S}),r.t0;case 16:throw console.log(r.t0),_typeof(r.t0)==="object"?message.error({content:l||JSON.stringify(r.t0),duration:S}):message.error({content:l||r.t0,duration:S}),r.t0;case 19:case"end":return r.stop()}},o,null,[[0,8]])})),V.apply(this,arguments)}function X(){var o=navigator.userAgent,f=/mobile/i.test(o);return f}function Y(o){return z.apply(this,arguments)}function z(){return z=E()(D()().mark(function o(f){var i,l,a,t;return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return i=null,l=null,u.next=3,O(L().get("".concat(f,"/v1/chain/get_info"),{timeout:1e4}));case 3:return a=u.sent,t=P()(a,2),i=t[0],l=t[1],u.abrupt("return",[i,l]);case 8:case"end":return u.stop()}},o)})),z.apply(this,arguments)}}}]);
