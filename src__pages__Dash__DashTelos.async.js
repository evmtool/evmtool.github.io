"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4671,8794],{68763:function(e,t,r){r.d(t,{Mx:function(){return F},LR:function(){return j},iy:function(){return p}});var n=r(42122),a=r.n(n),s=r(62435),i=r(64183),c=r(54442),o=r(32983),u=r(86074),l=function(){var e=(0,c.useSelector)((function(e){return e.dash.txHistoryDataSource})),t={data:e,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"number",yAxis:{type:"pow",label:{formatter:function(e){return"".concat(e).replace(/\d{1,3}(?=(\d{3})+$)/g,(function(e){return"".concat(e,",")}))}}},slider:{start:0,end:1},smooth:!0,label:{}};return(0,u.jsx)(u.Fragment,{children:e.length?(0,u.jsx)(i.Z,a()({},t)):(0,u.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})})},p=(0,s.memo)(l),f=r(17061),d=r.n(f),h=r(17156),g=r.n(h),m=r(27424),v=r.n(m),x=r(64119),b=r(9004),y=r(27484),S=r.n(y),k=function(){var e=(0,s.useState)(!1),t=v()(e,2),r=t[0],n=t[1],l=(0,c.useDispatch)(),p=(0,c.useSelector)((function(e){return e.dash.tvlHistoryDataSource})),f=(0,c.useSelector)((function(e){return e.chainList.chainSelect})),h={data:p,xField:"date",xAxis:{type:"time",mask:"MM-DD"},yField:"tvl",yAxis:{type:"pow",label:{formatter:function(e){var t=Number(e);return t>1e3?"".concat(t/1e3," M"):t>1e6?"".concat(t/1e6," B"):"".concat(t," K")}}},slider:{start:0,end:1},smooth:!0,label:{}},m=(0,s.useCallback)(g()(d()().mark((function e(){var t,r,a;return d()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return n(!1)},n(!0),r=[],a="",e.t0=f.chainIdDec,e.next="17777"===e.t0?7:"40"===e.t0?9:"324"===e.t0?11:"23448594291968336"===e.t0?13:"59144"===e.t0?15:"8453"===e.t0?17:19;break;case 7:return a="https://api.llama.fi/v2/historicalChainTvl/eos%20evm",e.abrupt("break",19);case 9:return a="https://api.llama.fi/v2/historicalChainTvl/telos",e.abrupt("break",19);case 11:return a="https://api.llama.fi/v2/historicalChainTvl/zkSync%20Era",e.abrupt("break",19);case 13:return a="https://api.llama.fi/v2/historicalChainTvl/Starknet",e.abrupt("break",19);case 15:return a="https://api.llama.fi/v2/historicalChainTvl/Linea",e.abrupt("break",19);case 17:return a="https://api.llama.fi/v2/historicalChainTvl/Base",e.abrupt("break",19);case 19:return e.next=21,(0,x.Hj)((0,c.request)(a),t);case 21:e.sent.forEach((function(e){r.push({date:S().unix(e.date).format().substring(0,10),tvl:Number((e.tvl/1e3).toFixed(0)),category:"Daily TVL"})})),l(b.N.setTvlHistoryDataSource(r)),localStorage.setItem("tvlHistoryData",JSON.stringify(r)),n(!1);case 26:case"end":return e.stop()}}),e)}))),[l,f]);return(0,s.useEffect)((function(){m()}),[m]),(0,u.jsx)(u.Fragment,{children:p.length?(0,u.jsx)(i.Z,a()(a()({},h),{},{loading:r})):(0,u.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})})},j=(0,s.memo)(k),w=r(52847),D=r(20701),E=r(11924),N=r(79360),Z=r(24770),T=r(79642),M=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},O=(0,s.forwardRef)((function(e,t){var r=e.chartRef,n=e.style,a=void 0===n?{height:"inherit"}:n,i=e.className,c=e.loading,o=e.loadingTemplate,u=e.errorTemplate,l=M(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),p=(0,E.Z)(D.by,l),f=p.chart,d=p.container;return(0,s.useEffect)((function(){(0,N.J)(r,f.current)}),[f.current]),(0,s.useImperativeHandle)(t,(function(){return{getChart:function(){return f.current}}})),s.createElement(Z.Z,{errorTemplate:u},c&&s.createElement(T.Z,{loadingTemplate:o,theme:e.theme}),s.createElement("div",{className:i,style:a,ref:d}))})),I=r(76509),C=function(){var e=(0,c.useDispatch)(),t=(0,c.useSelector)((function(e){return e.dash.tvlDistributionDataSource})),r=(0,s.useState)(!1),n=v()(r,2),i=n[0],l=n[1],p=(0,c.useSelector)((function(e){return e.chainList.chainSelect})),f={data:t,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:210,height:210},h={data:t,angleField:"value",colorField:"type",radius:.9,legend:void 0,label:{content:"{name} {percentage}"},width:350,height:350},m=(0,s.useCallback)((function(e){switch(e){case"Noah Swap":return"Noash";case"Neutroswap":return"Neutro";case"Frogge.Finance":return"Frogge";case"EOSWAP Finance":return"EOSWAP";case"YieldHub Finance":return"YieldHub";default:return e}}),[]),y=(0,s.useCallback)(g()(d()().mark((function t(){var r,n,s,i,o,u;return d()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=function(){return l(!1)},l(!0),n=0,s=[],t.next=6,(0,x.Hj)((0,c.request)("https://api.llama.fi/protocols"),r);case 6:i=t.sent,o="",t.t0=p.chainIdDec,t.next="17777"===t.t0?11:"40"===t.t0?13:"324"===t.t0?15:"23448594291968336"===t.t0?17:"59144"===t.t0?19:"8453"===t.t0?21:23;break;case 11:return o="EOS EVM",t.abrupt("break",23);case 13:return o="Telos",t.abrupt("break",23);case 15:return o="zkSync Era",t.abrupt("break",23);case 17:return o="Starknet",t.abrupt("break",23);case 19:return o="Linea",t.abrupt("break",23);case 21:return o="Base",t.abrupt("break",23);case 23:(i=(i="Base"===o?i.filter((function(e){return e.chains.includes(o)})):i.filter((function(e){return e.chain===o}))).map((function(e){return n+=e.tvl,a()(a()({},e),{},{key:e.id})}))).forEach((function(e){var t=m(e.name);s.push({type:t,value:e.tvl/n})})),u=S()().valueOf(),e(w.N.setDexDataSource(i)),e(w.N.setDexDataTime(u)),e(b.N.setTvlDistributionDataSource(s)),localStorage.setItem("dexData",JSON.stringify({dexDataSource:i,dexDataTime:u})),localStorage.setItem("tvlDistributionData",JSON.stringify(s)),l(!1);case 33:case"end":return t.stop()}}),t)}))),[e,m,p]);return(0,s.useEffect)((function(){y()}),[y]),(0,u.jsx)(I.X.Consumer,{children:function(e){var r=e.isMobile;return t.length?r?(0,u.jsx)(O,a()({loading:i},f)):(0,u.jsx)(O,a()({loading:i},h)):(0,u.jsx)(o.Z,{image:o.Z.PRESENTED_IMAGE_SIMPLE})}})},F=(0,s.memo)(C)},85971:function(e,t,r){var n=(0,r(54442).getDvaApp)()._store;t.Z=n},23284:function(e,t,r){r.r(t);var n=r(17061),a=r.n(n),s=r(17156),i=r.n(s),c=r(27424),o=r.n(c),u=(r(57082),r(87659)),l=r(6466),p=r(95689),f=r(62435),d=r(71230),h=r(15746),g=r(9004),m=r(54442),v=r(68763),x=r(94818),b=r(69716),y=r(86074);t.default=function(){var e=(0,f.useState)(!1),t=o()(e,2),r=t[0],n=t[1],s=(0,m.useDispatch)(),c=(0,m.useSelector)((function(e){return e.dash.chainData})),S=(0,m.useSelector)((function(e){return e.dash.tvlHistoryDataSource})),k=(0,m.useSelector)((function(e){return e.chainList.chainSelect})),j=(0,m.useIntl)(),w=j.formatMessage({id:"dash.gasTracker"}),D=j.formatMessage({id:"dash.averageBlockTime"}),E=j.formatMessage({id:"dash.totalBlocks"}),N=j.formatMessage({id:"dash.walletAddresses"}),Z=j.formatMessage({id:"dash.second"}),T=j.formatMessage({id:"dash.totalValueLocked"}),M=j.formatMessage({id:"dash.change"}),O=j.formatMessage({id:"dash.TvlDistribution"}),I=(0,f.useCallback)(i()(a()().mark((function e(){var t,r,i,c,u,l,p,f,d;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,(0,x.jS)({formatUnits:9});case 3:return t=e.sent,t=Number(t.formatted.gasPrice).toFixed(1)+" Gwei",e.next=7,b.C.init("evmtool",!1);case 7:return e.next=9,b.C.getTableRows({code:"eosio.evm",scope:"eosio.evm",table:"account",limit:1,key_type:"i64",index_position:"1",json:!0,reverse:!0});case 9:if(r=e.sent,i=o()(r,2),c=i[0],u=i[1],!c){e.next=16;break}return console.log(c),e.abrupt("return");case 16:return l="",l=u.rows.length?String(u.rows[0].index+1):"0",p="0.5 ".concat(Z),e.next=21,(0,x.RQ)();case 21:f=e.sent,d={gasTracker:t,dailyTransactions:"0",averageBlockTime:p,totalTransactions:"0",totalBlocks:String(f),walletAddresses:l},s(g.N.setChainData(d)),localStorage.setItem("chainData",JSON.stringify(d)),n(!1);case 26:case"end":return e.stop()}}),e)}))),[s,k,Z]),C=(0,f.useMemo)((function(){if(!S.length)return 0;var e=S.length-1;return 1e3*S[e].tvl}),[S]),F=(0,f.useMemo)((function(){if(!S.length)return 0;var e=S.length-1,t=S.length-2,r=S[e].tvl,n=S[t].tvl;return(r-n)/n*100}),[S]);return(0,f.useEffect)((function(){I()}),[I]),(0,y.jsxs)(u._z,{className:"dash",ghost:!0,children:[(0,y.jsxs)(d.Z,{gutter:8,children:[(0,y.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,y.jsx)(l.Z,{loading:r,title:w,statistic:{value:c.gasTracker}})}),(0,y.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,y.jsx)(l.Z,{loading:r,title:D,statistic:{value:c.averageBlockTime}})}),(0,y.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,y.jsx)(l.Z,{loading:r,title:E,statistic:{value:c.totalBlocks}})}),(0,y.jsx)(h.Z,{lg:{span:"6"},md:{span:"12"},sm:{span:"12"},xs:{span:"12"},children:(0,y.jsx)(l.Z,{loading:r,title:N,statistic:{value:c.walletAddresses}})})]}),!0===k.testNet?(0,y.jsx)(y.Fragment,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:"".concat(T," (USD)"),chart:(0,y.jsx)(v.LR,{}),footer:(0,y.jsxs)("div",{className:"flex justify-around",children:[(0,y.jsx)(p.Z,{prefix:"$",value:C,title:T,layout:"vertical"}),(0,y.jsx)(p.Z,{value:F,title:"".concat(M,"(24h)"),layout:"vertical",suffix:"%",precision:2})]})}),(0,y.jsx)(l.Z,{bodyStyle:{paddingBlock:"8px",paddingInline:"12px"},headStyle:{paddingBlock:"8px",paddingInline:"12px"},title:O,chart:(0,y.jsx)(v.Mx,{})})]})]})}},64119:function(e,t,r){r.d(t,{CE:function(){return m},D0:function(){return b},Hj:function(){return j},IU:function(){return S},Mn:function(){return D},pM:function(){return Z},su:function(){return E},zI:function(){return v}});var n=r(27424),a=r.n(n),s=r(17061),i=r.n(s),c=r(18698),o=r.n(c),u=r(17156),l=r.n(u),p=r(85971),f=r(2453),d=r(9669),h=r.n(d);function g(){return p.Z.getState().global.nodeConfig.url}function m(e,t){var r=t||"",n=e,a=Number(n)<1;if("number"==typeof n&&(n=n.toString()),a){var s=/0\.(0{4,})/,i=/\d+\.0*\d{3}/.exec(n);if(n=i?i[0]:n,i=s.exec(n)){var c=i[1].length;return r+n.replace(s,"0.0{"+c+"}")}return r+n}return r+Number(n).toLocaleString()}function v(e){return x.apply(this,arguments)}function x(){return(x=l()(i()().mark((function e(t){var r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return r=e.sent,e.abrupt("return",[null,r]);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=14;break}return console.log(e.t0),e.abrupt("return",[e.t0.message,null]);case 14:if(console.log(e.t0),"object"!==o()(e.t0)){e.next=19;break}return e.abrupt("return",[JSON.stringify(e.t0),null]);case 19:return e.abrupt("return",[e.t0,null]);case 20:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=l()(i()().mark((function e(t){var r;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=g(),e.next=3,v(h().post("".concat(r,"/v1/chain/get_account"),JSON.stringify(t)));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return k.apply(this,arguments)}function k(){return(k=l()(i()().mark((function e(t,r){var n;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof Error)){e.next=15;break}throw console.log(e.t0),f.ZP.error({content:r||e.t0.message,duration:5}),e.t0;case 15:throw console.log(e.t0),"object"===o()(e.t0)?f.ZP.error({content:r||JSON.stringify(e.t0),duration:5}):f.ZP.error({content:r||e.t0,duration:5}),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function j(e,t,r){return w.apply(this,arguments)}function w(){return(w=l()(i()().mark((function e(t,r,n){var a,s,c;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null!=r?r:function(){},e.prev=1,e.next=4,t;case 4:return s=e.sent,e.abrupt("return",s);case 8:if(e.prev=8,e.t0=e.catch(1),!(e.t0 instanceof Error)){e.next=17;break}throw console.log(e.t0),a(),f.ZP.error({content:n||e.t0.message,duration:5}),e.t0;case 17:throw console.log(e.t0),"object"===o()(e.t0)?(c="",c=e.t0.hasOwnProperty("message")?e.t0.message:JSON.stringify(e.t0),f.ZP.error({content:n||c,duration:5})):f.ZP.error({content:n||e.t0,duration:5}),a(),e.t0;case 21:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function D(){var e=navigator.userAgent;return/mobile/i.test(e)}function E(e){return N.apply(this,arguments)}function N(){return(N=l()(i()().mark((function e(t){var r,n,s,c;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,n=null,e.next=3,v(h().get("".concat(t,"/v1/chain/get_info"),{timeout:1e4}));case 3:return s=e.sent,c=a()(s,2),r=c[0],n=c[1],e.abrupt("return",[r,n]);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!==o()(t)||!t)}catch(e){return!1}}},57082:function(){}}]);